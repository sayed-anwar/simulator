/*!
 * 1DS JSLL SKU, 3.2.3
 * Copyright (c) Microsoft and contributors. All rights reserved.
 * (Microsoft Internal Only)
 */
var e=this,t=function(l){"use strict";var f="function",d="object",fe="undefined",q="prototype",v="hasOwnProperty",C=Object,T=C[q],b=C.assign,I=C.create,E=C.defineProperty,x=T[v],S=null;function B(e){return void 0===e&&(e=!0),S&&e||(typeof globalThis!==fe&&globalThis&&(S=globalThis),typeof self!==fe&&self&&(S=self),typeof window!==fe&&window&&(S=window),typeof global!==fe&&global&&(S=global)),S}function N(e){throw new TypeError(e)}function O(e){if(I)return I(e);if(null==e)return{};var t=typeof e;function n(){}return t!==d&&t!==f&&N("Object prototype may only be an Object:"+e),n[q]=e,new n}(B()||{}).Symbol,(B()||{}).Reflect;var de=b||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])T[v].call(t,i)&&(e[i]=t[i]);return e},w=function(e,t){return(w=C.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[v](n)&&(e[n]=t[n])})(e,t)};function e(e,t){function n(){this.constructor=e}typeof t!==f&&null!==t&&N("Class extends value "+t+" is not a constructor or null"),w(e,t),e[q]=null===t?O(t):(n[q]=t[q],new n)}function M(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var p="",_="processTelemetry",P="priority",D="setNextPlugin",k="isInitialized",L="teardown",A="core",R="update",U="disabled",V="_doTeardown",H="processNext",z="resume",K="pause",t="NotificationListener",j="add"+t,pe="remove"+t,ge="eventsSent",he="eventsDiscarded",ve="eventsSendRequest",me="perfEvent",ye="toISOString",Ce="endsWith",Te="startsWith",be="indexOf",Ie="trim",t="toString",Ee="constructor",xe=E,Se=C.freeze,Ne=C.keys,we=String[q],_e=we[Ie],Pe=we[Ce],De=we[Te],ke=Date[q][ye],we=Array.isArray,Ae=T[t],Oe=x[t],Me=Oe.call(C),Le=/-([a-z])/g,Re=/([^\w\d_$])/g,Ue=/^(\d+[\w\d_$])/,Ve=Object.getPrototypeOf;function He(e){if(e){if(Ve)return Ve(e);e=e.__proto__||e[q]||e[Ee];if(e)return e}return null}function W(e){return e===undefined||typeof e===fe}function G(e){return null===e||W(e)}function qe(e){return!G(e)}function Fe(e,t){return e&&x.call(e,t)}function Be(e){return!(!e||typeof e!==d)}function X(e){return!(!e||typeof e!==f)}function ze(e){var t=e;return e&&J(e)?(t=(t=e.replace(Le,function(e,t){return t.toUpperCase()})).replace(Re,"_")).replace(Ue,function(e,t){return"_"+t}):t}function te(e,t){if(e)for(var n in e)x.call(e,n)&&t.call(e,n,e[n])}function Ke(e,t){var n=!1;if(e&&t&&!(n=e===t)){if(De)return e[Te](t);var r=e,i=t,e=!1,a=i?i.length:0;if(r&&a&&r.length>=a&&!(e=r===i)){for(var o=0;o<a;o++)if(r[o]!==i[o])return!1;e=!0}return e}return n}function g(e,t){return!(!e||!t||!~e.indexOf(t))}var Q=we||function(e){return!(!e||"[object Array]"!==Ae.call(e))};function je(e){return e&&"[object Error]"===Ae.call(e)}function J(e){return"string"==typeof e}function We(e){return"number"==typeof e}function Ge(e){return"boolean"==typeof e}function Xe(e){return e&&"object"==typeof e&&(!(e=(Ve||He)(e))||typeof(e=e[Ee]&&x.call(e,Ee)?e[Ee]:e)===f&&Oe.call(e)===Me)}function Qe(e){if(e){if(ke)return e[ye]();var t;return e&&e.getUTCFullYear?(t=function(e){e=""+e;return 1===e.length?"0"+e:e},e.getUTCFullYear()+"-"+t(1+e.getUTCMonth())+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"):void 0}}function ne(e,t,n){var r=e.length;try{for(var i=0;i<r&&!(i in e&&-1===t.call(n||e,e[i],i,e));i++);}catch(a){}}function Je(e,t,n){if(e){if(e[be])return e[be](t,n);var r=e.length,n=n||0;try{for(var i=Math.max(0<=n?n:r-Math.abs(n),0);i<r;i++)if(i in e&&e[i]===t)return i}catch(a){}}return-1}function Ye(e,t,n){if(e){if(e.map)return e.map(t,n);var r=e.length,i=n||e,a=Array(r);try{for(var o=0;o<r;o++)o in e&&(a[o]=t.call(i,e[o],e))}catch(s){}}return a}function Y(e){return e&&(_e&&e[Ie]?e[Ie]():e.replace?e.replace(/^\s+|\s+$/g,""):e)}var $e=!{toString:null}.propertyIsEnumerable("toString"),Ze=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function et(e){var t=typeof e;if(t===f||t===d&&null!==e||N("objKeys called on non-object"),!$e&&Ne)return Ne(e);var n,r=[];for(n in e)e&&x.call(e,n)&&r.push(n);if($e)for(var i=Ze.length,a=0;a<i;a++)e&&x.call(e,Ze[a])&&r.push(Ze[a]);return r}function re(e,t,n,r){if(xe)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),xe(e,t,i),!0}catch(a){}return!1}function tt(e){return Se&&te(e,function(e,t){(Q(t)||Be(t))&&Se(t)}),nt(e)}var nt=Se||function(e){return e};function rt(){var e=Date;return e.now?e.now():(new e).getTime()}function m(e){return je(e)?e.name:p}function it(e,t,n,r,i){var a=n;!e||(a=e[t])===n||i&&!i(a)||r&&!r(n)||(e[t]=a=n)}function at(e){return!e}function ot(e){return!!e}function st(e){throw Error(e)}function ct(e,t,n,r,i){var a,o,s;e&&t&&n&&(!1===i&&!W(e[t])||(e[t]=(a=r,s=o=null,X(i=n)?o=i:s=i,function(){var e=arguments;if(s=o?o():s)return s[a].apply(s,e)})))}function ut(e){return e&&b?C(b({},e)):e}function lt(){var e=arguments,t=e[0]||{},n=e.length,r=!1,i=1;for(0<n&&Ge(t)&&(r=t,t=e[i]||{},i++),Be(t)||(t={});i<n;i++){var a,o,s,c,u=e[i],l=Q(u),f=Be(u);for(a in u)(l&&a in u||f&&x.call(u,a))&&(o=u[a],s=void 0,r&&o&&((s=Q(o))||Xe(o))&&(c=t[a],s?Q(c)||(c=[]):Xe(c)||(c={}),o=lt(r,c,o)),o!==undefined&&(t[a]=o))}return t}function ft(e){var n={};return te(e,function(e,t){n[e]=t,n[t]=e}),tt(n)}function n(e){var n={};return te(e,function(e,t){n[e]=t[1],n[t[0]]=t[1]}),tt(n)}var dt=ft({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),pt="constructor",gt="prototype",ht="function",vt="_dynInstFuncs",mt="_isDynProxy",yt="_dynClass",Ct="_dynInstChk",Tt=Ct,bt="_dfOpts",It="_unknown_",Et="__proto__",xt="_dyn"+Et,St="_dynInstProto",Nt="useBaseInst",wt="setInstFuncs",_t=Object,Pt=_t.getPrototypeOf,Dt=_t.getOwnPropertyNames,kt=0;function At(e,t){return e&&_t[gt].hasOwnProperty.call(e,t)}function Ot(e){return e&&(e===_t[gt]||e===Array[gt])}function Mt(e){return Ot(e)||e===Function[gt]}function Lt(e){if(e){if(Pt)return Pt(e);var t=e[Et]||e[gt]||(e[pt]?e[pt][gt]:null),n=e[xt]||t;At(e,xt)||(delete e[St],n=e[xt]=e[St]||e[xt],e[St]=t)}return n}function Rt(e,t){var n=[];if(Dt)n=Dt(e);else for(var r in e)"string"==typeof r&&At(e,r)&&n.push(r);if(n&&0<n.length)for(var i=0;i<n.length;i++)t(n[i])}function Ut(e,t,n){return t!==pt&&typeof e[t]===ht&&(n||At(e,t))}function Vt(e){throw new TypeError("DynamicProto: "+e)}function Ht(e,t){for(var n=e.length-1;0<=n;n--)if(e[n]===t)return 1}function qt(e,t){return At(e,gt)?e.name||t||It:((e||{})[pt]||{}).name||t||It}function ie(e,r,t,n){At(e,gt)||Vt("theClass is an invalid class definition.");var i,a,o,s,c,u,l=e[gt],f=(function(e){if(!Pt)return 1;for(var t=[],n=Lt(r);n&&!Mt(n)&&!Ht(t,n);){if(n===e)return 1;t.push(n),n=Lt(n)}}(l)||Vt("["+qt(e)+"] is not in class hierarchy of ["+qt(r)+"]"),null),e=(At(l,yt)?f=l[yt]:(f="_dynCls$"+qt(e,"_")+"$"+kt,kt++,l[yt]=f),ie[bt]),d=!!e[Nt],p=(d&&n&&n[Nt]!==undefined&&(d=!!n[Nt]),a={},Rt(i=r,function(e){!a[e]&&Ut(i,e,!1)&&(a[e]=i[e])}),a),d=(t(r,function(e,t,n,a){function r(e,t,n){var r,i=t[n];return i[mt]&&a&&!1!==(r=e[vt]||{})[Tt]&&(i=(r[t[yt]]||{})[n]||i),function(){return i.apply(e,arguments)}}for(var i={},o=(Rt(n,function(e){i[e]=r(t,n,e)}),Lt(e)),s=[];o&&!Mt(o)&&!Ht(s,o);)Rt(o,function(e){!i[e]&&Ut(o,e,!Pt)&&(i[e]=r(t,o,e))}),s.push(o),o=Lt(o);return i}(l,r,p,d)),!!Pt&&!!e[wt]);o=l,t=f,s=r,c=p,e=!1!==(d=d&&n?!!n[wt]:d),Ot(o)||(l=s[vt]=s[vt]||{},u=l[t]=l[t]||{},!1!==l[Tt]&&(l[Tt]=!!e),Rt(s,function(e){var n,r,i;Ut(s,e,!1)&&s[e]!==c[e]&&(u[e]=s[e],delete s[e],At(o,e)&&(!o[e]||o[e][mt])||(o[e]=(n=o,r=e,(i=function(){var e,t;return(function(e,t,n,r){var i=null;if(e&&At(n,yt)){var a=e[vt]||{};if((i=(a[n[yt]]||{})[t])||Vt("Missing ["+t+"] "+ht),!i[Ct]&&!1!==a[Tt]){for(var o=!At(e,t),s=Lt(e),c=[];o&&s&&!Mt(s)&&!Ht(c,s);){var u=s[t];if(u){o=u===r;break}c.push(s),s=Lt(s)}try{o&&(e[t]=i),i[Ct]=1}catch(l){a[Tt]=!1}}}return i}(this,r,n,i)||(typeof(t=(t=n[e=r])===i?Lt(n)[e]:t)!==ht&&Vt("["+e+"] is not a "+ht),t)).apply(this,arguments)})[mt]=1,i)))}))}var Ft="window",Bt="document",zt="documentMode",Kt="navigator",jt="location",Wt="console",Gt="performance",Xt="JSON",Qt="crypto",Jt="msCrypto",Yt="ReactNative",$t="msie",Zt="trident/",en="XMLHttpRequest",tn=null,nn=null,rn=!(ie[bt]={setInstFuncs:!0,useBaseInst:!0}),an=null,on=null;function sn(e,t){var n,r=!1;if(e){try{(r=t in e)||(n=e[q])&&(r=t in n)}catch(i){}if(!r)try{r=!W((new e)[t])}catch(i){}}return r}function ae(e){var t=B();return t&&t[e]?t[e]:e===Ft&&cn()?window:null}function cn(){return typeof window===d&&window}function oe(){return cn()?window:ae(Ft)}function un(){return typeof document===d&&document}function se(){return un()?document:ae(Bt)}function ln(){return!(typeof navigator!==d||!navigator)}function fn(){return ln()?navigator:ae(Kt)}function dn(){return typeof history===d&&history}function $(e){if(e&&rn){e=ae("__mockLocation");if(e)return e}return typeof location===d&&location?location:ae(jt)}function pn(){return ae(Gt)}function gn(){return typeof JSON===d&&JSON||null!==ae(Xt)}function hn(){return gn()?JSON||ae(Xt):null}function vn(){var e=fn();return e&&e.product&&e.product===Yt}function mn(){var e=fn();return!e||e.userAgent===nn&&null!==tn||(e=((nn=e.userAgent)||p).toLowerCase(),tn=g(e,$t)||g(e,Zt)),tn}function Z(e){var t=Object[q].toString.call(e),n=p;return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":gn()&&(n=hn().stringify(e)),t+n}function yn(){return on=null===on?ln()&&!!fn().sendBeacon:on}function Cn(){return an=null===an&&(an=typeof XDomainRequest!==fe)&&Tn()?an&&!sn(ae(en),"withCredentials"):an}function Tn(){var e=!1;try{e=!!ae(en)}catch(t){}return e}var bn,In=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],En=null;function xn(e){var t=En;return(t=t||!0===e.disableDbgExt?t:En||(e=ae("Microsoft"),En=e?e.ApplicationInsights:En))?t.ChromeDbgExt:null}function Sn(e){return e?'"'+e.replace(/\"/g,p)+'"':p}function Nn(e,t){var n,r=typeof console!==fe?console:ae(Wt);r&&(n="log",X(r[n=r[e]?e:n])&&r[n](t))}_n.dataType="MessageData";var wn=_n;function _n(e,t,n,r){void 0===n&&(n=!1),this.messageId=e,this.message=(n?"AI: ":"AI (Internal): ")+e;n=p,gn()&&(n=hn().stringify(r)),e=(t?" message:"+Sn(t):p)+(r?" props:"+Sn(n):p);this.message+=e}function Pn(e,t){return(e||{}).logger||new Dn(t)}var Dn=function df(r){this.identifier="DiagnosticLogger",this.queue=[];var i=0,s={};ie(df,this,function(a){function e(e,t){e=r[e];return G(e)?t:e}function o(e,t){var n=xn(r);n&&n.diagLog&&n.diagLog(e,t)}G(r)&&(r={}),a.consoleLoggingLevel=function(){return e("loggingLevelConsole",0)},a.telemetryLoggingLevel=function(){return e("loggingLevelTelemetry",1)},a.maxInternalMessageLimit=function(){return e("maxMessageLimit",25)},a.enableDebugExceptions=function(){return e("enableDebugExceptions",!1)},a.throwInternal=function(e,t,n,r,i){t=new wn(t,n,i=void 0!==i&&i,r);if(a.enableDebugExceptions())throw Z(t);n=1===e?"errorToConsole":"warnToConsole";W(t.message)?o("throw"+(1===e?"Critical":"Warning"),t):(r=a.consoleLoggingLevel(),i?(i=+t.messageId,!s[i]&&e<=r&&(a[n](t.message),s[i]=!0)):e<=r&&a[n](t.message),a.logInternalMessage(e,t))},a.warnToConsole=function(e){Nn("warn",e),o("warning",e)},a.errorToConsole=function(e){Nn("error",e),o("error",e)},a.resetInternalMessageCount=function(){i=0,s={}},a.logInternalMessage=function(e,t){var n,r;i>=a.maxInternalMessageLimit()||(r=!0,n="AITR_"+t.messageId,s[n]?r=!1:s[n]=!0,r&&(e<=a.telemetryLoggingLevel()&&(a.queue.push(t),i++,o(1===e?"error":"warn",t)),i===a.maxInternalMessageLimit()&&(r=new wn(23,n="Internal events throttle limit per PageView reached for this app.",!1),a.queue.push(r),1===e?a.errorToConsole(n):a.warnToConsole(n))))}})};function ce(e,t,n,r,i,a){void 0===a&&(a=!1),(e||new Dn).throwInternal(t,n,r,i,a)}function kn(e,t){(e||new Dn).warnToConsole(t)}On.ParentContextKey="parent",On.ChildrenContextKey="childEvts";var An=On;function On(e,i,t){var n,a=this,o=!1;a.start=rt(),a.name=e,a.isAsync=t,a.isChildEvt=function(){return!1},X(i)&&(o=re(a,"payload",function(){return!n&&X(i)&&(n=i(),i=null),n})),a.getCtx=function(e){return e?(e===On.ParentContextKey||e===On.ChildrenContextKey?a:a.ctx||{})[e]:null},a.setCtx=function(e,t){e&&(e===On.ParentContextKey?(a[e]||(a.isChildEvt=function(){return!0}),a[e]=t):e===On.ChildrenContextKey?a[e]=t:(a.ctx=a.ctx||{})[e]=t)},a.complete=function(){var e=0,t=a.getCtx(On.ChildrenContextKey);if(Q(t))for(var n=0;n<t.length;n++){var r=t[n];r&&(e+=r.time)}a.time=rt()-a.start,a.exTime=a.time-e,a.complete=function(){},!o&&X(i)&&(a.payload=i())}}var Mn=function pf(t){this.ctx={},ie(pf,this,function(n){n.create=function(e,t,n){return new An(e,t,n)},n.fire=function(e){e&&(e.complete(),t&&X(t.perfEvent)&&t.perfEvent(e))},n.setCtx=function(e,t){e&&((n.ctx=n.ctx||{})[e]=t)},n.getCtx=function(e){return(n.ctx||{})[e]}})},Ln="CoreUtils.doPerf";function Rn(e,t,n,r,i){if(e)if(e=X(e.getPerfMgr)?e.getPerfMgr():e){var a,o=void 0,s=e.getCtx(Ln);try{if(o=e.create(t(),r,i))return s&&o.setCtx&&(o.setCtx(An.ParentContextKey,s),s.getCtx&&s.setCtx&&((a=s.getCtx(An.ChildrenContextKey))||(a=[],s.setCtx(An.ChildrenContextKey,a)),a.push(o))),e.setCtx(Ln,o),n(o)}catch(c){o&&o.setCtx&&o.setCtx("exception",c)}finally{o&&e.fire(o),e.setCtx(Ln,s)}}return n()}var Un=4294967296,Vn=4294967295,Hn=!1,qn=123456789,Fn=987654321;function Bn(e){var t,n=0,r=ae(Qt)||ae(Jt);if(0===(n=r&&r.getRandomValues?r.getRandomValues(new Uint32Array(1))[0]&Vn:n)&&mn()){if(!Hn)try{var i=2147483647&rt();(t=(Math.random()*Un^i)+i)<0&&(t>>>=0),qn=123456789+t&Vn,Fn=987654321-t&Vn,Hn=!0}catch(a){}r=((Fn=36969*(65535&Fn)+(Fn>>16)&Vn)<<16)+(65535&(qn=18e3*(65535&qn)+(qn>>16)&Vn))>>>0&Vn|0,n=(r>>>=0)&Vn}return 0===n&&(n=Math.floor(Un*Math.random()|0)),e||(n>>>=0),n}function zn(e){void 0===e&&(e=22);for(var t=Bn()>>>0,n=0,r=p;r.length<e;)r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[0|63&t]||"",t>>>=6,5==++n&&(t=(Bn()<<2&4294967295|3&t)>>>0,n=0);return r}var Kn=E,jn="2.8.4",Wn="."+zn(6),Gn=0;function Xn(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function Qn(e,t){return ze(e+Gn+++((t=void 0!==t&&t)?"."+jn:"")+Wn)}function Jn(e){var a={id:Qn("_aiData-"+(e||"")+"."+jn),accept:Xn,get:function(e,t,n,r){var i=e[a.id];return i?i[ze(t)]:(r&&((i=function(e,t){var n=t[e.id];if(!n){n={};try{Xn(t)&&!function(e,t,n){if(Kn)try{return Kn(e,t,{value:n,enumerable:!1,configurable:!0}),1}catch(r){}}(t,e.id,n)&&(t[e.id]=n)}catch(r){}}return n}(a,e))[ze(t)]=n),n)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch(n){}}};return a}var Yn="toGMTString",$n="toUTCString",Zn="cookie",er="expires",tr="enabled",nr="isCookieUseDisabled",rr="disableCookiesUsage",ir="_ckMgr",ar=null,or=null,sr=null,cr=se(),ur={},lr={};function fr(e){return!e||e.isEnabled()}function y(e,t){var n,r;return e?n=e.getCookieMgr():t&&(n=t.cookieCfg[ir]||dr(t)),n||(e=(e||{}).logger,(r=dr[ir]||lr[ir])||(r=dr[ir]=dr(t,e),lr[ir]=r),n=r),n}function dr(e,i){it(n=(e=e||lr).cookieCfg=e.cookieCfg||{},"domain",e.cookieDomain,qe,G),it(n,"path",e.cookiePath||"/",null,G),G(n[tr])&&(t=void 0,W(e[nr])||(t=!e[nr]),W(e[rr])||(t=!e[rr]),n[tr]=t);var t,n,u=n,l=u.path||"/",f=u.domain,r=!1!==u[tr],d={isEnabled:function(){var e=r&&pr(i),t=lr[ir];return e&&t&&d!==t?fr(t):e},setEnabled:function(e){r=!1!==e},set:function(e,t,n,r,i){var a,o,s,c=!1;return fr(d)&&(a={},-1!=(s=(o=Y(t||p)).indexOf(";"))&&(o=Y(t.substring(0,s)),a=gr(t.substring(1+s))),it(a,"domain",r||f,ot,W),G(n)||(s=mn(),W(a[er])&&0<(t=rt()+1e3*n)&&((r=new Date).setTime(t),it(a,er,hr(r,s?Yn:$n)||hr(r,s?Yn:$n)||p,ot)),s||it(a,"max-age",p+n,null,W)),(t=$())&&"https:"===t.protocol&&(it(a,"secure",null,null,W),(or=null===or?!(J(r=(fn()||{}).userAgent)&&(g(r,"CPU iPhone OS 12")||g(r,"iPad; CPU OS 12")||g(r,"Macintosh; Intel Mac OS X 10_14")&&g(r,"Version/")&&g(r,"Safari")||g(r,"Macintosh; Intel Mac OS X 10_14")&&function(e,t){var n=!1;if(!e||(n=e===t))return n;if(Pe)return e[Ce](t);var r=e,i=t,n=!1,e=r?r.length:0;if(e&&40<=e&&!(n=r===i)){for(var a=e-1,o=39;0<=o;o--){if(r[a]!=i[o])return;a--}n=!0}return n}(r,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||g(r,"Chrome/5")||g(r,"Chrome/6")||g(r,"UnrealEngine")&&!g(r,"Chrome")||g(r,"UCBrowser/12")||g(r,"UCBrowser/11"))):or)&&it(a,"SameSite","None",null,W)),it(a,"path",i||l,null,W),(u.setCookie||mr)(e,vr(o,a)),c=!0),c},get:function(e){var t=p;return fr(d)?(u.getCookie||function(e){var t,n=p;return cr&&(t=cr[Zn]||p,sr!==t&&(ur=gr(t),sr=t),n=Y(ur[e]||p)),n})(e):t},del:function(e,t){return!!fr(d)&&d.purge(e,t)},purge:function(e,t){var n,r=!1;return pr(i)&&((n={}).path=t||"/",n[er]="Thu, 01 Jan 1970 00:00:01 GMT",t=n,mn()||(t["max-age"]="0"),(u.delCookie||mr)(e,vr(p,t)),r=!0),r}};return d[ir]=d}function pr(e){if(null===ar){ar=!1;try{ar=(cr||{})[Zn]!==undefined}catch(t){ce(e,2,68,"Cannot access document.cookie - "+m(t),{exception:Z(t)})}}return ar}function gr(e){var n={};return e&&e.length&&ne(Y(e).split(";"),function(e){var t;(e=Y(e||p))&&(-1==(t=e.indexOf("="))?n[e]=null:n[Y(e.substring(0,t))]=Y(e.substring(1+t)))}),n}function hr(e,t){return X(e[t])?e[t]():null}function vr(e,t){var n=e||p;return te(t,function(e,t){n+="; "+e+(G(t)?p:"="+t)}),n}function mr(e,t){cr&&(cr[Zn]=e+"="+t)}var yr="on",Cr="attachEvent",Tr="addEventListener",br="detachEvent",Ir="removeEventListener",Er="events",xr="visibilitychange",Sr="pagehide",Nr="pageshow",wr="unload",_r="beforeunload",Pr=Qn("aiEvtPageHide"),Dr=Qn("aiEvtPageShow"),kr=/\.[\.]+/g,Ar=/[\.]+$/,Or=1,Mr=Jn("events"),Lr=/^([^.]*)(?:\.(.+)|)/;function Rr(e){return e&&e.replace?e.replace(/^\s*\.*|\.*\s*$/g,""):e}function Ur(e,t){t&&(n="",Q(t)?(n="",ne(t,function(e){(e=Rr(e))&&("."!==e[0]&&(e="."+e),n+=e)})):n=Rr(t),n&&(e=(e||"")+(n="."!==n[0]?"."+n:n)));var n,t=Lr.exec(e||"")||[];return{type:t[1],ns:(t[2]||"").replace(kr,".").replace(Ar,"").split(".").sort().join(".")}}function Vr(e,t,n){e=Mr.get(e,Er,{},n=void 0===n||n);return e[t]||(e[t]=[])}function Hr(e,t,n,r){e&&t&&t.type&&(e[Ir]?e[Ir](t.type,n,r):e[br]&&e[br](yr+t.type,n))}function qr(e,t,n,r){for(var i=t.length;i--;){var a=t[i];!a||n.ns&&n.ns!==a.evtName.ns||r&&!r(a)||(Hr(e,a.evtName,a.handler,a.capture),t.splice(i,1))}}function Fr(e,t){return t?Ur("xx",Q(t)?[e].concat(t):[e,t]).ns.split("."):e}function ee(e,t,n,r,i){void 0===i&&(i=!1);var a,o=!1;if(e)try{var s,c=Ur(t,r),u=c,l=n,f=i,d=!1;(a=e)&&u&&u.type&&l&&(a[Tr]?(a[Tr](u.type,l,f),d=!0):a[Cr]&&(a[Cr](yr+u.type,l),d=!0)),(o=d)&&Mr.accept(e)&&(s={guid:Or++,evtName:c,handler:n,capture:i},Vr(e,c.type).push(s))}catch(p){}return o}function Br(e,t,n,r,i){if(void 0===i&&(i=!1),e)try{var a=Ur(t,r),o=!1,s=e,c=function(e){return!((!a.ns||n)&&e.handler!==n)&&(o=!0)};(u=a).type?qr(s,Vr(s,u.type),u,c):(te(l=Mr.get(s,Er,{}),function(e,t){qr(s,t,u,c)}),0===et(l).length&&Mr.kill(s,Er)),o||Hr(e,a,n,i)}catch(f){}var u,l}function zr(e,a,o,s){var c=!1;return a&&e&&0<e.length&&ne(e,function(e){var t,n,r,i;!e||o&&-1!==Je(o,e)||(e=e,t=a,n=s,r=!1,(i=oe())&&(r=ee(i,e,t,n),r=ee(i.body,e,t,n)||r),i=se(),c=(r=i&&ee(i,e,t,n)||r)||c)}),c}function Kr(e,i,a){e&&Q(e)&&ne(e,function(e){var t,n,r;e&&(e=e,t=i,n=a,(r=oe())&&(Br(r,e,t,n),Br(r.body,e,t,n)),(r=se())&&Br(r,e,t,n))})}function jr(e,t,n){var r=[_r,wr,Sr];(e=e)&&r&&Q(r)&&!zr(r,e,t,n)&&t&&0<t.length&&zr(r,e,null,n)}function Wr(e,t){Kr([_r,wr,Sr],e,t)}function Gr(n,e,t){var r=Fr(Pr,t),i=zr([Sr],n,e,r);return!(i=(!e||-1===Je(e,xr))&&zr([xr],function(e){var t=se();n&&t&&"hidden"===t.visibilityState&&n(e)},e,r)||i)&&e?Gr(n,null,t):i}function Xr(e,t){t=Fr(Pr,t);Kr([Sr],e,t),Kr([xr],null,t)}function Qr(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(Yr,function(e){var t=0|Math.floor(Bn()/Vn*16)>>>0;return("x"===e?t:3&t|8).toString(16)})}function Jr(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n=p,r=0;r<4;r++)n+=t[15&(e=Bn())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var i=t[8+(3&Bn())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+i+n.substr(16,3)+n.substr(19,12)}var Yr=/[xy]/g,$r="00",Zr="ff",ei="00000000000000000000000000000000",ti="0000000000000000";function ni(e,t,n){return e&&e.length===t&&e!==n&&e.match(/^[\da-f]*$/)}function ri(e,t,n){return ni(e,t)?e:n}function ii(e,t,n,r){return{version:ni(r,2,Zr)?r:$r,traceId:ai(e)?e:Jr(),spanId:oi(t)?t:Jr().substr(0,16),traceFlags:0<=n&&n<=255?n:1}}function ai(e){return ni(e,32,ei)}function oi(e){return ni(e,16,ti)}function si(e){var t,n;return e?(ni(t=function(e){for(var t=(e=isNaN(e)||e<0||255<e?1:e).toString(16);t.length<2;)t="0"+t;return t}(e.traceFlags),2)||(t="01"),n=e.version||$r,"".concat(n="00"!==n&&"ff"!==n?$r:n,"-").concat(ri(e.traceId,32,ei),"-").concat(ri(e.spanId,16,ti),"-").concat(t)):""}var ci=Jn("plugin");function ui(e){return ci.get(e,"state",{},!0)}function li(n,r){for(var i,e=[],t=null,a=n.getNext();a;){var o=a.getPlugin();o&&(t&&X(t[D])&&X(o[_])&&t[D](o),(X(o[k])?o[k]():(i=ui(o))[k])||e.push(o),t=o,a=a.getNext())}ne(e,function(e){var t=n.core();e.initialize(n.getCfg(),t,r,n.getNext()),i=ui(e),e[A]||i[A]||(i[A]=t),i[k]=!0,delete i[L]})}function fi(e){return e.sort(function(e,t){var n,r=0;return t?(n=X(t[_]),X(e[_])?r=n?e[P]-t[P]:1:n&&(r=-1)):r=e?1:-1,r})}var di="TelemetryPluginChain",pi="_hasRun",gi="_getTelCtx",hi=0;function vi(e,o,n,t){var r=null,i=[],a=(null!==t&&(r=t?function(e,t,n){for(;e;){if(e.getPlugin()===n)return e;e=e.getNext()}return Ti([n],t.config||{},t)}(e,n,t):e),{_next:function(){var e,t=r;return r=t?t.getNext():null,t||(e=i)&&0<e.length&&(ne(e,function(e){try{e.func.call(e.self,e.args)}catch(t){ce(n.logger,2,73,"Unexpected Exception during onComplete - "+Z(t))}}),i=[]),t},ctx:{core:function(){return n},diagLog:function(){return Pn(n,o)},getCfg:function(){return o},getExtCfg:s,getConfig:function(e,t,n){void 0===n&&(n=!1);var r,e=s(e,null);return e&&!G(e[t])?r=e[t]:o&&!G(o[t])&&(r=o[t]),G(r)?n:r},hasNext:function(){return!!r},getNext:function(){return r},setNext:function(e){r=e},iterate:function(e){for(;t=a._next();){var t=t.getPlugin();t&&e(t)}},onComplete:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];e&&i.push({func:e,self:W(t)?a.ctx:t,args:n})}}});function s(e,t,n){var r,i,a;return void 0===t&&(t={}),void 0===n&&(n=0),(r=o&&(i=o.extensionConfig)&&e?i[e]:r)?Be(t)&&0!==n&&(a=lt(!0,t,r),o&&2===n&&te(t,function(e){var t;G(a[e])&&!G(t=o[e])&&(a[e]=t)}),r=a):r=t,r}return a}function mi(e,n,r,t){var i=vi(e,n,r,t),a=i.ctx;return a.processNext=function(e){var t=i._next();return t&&t.processTelemetry(e,a),!t},a.createNew=function(e,t){return mi((e=Q(e=void 0===e?null:e)?Ti(e,n,r,t):e)||a.getNext(),n,r,t)},a}function yi(e,n,t){var r=n.config||{},i=vi(e,r,n,t),a=i.ctx;return a.processNext=function(e){var t=i._next();return t&&t.unload(a,e),!t},a.createNew=function(e,t){return yi((e=Q(e=void 0===e?null:e)?Ti(e,r,n,t):e)||a.getNext(),n,t)},a}function Ci(e,n,t){var r=n.config||{},i=vi(e,r,n,t).ctx;return i.processNext=function(t){return i.iterate(function(e){X(e.update)&&e.update(i,t)})},i.createNew=function(e,t){return Ci((e=Q(e=void 0===e?null:e)?Ti(e,r,n,t):e)||i.getNext(),n,t)},i}function Ti(e,t,n,r){var i,a=null,o=!r;return Q(e)&&0<e.length&&(i=null,ne(e,function(e){(o=!o&&r===e||o)&&e&&X(e.processTelemetry)&&(e=bi(e,t,n),a=a||e,i&&i._setNext(e),i=e)})),r&&!a?Ti([r],t,n):a}function bi(c,r,i){var u=null,a=X(c.processTelemetry),o=X(c.setNextPlugin),l=c?c.identifier+"-"+c.priority+"-"+hi++:"Unknown-0-"+hi++,s={getPlugin:function(){return c},getNext:function(){return u},processTelemetry:function(n,e){var t;f(e=e||(t=(t=c&&X(c[gi])?c[gi]():t)||mi(s,r,i)),function(e){if(!c||!a)return!1;var t=ui(c);return!t.teardown&&!t[U]&&(o&&c.setNextPlugin(u),c.processTelemetry(n,e),!0)},"processTelemetry",function(){return{item:n}},!n.sync)||e.processNext(n)},unload:function(r,i){f(r,function(){var e,t,n=!1;return c&&(e=ui(c),t=c[A]||e.core,!c||t&&t!==r[A]()||e[L]||(e[A]=null,e[L]=!0,e[k]=!1,c[L]&&!0===c[L](r,i)&&(n=!0))),n},"unload",function(){},i.isAsync)||r.processNext(i)},update:function(r,i){f(r,function(){var e,t,n=!1;return c&&(e=ui(c),t=c[A]||e.core,!c||t&&t!==r[A]()||e[L]||c[R]&&!0===c[R](r,i)&&(n=!0)),n},"update",function(){},!1)||r.processNext(i)},_id:l,_setNext:function(e){u=e}};function f(n,r,i,e,t){var a=!1,o=c?c.identifier:di,s=(s=n[pi])||(n[pi]={});return n.setNext(u),c&&Rn(n[A](),function(){return o+":"+i},function(){s[l]=!0;try{var e=u?u._id:p;e&&(s[e]=!1),a=r(n)}catch(t){e=!u||s[u._id];e&&(a=!0),u&&e||ce(n.diagLog(),1,73,"Plugin ["+o+"] failed during "+i+" - "+Z(t)+", run flags: "+Z(s))}},e,t),a}return nt(s)}var Ii="extensionConfig",Ei=500,xi="Channel has invalid priority - ";function Si(e,t,n,r){t&&Q(t)&&0<t.length&&(ne(t=t.sort(function(e,t){return e.priority-t.priority}),function(e){e.priority<Ei&&st(xi+e.identifier)}),e.push({queue:nt(t),chain:Ti(t,n,r)}))}function Ni(){var t=[];return{add:function(e){e&&t.push(e)},run:function(n,r){ne(t,function(e){try{e(n,r)}catch(t){ce(n.diagLog(),2,73,"Unexpected error calling unload handler - "+Z(t))}}),t=[]}}}var wi,_i="getPlugin",t=function gf(){var i,a,u,l,f,o=this;function t(e){var t,e=e=void 0===e?null:e;return e||(t=a||mi(null,{},o.core),e=u&&u[_i]?t.createNew(null,u[_i]):t.createNew(null,u)),e}function s(e,t,n){e&&it(e,Ii,[],null,G),!n&&t&&(n=t.getProcessTelContext().getNext());var r=u;u&&u[_i]&&(r=u[_i]()),o.core=t,a=mi(n,e,t,r)}function d(){i=!1,o.core=null,u=a=null,f=[],l=Ni()}d(),ie(gf,o,function(c){c.initialize=function(e,t,n,r){s(e,t,r),i=!0},c.teardown=function(e,t){var n,r,i,a,o=c.core;if(o&&(!e||o===e.core()))return r=!1,i=e||yi(null,o,u&&u[_i]?u[_i]():u),a=t||{reason:0,isAsync:!1},c[V]&&!0===c[V](i,a,s)?n=!0:s(),n;function s(){r||(r=!0,l.run(i,t),ne(f,function(e){e.rm()}),f=[],!0===n&&i.processNext(a),d())}},c.update=function(e,t){var n,r,i,a=c.core;if(a&&(!e||a===e.core()))return r=!1,i=e||Ci(null,a,u&&u[_i]?u[_i]():u),c._doUpdate&&!0===c._doUpdate(i,t||{reason:0},o)?n=!0:o(),n;function o(){r||(r=!0,s(i.getCfg(),i.core(),i.getNext()))}},c._addHook=function(e){e&&(Q(e)?f=f.concat(e):f.push(e))},ct(c,"_addUnloadCb",function(){return l},"add")}),o.diagLog=function(e){return t(e).diagLog()},o[k]=function(){return i},o.setInitialized=function(e){i=e},o[D]=function(e){u=e},o.processNext=function(e,t){t?t.processNext(e):u&&X(u.processTelemetry)&&u.processTelemetry(e,null)},o._getTelCtx=t},Pi=(e(Di,wi=t),Di);function Di(){var t,c,e=wi.call(this)||this;function n(){t=0,c=[]}return e.identifier="TelemetryInitializerPlugin",e.priority=199,n(),ie(Di,e,function(s,e){s.addTelemetryInitializer=function(e){var n={id:t++,fn:e};return c.push(n),{remove:function(){ne(c,function(e,t){if(e.id===n.id)return c.splice(t,1),-1})}}},s.processTelemetry=function(e,t){for(var n=!1,r=c.length,i=0;i<r;++i){var a=c[i];if(a)try{if(!1===a.fn.call(null,e)){n=!0;break}}catch(o){ce(t.diagLog(),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+m(o),{exception:Z(o)},!0)}}n||s.processNext(e,t)},s[V]=function(){n()}}),e}var ki="Plugins must provide initialize method",Ai="_notificationManager",Oi="SDK is still unloading...",Mi={loggingLevelConsole:1};function Li(e,t){return new Mn(t)}function Ri(t,e){var n=!1;return ne(e,function(e){if(e===t)return n=!0,-1}),n}function Ui(e,n,r,i){ne(e,function(e){if(e&&e[n])if(r)setTimeout(function(){return i(e)},0);else try{i(e)}catch(t){}})}var Vi,Hi=function hf(e){this.listeners=[];var n=!!(e||{}).perfEvtsSendAll;ie(hf,this,function(r){r[j]=function(e){r.listeners.push(e)},r[pe]=function(e){for(var t=Je(r.listeners,e);-1<t;)r.listeners.splice(t,1),t=Je(r.listeners,e)},r[ge]=function(t){Ui(r.listeners,ge,!0,function(e){e[ge](t)})},r[he]=function(t,n){Ui(r.listeners,he,!0,function(e){e[he](t,n)})},r[ve]=function(t,n){Ui(r.listeners,ve,n,function(e){e[ve](t,n)})},r[me]=function(t){!t||!n&&t.isChildEvt()||Ui(r.listeners,me,!1,function(e){t.isAsync?setTimeout(function(){return e[me](t)},0):e[me](t)})}})},we=(e(qi,Vi=function vf(){var d,i,p,a,g,h,T,b,I,E,x,S,v,N,w,_,P,D,k,A=0;ie(vf,this,function(m){var t,n,e;function o(){d=!1,m.config=lt(!0,{},Mi),m.logger=new Dn(m.config),m._extensions=[],N=new Pi,i=[],v=!(b=[]),_=Qn("AIBaseCore",!(w=S=x=E=I=T=h=g=a=p=null)),P=Ni(),k=null}function y(){return mi(C(),m.config,m)}function c(e,t){r=m.logger,i=Ei,a=[],o={},ne(g=b,function(e){(G(e)||G(e.initialize))&&st(ki);var t=e.priority,n=e.identifier;e&&t&&(G(o[t])?o[t]=n:kn(r,"Two extensions have same priority #"+t+" - "+o[t]+", "+n)),(!t||t<i)&&a.push(e)});var r,i,a,o,n,s,c,u,l,f,d,p,g={all:g,core:a},g=(I=g.core,T=null,g.all);function h(){return mi(null,f.config,f,null)}function v(e,t,n,r){var i=e?e.length+1:1;function a(){0==--i&&(r&&r(),r=null)}0<i&&ne(e,function(e){e&&0<e.queue.length?(e=e.chain,(e=t.createNew(e)).onComplete(a),n(e)):i--}),a()}S=nt((d=g,n=e,s=m,u=[],x&&ne(x,function(e){return Si(u,e,n,s)}),d&&(c=[],ne(d,function(e){e.priority>Ei&&c.push(e)}),Si(u,c,n,s)),u)),E?(-1!==(d=Je(g,E))&&g.splice(d,1),-1!==(d=Je(I,E))&&I.splice(d,1),E._setQueue(S)):(l=S,f=m,p=!1,(d={identifier:"ChannelControllerPlugin",priority:Ei,initialize:function(t,n,r,e){p=!0,ne(l,function(e){e&&0<e.queue.length&&li(mi(e.chain,t,n),r)})},isInitialized:function(){return p},processTelemetry:function(t,e){v(l,e||h(),function(e){e[H](t)},function(){e[H](t)})},update:function(e,t){var n=t||{reason:0};return v(l,e,function(e){e[H](n)},function(){e[H](n)}),!0}})[K]=function(){v(l,h(),function(e){e.iterate(function(e){e[K]&&e[K]()})},null)},d[z]=function(){v(l,h(),function(e){e.iterate(function(e){e[z]&&e[z]()})},null)},d[L]=function(e,t){var n=t||{reason:0,isAsync:!1};return v(l,e,function(e){e[H](n)},function(){e[H](n),p=!1}),!0},d.getChannel=function(t){var n=null;return l&&0<l.length&&ne(l,function(e){if(e&&0<e.queue.length&&(ne(e.queue,function(e){if(e.identifier===t)return n=e,-1}),n))return-1}),n},d.flush=function(n,e,r,i){var a=1,t=!1,o=null;function s(){a--,t&&0===a&&(o&&(clearTimeout(o),o=null),e&&e(t),e=null)}return i=i||5e3,v(l,h(),function(e){e.iterate(function(e){var t;e.flush&&(a++,t=!1,e.flush(n,function(){t=!0,s()},r)||t||(n&&null==o?o=setTimeout(function(){o=null,s()},i):s()))})},function(){t=!0,s()}),!0},d._setQueue=function(e){l=e},E=d),g.push(E),I.push(E),m._extensions=fi(g),E.initialize(e,m,g),li(y(),g),m._extensions=nt(fi(I||[])).slice(),t&&(d=t,e=Ci(C(),m),m._updateHook&&!0===m._updateHook(e,d)||e.processNext(d))}function u(t){var r=null;return ne(m._extensions,function(e){if(e.identifier===t&&e!==E&&e!==N)return r=e,-1}),(r=!r&&E?E.getChannel(t):r)?{plugin:r,setEnabled:function(e){ui(r)[U]=!e},isEnabled:function(){var e=ui(r);return!e[L]&&!e[U]},remove:function(e,t){var n=[r];l(n,{reason:1,isAsync:e=void 0===e||e},function(e){e&&c(m.config,{reason:32,removed:n}),t&&t(e)})}}:null}function C(){var e;return T||(-1===Je(e=(I||[]).slice(),N)&&e.push(N),T=Ti(fi(e),m.config,m)),T}function l(a,e,t){var n;a&&0<a.length?((n=yi(Ti(a,m.config,m),m)).onComplete(function(){var r=!1,n=[],i=(ne(b,function(e,t){Ri(e,a)?r=!0:n.push(e)}),b=n,[]);x&&(ne(x,function(e,t){var n=[];ne(e,function(e){Ri(e,a)?r=!0:n.push(e)}),i.push(n)}),x=i),t&&t(r)}),n.processNext(e)):t(!1)}function r(){var e=m.logger?m.logger.queue:[];e&&(ne(e,function(e){e={name:w||"InternalMessageId: "+e.messageId,iKey:m.config.instrumentationKey,time:Qe(new Date),baseType:wn.dataType,baseData:{message:e.message}};m.track(e)}),e.length=0)}function s(e,t,n,r){return E?E.flush(e,t,n||6,r):(t&&t(!1),!0)}function f(e){var t=m.logger;t?ce(t,2,73,e):st(e)}o(),m.isInitialized=function(){return d},m.initialize=function(e,t,n,r){v&&st(Oi),m.isInitialized()&&st("Core should not be initialized more than once"),e&&!G(e.instrumentationKey)||st("Please provide instrumentation key"),p=r,m[Ai]=r,m.config=e||{};var i,a,r=e,r=(!0===r.disableDbgExt&&D&&(p[pe](D),D=null),p&&!D&&!0!==r.disableDbgExt&&(D=function(e){if(!bn){bn={};for(var t=0;t<In.length;t++)bn[In[t]]=function(t,n){return function(){var e=xn(n);e&&(e=e.listener)&&e[t]&&e[t].apply(e,arguments)}}(In[t],e)}return bn}(r),p[j](D)),e);!r.enablePerfMgr&&g&&(g=null),r.enablePerfMgr&&it(m.config,"createPerfMgr",Li),e.extensions=G(e.extensions)?[]:e.extensions,e?!(a=e[Ii])&&G(a)&&(a=W(i)?{}:i,e[Ii]=a):a=W(i)?{}:i,a.NotificationManager=p,n&&(m.logger=n),(b=[]).push.apply(b,M(M([],t),e.extensions)),x=(e||{}).channels,c(e,null),S&&0!==S.length||st("No channels available"),d=!0,m.releaseQueue()},m.getTransmissionControls=function(){var t=[];return S&&ne(S,function(e){t.push(e.queue)}),nt(t)},m.track=function(e){it(e,"iKey",m.config.instrumentationKey,null,at),it(e,"time",Qe(new Date),null,at),it(e,"ver","4.0",null,G),!v&&m.isInitialized()?y().processNext(e):i.push(e)},m.getProcessTelContext=y,m.getNotifyMgr=function(){var e;return p||(p=O(((e={})[j]=function(e){},e[pe]=function(e){},e[ge]=function(e){},e[he]=function(e,t){},e[ve]=function(e,t){},e)),m[Ai]=p),p},m[j]=function(e){p&&p[j](e)},m[pe]=function(e){p&&p[pe](e)},m.getCookieMgr=function(){return h=h||dr(m.config,m.logger)},m.setCookieMgr=function(e){h=e},m.getPerfMgr=function(){return a||g||m.config&&m.config.enablePerfMgr&&X(m.config.createPerfMgr)&&(g=m.config.createPerfMgr(m,m.getNotifyMgr())),a||g||null},m.setPerfMgr=function(e){a=e},m.eventCnt=function(){return i.length},m.releaseQueue=function(){var e;d&&0<i.length&&(e=i,i=[],ne(e,function(e){y().processNext(e)}))},m.pollInternalLogs=function(e){w=e||null;e=m.config.diagnosticLogInterval;return e&&0<e||(e=1e4),A&&clearInterval(A),A=setInterval(function(){r()},e)},m.stopPollingInternalLogs=function(){A&&(clearInterval(A),A=0,r())},n=function(){return N},e=["addTelemetryInitializer"],(t=m)&&n&&Be(t)&&Q(e)&&ne(e,function(e){J(e)&&ct(t,e,n,e,void 0)}),m.unload=function(e,t,n){d||st("SDK is not initialized"),v&&st(Oi);var r={reason:50,isAsync:e=void 0===e||e,flushComplete:!1},i=yi(C(),m);function a(e){r.flushComplete=e,v=!0,P.run(i,r),m.stopPollingInternalLogs(),i.processNext(r)}i.onComplete(function(){o(),t&&t(r)},m),s(e,a,6,n)||a(!1)},m.getPlugin=u,m.addPlugin=function(e,t,n,r){if(!e)return r&&r(!1),void f(ki);var i=u(e.identifier);if(i&&!t)return r&&r(!1),void f("Plugin ["+e.identifier+"] is already loaded!");var a,o={reason:16};function s(){b.push(e),o.added=[e],c(m.config,o),r&&r(!0)}i?l(a=[i.plugin],{reason:2,isAsync:!!n},function(e){e?(o.removed=a,o.reason|=32,s()):r&&r(!1)}):s()},m.evtNamespace=function(){return _},m.flush=s,m.getTraceCtx=function(e){var t;return k||(t={},k={getName:function(){return t.name},setName:function(e){t.name=e},getTraceId:function(){return t.traceId},setTraceId:function(e){ai(e)&&(t.traceId=e)},getSpanId:function(){return t.spanId},setSpanId:function(e){oi(e)&&(t.spanId=e)},getTraceFlags:function(){return t.traceFlags},setTraceFlags:function(e){t.traceFlags=e}}),k},m.setTraceCtx=function(e){k=e||null},ct(m,"addUnloadCb",function(){return P},"add")})}),qi);function qi(){var e=Vi.call(this)||this;return ie(qi,e,function(n,i){function r(e){var t=n.getNotifyMgr();t&&t.eventsDiscarded([e],2)}n.initialize=function(e,t,n,r){i.initialize(e,t,n||new Dn(e),r||new Hi(e))},n.track=function(t){Rn(n.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){var e;null===t&&(r(t),st("Invalid telemetry item")),G((e=t).name)&&(r(e),st("telemetry name required")),i.track(t)},function(){return{item:t}},!t.sync)}}),e}var Fi="_aiHooks",Bi=["req","rsp","hkErr","fnErr"];function zi(e,t){if(e)for(var n=0;n<e.length&&!t(e[n],n);n++);}function Ki(e,o,s,c,u){0<=u&&u<=2&&zi(e,function(e,t){var e=e.cbks,n=e[Bi[u]];if(n){o.ctx=function(){return c[t]=c[t]||{}};try{n.apply(o.inst,s)}catch(i){n=o.err;try{var r=e.hkErr;r&&(o.err=i,r.apply(o.inst,s))}catch(a){}finally{o.err=n}}}})}function ji(c){return function(){var n=arguments,e=c.h,r={name:c.n,inst:this,ctx:null,set:function(e,t){(n=a([],n))[e]=t,i=a([r],n)}},t=[],i=a([r],n);function a(t,e){return zi(e,function(e){t.push(e)}),t}r.evt=ae("event"),Ki(e,r,i,t,0);var o=c.f;if(o)try{r.rslt=o.apply(this,n)}catch(s){throw r.err=s,Ki(e,r,i,t,3),s}return Ki(e,r,i,t,1),r.rslt}}function Wi(e,t,n){var r=null;return e&&(Fe(e,t)?r=e:n&&(r=Wi(He(e),t,!1))),r}function Gi(e,t,n,r){var i=n&&n[Fi],t=(i||((n=ji(i={i:0,n:t,f:n,h:[]}))[Fi]=i,e[t]=n),{id:i.i,cbks:r,rm:function(){var n=this.id;zi(i.h,function(e,t){return e.id===n&&(i.h.splice(t,1),1)})}});return i.i++,i.h.push(t),t}function Xi(e,t,n,r){if(void 0===r&&(r=!0),e&&t&&n){e=Wi(e,t,r);if(e){r=e[t];if(typeof r===f)return Gi(e,t,r,n)}}return null}function Qi(e,t,n,r){if(e&&t&&n){r=Wi(e,t,r)||e;if(r)return Gi(r,t,r[t],n)}return null}var Ji="1DS-Web-JS-3.2.3",Yi="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",$i="withCredentials",Zi="timeout",ea=((E={})[0]=0,E[2]=6,E[1]=1,E[3]=7,E[4098]=6,E[4097]=1,E[4099]=7,E),ta=!!se(),na=!!oe();function ue(e){return!(""===e||G(e))}function ra(e,t,n){var r=-1;return W(e)||(0<t&&(32===t?r=8192:t<=13&&(r=t<<5)),0<=n&&n<=9?(-1===r&&(r=0),r|=n):(t=ea[function i(e){var t,n=0;return null!==e&&e!==undefined&&("string"==(t=typeof e)?n=1:"number"==t?n=2:"boolean"==t?n=3:t===d&&(n=4,Q(e)?(n=4096,0<e.length&&(n|=i(e[0]))):Fe(e,"value")&&(n=8192|i(e.value)))),n}(e)]||-1,-1!==r&&-1!==t?r|=t:6===t&&(r=t))),r}function ia(e,t,n){var r;return void 0===n&&(n=!0),e&&(r=e.get(t),n&&r&&decodeURIComponent&&(r=decodeURIComponent(r))),r||""}function aa(e){void 0===e&&(e="D");var t=Qr();return"B"===e?t="{"+t+"}":"P"===e?t="("+t+")":"N"===e&&(t=t.replace(/-/g,"")),t}function le(){var r={},t=!1,e=0,n=arguments.length,i=Object[q],a=arguments;for("[object Boolean]"===i.toString.call(a[0])&&(t=a[0],e++);e<n;e++)te(a[e],function(n,e){t&&e&&Be(e)?Q(e)?(r[n]=r[n]||[],ne(e,function(e,t){e&&Be(e)?r[n][t]=le(!0,r[n][t],e):r[n][t]=e})):r[n]=le(!0,r[n],e):r[n]=e});return r}var oa=function(){var e=pn();return e&&e.now?e.now():rt()};function sa(e,t){e.timings=e.timings||{},e.timings.processTelemetryStart=e.timings.processTelemetryStart||{},e.timings.processTelemetryStart[t]=oa()}function ca(e,t,n,r,i,a){function o(e,t,n){try{e[t]=n}catch(r){}}void 0===r&&(r=!1),void 0===i&&(i=!1);var s=new XMLHttpRequest;return r&&o(s,Yi,r),n&&o(s,$i,n),s.open(e,t,!i),n&&o(s,$i,n),!i&&a&&o(s,Zi,a),s}var ua,la="version",fa="properties";function da(){var e=ua.call(this)||this;return e.pluginVersionStringArr=[],e.pluginVersionString="",ie(da,e,function(s,c){s.logger&&s.logger.queue||(s.logger=new Dn({loggingLevelConsole:1})),s.initialize=function(r,i,a,o){Rn(s,function(){return"AppInsightsCore.initialize"},function(){if(r){r.endpointUrl||(r.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var e=r.propertyStorageOverride;if(e&&(!e.getProperty||!e.setProperty))throw Error("Invalid property storage override passed.");r.channels&&ne(r.channels,function(e){e&&ne(e,function(e){e.identifier&&e.version&&(e=e.identifier+"="+e.version,s.pluginVersionStringArr.push(e))})})}s.getWParam=function(){return"undefined"!=typeof document?0:-1},i&&ne(i,function(e){e&&e.identifier&&e.version&&(e=e.identifier+"="+e.version,s.pluginVersionStringArr.push(e))}),s.pluginVersionString=s.pluginVersionStringArr.join(";");try{c.initialize(r,i,a,o),s.pollInternalLogs("InternalLog")}catch(n){var e=s.logger,t=Z(n);~t.indexOf("channels")&&(t+="\n - Channels must be provided through config.channels only!"),e.throwInternal(1,514,"SDK Initialization Failed - no telemetry will be sent: "+t)}},function(){return{config:r,extensions:i,logger:a,notificationManager:o}})},s.track=function(n){Rn(s,function(){return"AppInsightsCore.track"},function(){var e,t=n;t&&(t.timings=t.timings||{},t.timings.trackStart=oa(),(e=t.latency)&&We(e)&&1<=e&&e<=4||(t.latency=1),(e=t.ext=t.ext||{}).sdk=e.sdk||{},e.sdk.ver=Ji,(e=t.baseData=t.baseData||{})[fa]||(e[fa]={}),(e=e[fa])[la]||(e[la]=""),""!==s.pluginVersionString&&(e[la]=s.pluginVersionString)),c.track(t)},function(){return{item:n}},!n.sync)}}),e}e(da,ua=we);var E=da,F=n({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]});function pa(e,t,n){var r,i,a=t.length,o=(e=e,(t=t)&&150<(t=Y(t.toString())).length&&(i=t.substring(0,150),ce(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),i||t);if(o.length!==a){for(var s=0,c=o;n[c]!==undefined;)s++,c=o.substring(0,147)+(r=void 0,(r="00"+s).substr(r.length-3));o=c}return o}function ga(e,t,n){var r;return void 0===n&&(n=1024),t&&(n=n||1024,(t=Y(t)).toString().length>n&&(r=t.toString().substring(0,n),ce(e,2,61,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}function ha(e,t){return Ca(e,t,2048,66)}function va(e,t){var n;return t&&32768<t.length&&(n=t.substring(0,32768),ce(e,2,56,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function ma(r,e){var i;return e&&(i={},te(e,function(e,t){if(Be(t)&&gn())try{t=hn().stringify(t)}catch(n){ce(r,2,49,"custom property is not valid",{exception:n},!0)}t=ga(r,t,8192),e=pa(r,e,i),i[e]=t}),e=i),e}function ya(n,e){var r;return e&&(r={},te(e,function(e,t){e=pa(n,e,r),r[e]=t}),e=r),e}function Ca(e,t,n,r){var i;return t&&(t=Y(t)).length>n&&(i=t.substring(0,n),ce(e,2,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),i||t}function Ta(e){var t,n=null;return X(Event)?n=new Event(e):(t=se())&&t.createEvent&&(n=t.createEvent("Event")).initEvent(e,!0,!0),n}var ba="";function Ia(e,t){return void 0===t&&(t=!1),e===undefined||null===e?t:"true"==e.toString().toLowerCase()}function Ea(e){var t=ba+Math.floor((e=Math.round(e=isNaN(e)||e<0?0:e))/1e3)%60,n=ba+Math.floor(e/6e4)%60,r=ba+Math.floor(e/36e5)%24,i=Math.floor(e/864e5),e=1===(e=ba+e%1e3).length?"00"+e:2===e.length?"0"+e:e,t=t.length<2?"0"+t:t,n=n.length<2?"0"+n:n,r=r.length<2?"0"+r:r;return(0<i?i+".":ba)+r+":"+n+":"+t+"."+e}var xa="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Sa="not_specified",Na="iKey",wa=ft({LocalStorage:0,SessionStorage:1}),_a=(ft({AI:0,AI_AND_W3C:1,W3C:2}),undefined,undefined);function Pa(e){try{if(G(B()))return null;var t=(new Date).toString(),n=ae(e===wa.LocalStorage?"localStorage":"sessionStorage"),r=(n.setItem(t,t),n.getItem(t)!==t);if(n.removeItem(t),!r)return n}catch(i){}return null}function Da(){return ka()?Pa(wa.SessionStorage):null}function ka(e){return _a=e||_a===undefined?!!Pa(wa.SessionStorage):_a}function Aa(e,t){var n=Da();if(null!==n)try{return n.getItem(t)}catch(r){_a=!1,ce(e,2,2,"Browser failed read of session storage. "+m(r),{exception:Z(r)})}return null}function Oa(e,t,n){var r=Da();if(null!==r)try{r.setItem(t,n)}catch(i){_a=!1,ce(e,2,4,"Browser failed write to session storage. "+m(i),{exception:Z(i)})}}function Ma(e,t){var n=Da();if(null!==n)try{n.removeItem(t)}catch(r){_a=!1,ce(e,2,6,"Browser failed removal of session storage item. "+m(r),{exception:Z(r)})}}var La=se()||{},Ra=0,Ua=[null,null,null,null,null];function Va(n){var e=Ra,t=Ua,r=t[e];return La.createElement?t[e]||(r=t[e]=La.createElement("a")):r={host:function(){var e=Ha(n,!0)||"";if(e){var t=e.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(null!=t&&3<t.length&&J(t[2])&&0<t[2].length)return t[2]+(t[3]||"")}return e}()},r.href=n,++e>=t.length&&(e=0),Ra=e,r}function Ha(e,t){var n=null;return e&&null!=(e=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i))&&2<e.length&&J(e[2])&&0<e[2].length&&(n=e[2]||"",t&&2<e.length&&(t=(e[1]||"").toLowerCase(),e=e[3]||"",n+=e="http"==t&&":80"===e||"https"==t&&":443"===e?"":e)),n}var qa=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"],Fa={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e.correlationHeaderExcludePatterns)for(var r=0;r<e.correlationHeaderExcludePatterns.length;r++)if(e.correlationHeaderExcludePatterns[r].test(t))return!1;var i=Va(t).host.toLowerCase();if(i&&(~i.indexOf(":443")||~i.indexOf(":80"))&&(i=(Ha(t,!0)||"").toLowerCase()),(!e||!e.enableCorsCorrelation)&&i&&i!==n)return!1;var a,n=e&&e.correlationHeaderDomains;if(n&&(ne(n,function(e){e=RegExp(e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));a=a||e.test(i)}),!a))return!1;var o=e&&e.correlationHeaderExcludedDomains;if(!o||0===o.length)return!0;for(r=0;r<o.length;r++)if(RegExp(o[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(i))return!1;return i&&0<i.length},getCorrelationContext:function(e){if(e){e=Fa.getCorrelationContextValue(e,F[1]);if(e&&e!==Fa.correlationIdPrefix)return e}},getCorrelationContextValue:function(e,t){if(e)for(var n=e.split(","),r=0;r<n.length;++r){var i=n[r].split("=");if(2===i.length&&i[0]===t)return i[1]}}};function Ba(){var e=pn();if(e&&e.now&&e.timing){e=e.now()+e.timing.navigationStart;if(0<e)return e}return rt()}function za(e,t){return 0===e||0===t||G(e)||G(t)?null:t-e}function Ka(e,t){var n=e||{};return{getName:function(){return n.name},setName:function(e){t&&t.setName(e),n.name=e},getTraceId:function(){return n.traceID},setTraceId:function(e){t&&t.setTraceId(e),ai(e)&&(n.traceID=e)},getSpanId:function(){return n.parentID},setSpanId:function(e){t&&t.setSpanId(e),oi(e)&&(n.parentID=e)},getTraceFlags:function(){return n.traceFlags},setTraceFlags:function(e){t&&t.setTraceFlags(e),n.traceFlags=e}}}Wa.envelopeType="Microsoft.ApplicationInsights.{0}.Event",Wa.dataType="EventData";var ja=Wa;function Wa(e,t,n,r){this.aiDataContract={ver:1,name:1,properties:0,measurements:0},this.ver=2,this.name=ga(e,t)||Sa,this.properties=ma(e,n),this.measurements=ya(e,r)}var Ga="error",Xa="stack",Qa="stackDetails",Ja="errorSrc",Ya="message",$a="description";function Za(e,t){var n=e;return n&&!J(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(e),!t||n&&"{}"!==n||(n=X(e.toString)?e.toString():""+e)):n=e+" - (Missing JSON.stringify)"),n||""}function eo(e,t){var n=e;return e&&((n=n&&!J(n)&&(e[Ya]||e[$a])||n)&&!J(n)&&(n=Za(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),(t&&"String"!==t&&"Object"!==t&&"Error"!==t&&!~(n||"").indexOf(t)?t+": "+n:n)||""}function to(e){return e&&e.src&&J(e.src)&&e.obj&&Q(e.obj)}function no(e){var e=e||"",t=(e=J(e)?e:J(e[Xa])?e[Xa]:""+e).split("\n");return{src:e,obj:t}}function ro(e){var t,n=null;if(e)try{e[Xa]?n=no(e[Xa]):e[Ga]&&e[Ga][Xa]?n=no(e[Ga][Xa]):e.exception&&e.exception[Xa]?n=no(e.exception[Xa]):to(e)?n=e:to(e[Qa])?n=e[Qa]:window&&window.opera&&e[Ya]?n=function(e){for(var t=[],n=e.split("\n"),r=0;r<n.length;r++){var i=n[r];n[r+1]&&(i+="@"+n[r+1],r++),t.push(i)}return{src:e,obj:t}}(e.message):J(e)?n=no(e):(t=e[Ya]||e[$a]||"",J(e[Ja])&&(t&&(t+="\n"),t+=" from "+e[Ja]),t&&(n=no(t)))}catch(r){n=no(r)}return n||{src:"",obj:null}}function io(e){var t="";if(e&&!(t=e.typeName||e.name||""))try{var n=/function (.{1,200})\(/.exec(e.constructor.toString()),t=n&&1<n.length?n[1]:""}catch(r){}return t}function ao(e){if(e)try{var t,n;if(!J(e))return t=io(e),(n=Za(e,!1))&&"{}"!==n||(e[Ga]&&(t=io(e=e[Ga])),n=Za(e,!0)),n.indexOf(t)&&"String"!==t?t+":"+n:n}catch(r){}return""+(e||"")}so.CreateAutoException=function(e,t,n,r,i,a,o,s){var c=io(i||a||e);return{message:eo(e,c),url:t,lineNumber:n,columnNumber:r,error:ao(i||a||e),evt:ao(a||e),typeName:c,stackDetails:ro(o||i||a),errorSrc:s}},so.CreateFromInterface=function(t,e,n,r){var i=e.exceptions&&Ye(e.exceptions,function(e){return co.CreateFromInterface(t,e)});return new so(t,de(de({},e),{exceptions:i}),n,r)},so.prototype.toInterface=function(){var e=this,t=e.exceptions,n=e.properties,r=e.measurements,i=e.severityLevel,a=e.problemGroup,o=e.id,e=e.isManual;return{ver:"4.0",exceptions:t instanceof Array&&Ye(t,function(e){return e.toInterface()})||undefined,severityLevel:i,properties:n,measurements:r,problemGroup:a,id:o,isManual:e}},so.CreateSimpleException=function(e,t,n,r,i,a){return{exceptions:[{hasFullStack:!0,message:e,stack:i,typeName:t}]}},so.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",so.dataType="ExceptionData",so.formatError=ao;var oo=so;function so(e,t,n,r,i,a){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var o=this;o.ver=2,function(e){try{if(Be(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(t){}}(t)?(o.exceptions=t.exceptions||[],o.properties=t.properties,o.measurements=t.measurements,t.severityLevel&&(o.severityLevel=t.severityLevel),t.id&&(o.id=t.id),t.problemGroup&&(o.problemGroup=t.problemGroup),G(t.isManual)||(o.isManual=t.isManual)):(o.exceptions=[new co(e,t,n=n||{})],o.properties=ma(e,n),o.measurements=ya(e,r),i&&(o.severityLevel=i),a&&(o.id=a))}uo.prototype.toInterface=function(){var e=this,t=e.parsedStack instanceof Array&&Ye(e.parsedStack,function(e){return e.toInterface()});return{id:e.id,outerId:e.outerId,typeName:e.typeName,message:e.message,hasFullStack:e.hasFullStack,stack:e[Xa],parsedStack:t||undefined}},uo.CreateFromInterface=function(e,t){var n=t.parsedStack instanceof Array&&Ye(t.parsedStack,function(e){return lo.CreateFromInterface(e)})||t.parsedStack;return new uo(e,de(de({},t),{parsedStack:n}))};var co=uo;function uo(e,t,n){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var u,r,i,a,o,s=this;!function(e){try{if(Be(e))return"hasFullStack"in e&&"typeName"in e}catch(t){}}(t)?(r=(a=t)&&a.evt,je(a)||(a=a[Ga]||r||a),s.typeName=ga(e,io(a))||Sa,s.message=va(e,eo(t||a,s.typeName))||Sa,u=t[Qa]||ro(t),s.parsedStack=function(){var e=u.obj;if(e&&0<e.length){var t=[],n=0,r=0;if(ne(e,function(e){var e=e.toString();lo.regex.test(e)&&(e=new lo(e,n++),r+=e.sizeInBytes,t.push(e))}),32768<r)for(var i=0,a=t.length-1,o=0,s=i,c=a;i<a;){if(32768<(o+=t[i].sizeInBytes+t[a].sizeInBytes)){t.splice(s,c-s+1);break}s=i,c=a,i++,a--}}return t}(),s[Xa]=(r=e,o="",(a=u)&&(a.obj?ne(a.obj,function(e){o+=e+"\n"}):o=a.src||""),(e=o)&&32768<(a=""+e).length&&(i=a.substring(0,32768),ce(r,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:e},!0)),i||e),s.hasFullStack=Q(s.parsedStack)&&0<s.parsedStack.length,n&&(n.typeName=n.typeName||s.typeName)):(s.typeName=t.typeName,s.message=t.message,s[Xa]=t[Xa],s.parsedStack=t.parsedStack||[],s.hasFullStack=t.hasFullStack)}fo.CreateFromInterface=function(e){return new fo(e,null)},fo.prototype.toInterface=function(){var e=this;return{level:e.level,method:e.method,assembly:e.assembly,fileName:e.fileName,line:e.line}},fo.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,fo.baseSize=58;var lo=fo;function fo(e,t){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var n,r=this;r.sizeInBytes=0,"string"==typeof e?(n=e,r.level=t,r.method="<no_method>",r.assembly=Y(n),r.fileName="",r.line=0,(t=n.match(fo.regex))&&5<=t.length&&(r.method=Y(t[2])||r.method,r.fileName=Y(t[4]),r.line=parseInt(t[5])||0)):(r.level=e.level,r.method=e.method,r.assembly=e.assembly,r.fileName=e.fileName,r.line=e.line,r.sizeInBytes=0),r.sizeInBytes+=r.method.length,r.sizeInBytes+=r.fileName.length,r.sizeInBytes+=r.assembly.length,r.sizeInBytes+=fo.baseSize,r.sizeInBytes+=r.level.toString().length,r.sizeInBytes+=r.line.toString().length}var po=function(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0},go=(ho.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",ho.dataType="MetricData",ho);function ho(e,t,n,r,i,a,o,s,c){this.aiDataContract={ver:1,metrics:1,properties:0},this.ver=2;var u=new po;u.count=0<r?r:undefined,u.max=isNaN(a)||null===a?undefined:a,u.min=isNaN(i)||null===i?undefined:i,u.name=ga(e,t)||Sa,u.value=n,u.stdDev=isNaN(o)||null===o?undefined:o,this.metrics=[u],this.properties=ma(e,s),this.measurements=ya(e,c)}mo.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",mo.dataType="PageviewData";var vo=mo;function mo(e,t,n,r,i,a,o){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var s=this;s.ver=2,s.id=o&&Ca(e,o,128,69).toString(),s.url=ha(e,n),s.name=ga(e,t)||Sa,isNaN(r)||(s.duration=Ea(r)),s.properties=ma(e,i),s.measurements=ya(e,a)}Co.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",Co.dataType="RemoteDependencyData";var yo=Co;function Co(e,t,n,r,i,a,o,s,c,u,l,f){void 0===c&&(c="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var d,p,g=this,n=(g.ver=2,g.id=t,g.duration=Ea(i),g.success=a,g.resultCode=o+"",g.type=ga(e,c),t=e,i=s,c=o=a=r,o=(s=n)&&0<s.length?(p=(n=Va(s)).host,o||(null!=n.pathname?("/"!=((d=0===n.pathname.length?"/":n.pathname)[0]||"")&&(d="/"+d),c=n.pathname,ga(t,i?i+" "+d:d)):ga(t,s))):p=a,{target:p,name:o,data:c});g.data=ha(e,r)||n.data,g.target=ga(e,n.target),u&&(g.target="".concat(g.target," | ").concat(u)),g.name=ga(e,n.name),g.properties=ma(e,l),g.measurements=ya(e,f)}bo.envelopeType="Microsoft.ApplicationInsights.{0}.Message",bo.dataType="MessageData";var To=bo;function bo(e,t,n,r,i){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var a=this;a.ver=2,a.message=va(e,t=t||Sa),a.properties=ma(e,r),a.measurements=ya(e,i),n&&(a.severityLevel=n)}Eo.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",Eo.dataType="PageviewPerformanceData";var Io=Eo;function Eo(e,t,n,r,i,a,o){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var s=this;s.ver=2,s.url=ha(e,n),s.name=ga(e,t)||Sa,s.properties=ma(e,i),s.measurements=ya(e,a),o&&(s.domProcessing=o.domProcessing,s.duration=o.duration,s.networkConnect=o.networkConnect,s.perfTotal=o.perfTotal,s.receivedResponse=o.receivedResponse,s.sentRequest=o.sentRequest)}function xo(e,t,n,r,i,a){n=ga(r,n)||Sa,(G(e)||G(t)||G(n))&&st("Input doesn't contain all required fields");var r="",o=(e[Na]&&(r=e[Na],delete e[Na]),{name:n,time:Qe(new Date),iKey:r,ext:a||{},tags:[],data:{},baseType:t,baseData:e});return G(i)||te(i,function(e,t){o.data[e]=t}),o}var So="AppInsightsPropertiesPlugin",No=function mf(g,h,t,v){ie(mf,this,function(e){var l,f=null,d=[],p=!1;function n(e){t&&t.flush(e)}t&&(l=t.logger),e.trackPageView=function(r,i){var e,a=r.name,o=(!G(a)&&"string"==typeof a||(e=se(),a=r.name=e&&e.title||""),r.uri);if(!G(o)&&"string"==typeof o||(e=$(),o=r.uri=e&&e.href||""),!v.isPerformanceTimingSupported())return g.sendPageViewInternal(r,i),n(!0),void ce(l,2,25,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var s,t,c=!1,u=v.getPerformanceTiming().navigationStart;0<u&&(s=za(u,+new Date),v.shouldCollectDuration(s)||(s=undefined)),G(i)||G(i.duration)||(t=i.duration),!h&&isNaN(t)||(isNaN(t)&&((i=i||{}).duration=s),g.sendPageViewInternal(r,i),n(!0),c=!0),i=i||{},d.push(function(){var e,t=!1;try{v.isPerformanceTimingDataReady()?(t=!0,e={name:a,uri:o},v.populatePageViewPerformanceEvent(e),e.isValid||c?(c||(i.duration=e.durationMs,g.sendPageViewInternal(r,i)),p||(g.sendPageViewPerformanceInternal(e,i),p=!0)):(i.duration=s,g.sendPageViewInternal(r,i))):0<u&&6e4<za(u,+new Date)&&(t=!0,c||(i.duration=6e4,g.sendPageViewInternal(r,i)))}catch(n){ce(l,1,38,"trackPageView failed on page load calculation: "+m(n),{exception:Z(n)})}return t}),f=f||setInterval(function(){var e=d.slice(0),t=!1;d=[],ne(e,function(e){e()?t=!0:d.push(e)}),0===d.length&&(clearInterval(f),f=null),t&&n(!0)},100)},e.teardown=function(e,t){var n;f&&(clearInterval(f),f=null,n=d.slice(0),d=[],ne(n,function(e){e()}))}})},wo=(_o.prototype.trackPreviousPageVisit=function(e,t){try{var n=this.restartPageVisitTimer(e,t);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(r){kn(this._logger,"Auto track page visit time failed, metric will not be collected: "+Z(r))}},_o.prototype.restartPageVisitTimer=function(e,t){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),n}catch(r){return kn(this._logger,"Call to restart failed: "+Z(r)),null}},_o.prototype.startPageVisitTimer=function(e,t){try{var n,r;ka()&&(null!=Aa(this._logger,this.prevPageVisitDataKeyName)&&st("Cannot call startPageVisit consecutively without first calling stopPageVisit"),n=new Po(e,t),r=hn().stringify(n),Oa(this._logger,this.prevPageVisitDataKeyName,r))}catch(i){kn(this._logger,"Call to start failed: "+Z(i))}},_o.prototype.stopPageVisitTimer=function(){try{var e,t,n;return ka()?(e=rt(),(t=Aa(this._logger,this.prevPageVisitDataKeyName))&&gn()?((n=hn().parse(t)).pageVisitTime=e-n.pageVisitStartTime,Ma(this._logger,this.prevPageVisitDataKeyName),n):null):null}catch(r){return kn(this._logger,"Stop page visit timer failed: "+Z(r)),null}},_o);function _o(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}var Po=function(e,t){this.pageVisitStartTime=rt(),this.pageName=e,this.pageUrl=t},Do=(ko.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming(),r=0,i=0,a=0,o=0;(t||n)&&(t=t?(r=t.duration,i=0===t.startTime?t.connectEnd:za(t.startTime,t.connectEnd),a=za(t.requestStart,t.responseStart),o=za(t.responseStart,t.responseEnd),za(t.responseEnd,t.loadEventEnd)):(r=za(n.navigationStart,n.loadEventEnd),i=za(n.navigationStart,n.connectEnd),a=za(n.requestStart,n.responseStart),o=za(n.responseStart,n.responseEnd),za(n.responseEnd,n.loadEventEnd)),n=this._logger,0===r?ce(n,2,10,"error calculating page view performance.",{total:r,network:i,request:a,response:o,dom:t}):this.shouldCollectDuration(r,i,a,o,t)?r<Math.floor(i)+Math.floor(a)+Math.floor(o)+Math.floor(t)?ce(n,2,8,"client performance math error.",{total:r,network:i,request:a,response:o,dom:t}):(e.durationMs=r,e.perfTotal=e.duration=Ea(r),e.networkConnect=Ea(i),e.sentRequest=Ea(a),e.receivedResponse=Ea(o),e.domProcessing=Ea(t),e.isValid=!0):ce(n,2,45,"Invalid page load duration value. Browser perf data won't be sent.",{total:r,network:i,request:a,response:o,dom:t}))},ko.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?pn().timing:null},ko.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?pn().getEntriesByType("navigation")[0]:null},ko.prototype.isPerformanceNavigationTimingSupported=function(){var e=pn();return e&&e.getEntriesByType&&0<e.getEntriesByType("navigation").length},ko.prototype.isPerformanceTimingSupported=function(){var e=pn();return e&&e.timing},ko.prototype.isPerformanceTimingDataReady=function(){var e=pn(),e=e?e.timing:0;return e&&0<e.domainLookupStart&&0<e.navigationStart&&0<e.responseStart&&0<e.requestStart&&0<e.loadEventEnd&&0<e.responseEnd&&0<e.connectEnd&&0<e.domLoading},ko.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=["googlebot","adsbot-google","apis-google","mediapartners-google"],r=(fn()||{}).userAgent,i=!1;if(r)for(var a=0;a<n.length;a++)i=i||!!~r.toLowerCase().indexOf(n[a]);if(i)return!1;for(a=0;a<e.length;a++)if(e[a]<0||e[a]>=this.MAX_DURATION_ALLOWED)return!1;return!0},ko);function ko(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}var Ao=function(a,e){var o=this,s={};o.start=function(e){"undefined"!=typeof s[e]&&ce(a,2,62,"start was called more than once for this event without calling stop.",{name:e,key:e},!0),s[e]=+new Date},o.stop=function(e,t,n,r){var i=s[e];isNaN(i)?ce(a,2,63,"stop was called without a corresponding start.",{name:e,key:e},!0):(i=za(i,+new Date),o.action(e,t,i,n,r)),delete s[e],s[e]=undefined}},Oo="duration";function Mo(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var Lo=6e4;function Ro(e,t){return(e=e||t)<Lo?Lo:e}function Uo(e){return(e=e||{}).sessionRenewalMs=Ro(e.sessionRenewalMs,18e5),e.sessionExpirationMs=Ro(e.sessionExpirationMs,864e5),e.disableExceptionTracking=Ia(e.disableExceptionTracking),e.autoTrackPageVisitTime=Ia(e.autoTrackPageVisitTime),e.overridePageViewDuration=Ia(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=Ia(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||100<=e.samplingPercentage)&&(e.samplingPercentage=100),e.isStorageUseDisabled=Ia(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=Ia(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=Ia(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e.enableDebug=Ia(e.enableDebug),e.disableFlushOnBeforeUnload=Ia(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=Ia(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e}e(Ho,Vo=t),Ho.Version="2.8.4",Ho.getDefaultConfig=Uo;var Vo,we=Ho;function Ho(){var _,P,D,k,A,O,M,L,R,U,V,H,q,F,B,z,K,j=Vo.call(this)||this;return j.identifier="ApplicationInsightsAnalytics",j.priority=180,j.autoRoutePVDelay=500,ie(Ho,j,function(S,N){var w=N._addHook;function d(e,t,n,r,i){S.diagLog().throwInternal(e,t,n,r,i)}function n(){O=A=k=D=P=_=null;var e=$(!(F=q=H=V=U=R=L=M=!1));B=e&&e.href||"",K=z=null}n(),S.getCookieMgr=function(){return y(S.core)},S.processTelemetry=function(e,t){S.processNext(e,t)},S.trackEvent=function(e,t){try{var n=xo(e,ja.dataType,ja.envelopeType,S.diagLog(),t);S.core.track(n)}catch(r){d(2,39,"trackTrace failed, trace will not be collected: "+m(r),{exception:Z(r)})}},S.startTrackEvent=function(e){try{_.start(e)}catch(t){d(1,29,"startTrackEvent failed, event will not be collected: "+m(t),{exception:Z(t)})}},S.stopTrackEvent=function(e,t,n){try{_.stop(e,undefined,t)}catch(r){d(1,30,"stopTrackEvent failed, event will not be collected: "+m(r),{exception:Z(r)})}},S.trackTrace=function(e,t){try{var n=xo(e,To.dataType,To.envelopeType,S.diagLog(),t);S.core.track(n)}catch(r){d(2,39,"trackTrace failed, trace will not be collected: "+m(r),{exception:Z(r)})}},S.trackMetric=function(e,t){try{var n=xo(e,go.dataType,go.envelopeType,S.diagLog(),t);S.core.track(n)}catch(r){d(1,36,"trackMetric failed, metric will not be collected: "+m(r),{exception:Z(r)})}},S.trackPageView=function(e,t){try{var n=e||{};D.trackPageView(n,de(de(de({},n.properties),n.measurements),t)),S.config.autoTrackPageVisitTime&&A.trackPreviousPageVisit(n.name,n.uri)}catch(r){d(1,37,"trackPageView failed, page view will not be collected: "+m(r),{exception:Z(r)})}},S.sendPageViewInternal=function(e,t,n){var r=se(),r=(r&&(e.refUri=e.refUri===undefined?r.referrer:e.refUri),xo(e,vo.dataType,vo.envelopeType,S.diagLog(),t,n));S.core.track(r)},S.sendPageViewPerformanceInternal=function(e,t,n){e=xo(e,Io.dataType,Io.envelopeType,S.diagLog(),t,n);S.core.track(e)},S.trackPageViewPerformance=function(e,t){e=e||{};try{k.populatePageViewPerformanceEvent(e),S.sendPageViewPerformanceInternal(e,t)}catch(n){d(1,37,"trackPageViewPerformance failed, page view will not be collected: "+m(n),{exception:Z(n)})}},S.startTrackPage=function(e){try{var t;"string"!=typeof e&&(e=(t=se())&&t.title||""),P.start(e)}catch(n){d(1,31,"startTrackPage failed, page view may not be collected: "+m(n),{exception:Z(n)})}},S.stopTrackPage=function(e,t,n,r){try{var i,a;"string"!=typeof e&&(e=(i=se())&&i.title||""),"string"!=typeof t&&(t=(a=$())&&a.href||""),P.stop(e,t,n,r),S.config.autoTrackPageVisitTime&&A.trackPreviousPageVisit(e,t)}catch(o){d(1,32,"stopTrackPage failed, page view will not be collected: "+m(o),{exception:Z(o)})}},S.sendExceptionInternal=function(e,t,n){var r=e.exception||e.error||Error(Sa),r=xo(new oo(S.diagLog(),r,e.properties||t,e.measurements,e.severityLevel,e.id).toInterface(),oo.dataType,oo.envelopeType,S.diagLog(),t,n);S.core.track(r)},S.trackException=function(e,t){e&&!e.exception&&e.error&&(e.exception=e.error);try{S.sendExceptionInternal(e,t)}catch(n){d(1,35,"trackException failed, exception will not be collected: "+m(n),{exception:Z(n)})}},S._onerror=function(e){var t,n,r,i=e&&e.error,a=e&&e.evt;try{a||(l=oe())&&(a=l.event);var o=e&&e.url||(se()||{}).URL,s=e.errorSrc||"window.onerror@"+o+":"+(e.lineNumber||0)+":"+(e.columnNumber||0),c={errorSrc:s,url:o,lineNumber:e.lineNumber||0,columnNumber:e.columnNumber||0,message:e.message},u=e.message;e.url,e.lineNumber,e.columnNumber,e.error||!J(u)||"Script error."!==u&&"Script error"!==u?(e.errorSrc||(e.errorSrc=s),S.trackException({exception:e,severityLevel:3},c)):(t=oo.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",o,e.lineNumber||0,e.columnNumber||0,i,a,null,s),n=c,r=xo(t,oo.dataType,oo.envelopeType,S.diagLog(),n),S.core.track(r))}catch(f){var l=i?i.name+", "+i.message:"null";d(1,11,"_onError threw exception while logging error, error will not be collected: "+m(f),{exception:Z(f),errorString:l})}},S.addTelemetryInitializer=function(e){if(S.core)return S.core.addTelemetryInitializer(e);(O=O||[]).push(e)},S.initialize=function(e,t,n,r){if(!S.isInitialized()){G(t)&&st("Error initializing"),N.initialize(e,t,n,r);try{K=Fr(Qn(S.identifier),t.evtNamespace&&t.evtNamespace()),O&&(ne(O,function(e){t.addTelemetryInitializer(e)}),O=null),T=mi(null,C=e,S.core),b=S.identifier,I=Uo(C),E=S.config=T.getExtCfg(b),I!==undefined&&te(I,function(e,t){E[e]=T.getConfig(b,e,t),E[e]===undefined&&(E=t)});var i,a,o,s,c,u,l,f,d,p,g,h,v,m=E;W((y=m).isStorageUseDisabled)||(_a=!y.isStorageUseDisabled&&(Pa(wa.LocalStorage),ka(!0))),k=new Do(S.core),D=new No(j,m.overridePageViewDuration,S.core,k),A=new wo(S.diagLog(),function(e,t,n){S.trackMetric({name:"PageVisitTime",average:n,max:n,min:n,sampleCount:1},{PageName:e,PageUrl:t})}),M=m.isBrowserLinkTrackingEnabled||e.isBrowserLinkTrackingEnabled,!L&&M&&(i=["/browserLinkSignalR/","/__browserLink/"],S.addTelemetryInitializer(function(e){if(M&&e.baseType===yo.dataType){var t=e.baseData;if(t)for(var n=0;n<i.length;n++)if(t.target&&~t.target.indexOf(i[n]))return!1}return!0}),L=!0),(_=new Ao(S.diagLog())).action=function(e,t,n,r){(r=r||{})[Oo]=n.toString(),S.trackEvent({name:e,properties:r})},(P=new Ao(S.diagLog())).action=function(e,t,n,r,i){(r=G(r)?{}:r)[Oo]=n.toString(),S.sendPageViewInternal({name:e,uri:t,properties:r,measurements:i},r)},cn()&&(o=m,s=oe(),c=$(!0),(V=o.disableExceptionTracking)||H||o.autoExceptionInstrumented||(w(Qi(s,"onerror",{ns:K,rsp:function(e,t,n,r,i,a){V||!0===e.rslt||S._onerror(oo.CreateAutoException(t,n,r,i,a,e.evt))}},!1)),H=!0),l=c,(q=!0===(u=o).enableUnhandledPromiseRejectionTracking)&&!F&&(w(Qi(s,"onunhandledrejection",{ns:K,rsp:function(e,t){var n,r;q&&!0!==e.rslt&&S._onerror(oo.CreateAutoException((n=t)&&n.reason?!J(r=n.reason)&&X(r.toString)?r.toString():Z(r):n||"",l?l.href:"",0,0,t,e.evt))}},!1)),F=!0,u.autoUnhandledPromiseInstrumented=F),f=oe(),d=$(!0),R=!0===m.enableAutoRouteTracking,f&&R&&dn()&&X((a=dn()?history:ae("history")).pushState)&&X(a.replaceState)&&typeof Event!==fe&&(p=m,g=f,h=a,v=d,U||(w(Qi(h,"pushState",{ns:K,rsp:function(){R&&(Mo(g,Ta(p.namePrefix+"pushState")),Mo(g,Ta(p.namePrefix+"locationchange")))}},!0)),w(Qi(h,"replaceState",{ns:K,rsp:function(){R&&(Mo(g,Ta(p.namePrefix+"replaceState")),Mo(g,Ta(p.namePrefix+"locationchange")))}},!0)),ee(g,p.namePrefix+"popstate",function(){R&&Mo(g,Ta(p.namePrefix+"locationchange"))},K),ee(g,p.namePrefix+"locationchange",function(){var e,t;z&&(B=z),z=v&&v.href||"",R&&(t=null,(t=S.core&&S.core.getTraceCtx?S.core.getTraceCtx(!1):t)||(e=S.core.getPlugin(So))&&(e=e.plugin.context)&&(t=Ka(e.telemetryTrace)),(e=t)&&(e.setTraceId(Jr()),t="_unknown_",v&&v.pathname&&(t=v.pathname+(v.hash||"")),e.setName(ga(S.diagLog(),t))),setTimeout((function(e){S.trackPageView({refUri:e,properties:{duration:0}})}).bind(this,B),S.autoRoutePVDelay))},K),U=!0)))}catch(x){throw S.setInitialized(!1),x}}var y,C,T,b,I,E},S._doTeardown=function(e,t){D&&D.teardown(e,t),Br(window,null,null,K),n()},re(S,"_pageViewManager",function(){return D}),re(S,"_pageViewPerformanceManager",function(){return k}),re(S,"_pageVisitTimeManager",function(){return A}),re(S,"_evtNamespace",function(){return"."+K})}),j}function qo(n){te(n,function(e,t){ue(t)&&("{}"!==JSON.stringify(t)||"callback"===e)||delete n[e]})}function Fo(e,t,n){var r=e;if(r){for(;!t(r,n);)if(!(r=r.parentNode)||!r.getAttribute)return null;return r}}function Bo(e){return"A"===e.nodeName}function zo(e){return ue(Ko(e,"data-bi-dnt"))}function Ko(e,t){return Fo(e,jo,t)}function jo(e,t){t=e.getAttribute(t);return ue(t)||""===t}function Wo(e){return"["+e+"]"}function Go(n,r,i,a){var o;return function(){var e=arguments,t=!o;clearTimeout(o),o=setTimeout(function(){o=0,r&&r.apply(a,e)},i),t&&n&&n.apply(a,e)}}function Xo(){var e=oe(),t=se();return t&&e?{h:parseInt(t.body.scrollLeft||t.documentElement.scrollLeft||e.pageXOffset,10),v:parseInt(t.body.scrollTop||t.documentElement.scrollTop||e.pageYOffset,10)}:{h:0,v:0}}function Qo(){var e,t={h:0,w:0},n=oe(),r=se();return n&&r&&n.screen&&(e=r.body||{},r=r.documentElement||{},t.h=n.innerHeight||e.clientHeight||r.clientHeight,t.w=n.innerWidth||e.clientWidth||r.clientWidth),t}var Jo,Yo={CLICKLEFT:"CL",CLICKRIGHT:"CR",CLICKMIDDLE:"CM",SCROLL:"S",ZOOM:"Z",RESIZE:"R",KEYBOARDENTER:"KE",KEYBOARDSPACE:"KS",OTHER:"O"},$o=((r=Jo={})[r.PAGE_ACTION=0]="PAGE_ACTION",r[r.CONTENT_UPDATE=1]="CONTENT_UPDATE",{BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0});function Zo(e){if(e&&e.attributes)try{var t=e.getAttribute("data-dc");return ue(t)&&"pii"==t.toLowerCase()}catch(n){return}}function es(e,t){return e.coreData&&e.coreData.requestUri&&""!==e.coreData.requestUri?e.coreData.requestUri:ts(e,t)}function ts(e,t){if(!t)return null;var n,r,i,a=t.protocol+"//"+(t.hostname||t.host)+(ue(t.port)?":"+t.port:"")+t.pathname;return e.urlCollectQuery&&((n=t.search)||-1!=(i=(r=t.hash||"").indexOf("?"))&&(n=r.slice(i)),a+=n),e.urlCollectHash&&(a+=t.hash||""),a}function ns(e){return e.callback&&"function"==typeof e.callback.signedinStatus?e.callback.signedinStatus():e.isLoggedIn}function rs(e,t){var n,r="",i={},a=[],o=e.cookiesToCollect;!1===e.shareAuthStatus?a=o:ne(o,function(e){"ANON"!==e&&a.push(e)});try{try{na&&window.varCustomerCookies&&0<window.varCustomerCookies.length&&(a=a.concat(window.varCustomerCookies))}catch(s){ce(t,1,512,"Failed to get cookies ")}ne(a,function(e){i.hasOwnProperty(e)||(i[e]="",ta&&""!==(n=decodeURIComponent(document.cookie.replace(RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")))&&(r+=e+"="+n+";"))})}catch(s){ce(t,1,512,"Failed to get cookies ")}return r}function is(t,e){var n=Fr(Qn("onDomLoaded"),e);!function r(e){var t=se()||{};/in/.test(t.readyState)?setTimeout(function(){r(e)},100):e.call()}(function(){var e;ta&&"complete"===document.readyState?t():(e=oe())&&ee(e,"load",function(){t&&t(),Br(e,t=null,null,n)},n)})}var as={longNames:{isShortNames:!1,id:"data-bi-id",areaName:"data-bi-area",slotNumber:"data-bi-slot",contentName:"data-bi-name",contentSource:"data-bi-source",templateName:"data-bi-view",productId:"data-bi-product",contentType:"data-bi-type",parentId:"data-bi-parentid",parentName:"data-bi-parentname"},shortNames:{isShortNames:!0,id:"data-bi-id",areaName:"data-bi-an",slotNumber:"data-bi-sn",contentName:"data-bi-cn",contentSource:"data-bi-cs",templateName:"data-bi-tn",productId:"data-bi-pid",contentType:"data-bi-ct",parentId:"data-bi-pi",parentName:"data-bi-pn"}},os={parentId:"parentId",parentName:"parentName"},ss={parentId:"pI",parentName:"pN"},cs=(us.prototype.getMetadata=function(){var e={},t={};return ta&&(t=this._getMetaDataFromDOM("awa-",!0),this._config.autoCapture&&this._config.autoCapture.msTags&&(e=this._getMetaDataFromDOM("ms.",!1))),le(!0,t,e)},us.prototype.getVisibleContent=function(){var e,t,n,r,i=Qo(),a={top:0,bottom:i.h,left:0,right:i.w},o=null,s=[];if(o=ta?document.querySelectorAll(Wo(this._contentBlobFieldNames.areaName)+","+Wo(this._contentBlobFieldNames.slotNumber)+","+Wo(this._config.biBlobAttributeTag)):o)for(var c=0;c<o.length;c++){var u,l=o[c];!zo(l)&&(e=a,0,t=(r=l.getBoundingClientRect()).left,n=r.top,u=r.right,r=r.bottom,0<Math.max(0,Math.min(u,e.right)-Math.max(t,e.left))*Math.max(0,Math.min(r,e.bottom)-Math.max(n,e.top)))&&(u=this.getElementContent(l,Jo.CONTENT_UPDATE))&&s.push(u)}return s},us.prototype.getElementContent=function(e,t){if(!e)return{};var n,r,i,a={};if(this._isTracked(e))if(this._isTrackedWithDataM(e)){r=(n=e).getAttribute(this._config.biBlobAttributeTag);try{a=JSON.parse(r)}catch(o){ce(this._traceLogger,1,506,"Can not parse "+r)}}else this._isTrackedWithDataBi(e)&&(a=le(a,this._populateElementContentwithDataBi(i=e,e)));else if(r=(n=Ko(e,this._config.biBlobAttributeTag))?n.getAttribute(this._config.biBlobAttributeTag):r)try{a=JSON.parse(r)}catch(o){ce(this._traceLogger,1,506,"Can not parse "+r)}else i=Fo(e,this._isTrackedWithDataBi),a=le(a,this._populateElementContentwithDataBi(i,e));return qo(a),this._config.autoCapture.lineage&&t===Jo.PAGE_ACTION&&(a=le(a,this.getLineageDetails(e))),this._config.autoPopulateParentIdAndParentName?le(a,this._getParentDetails(n||i,a)):a},us.prototype.getLineageDetails=function(e){for(var t,n,r,i=[],a=[],o=this._config.biBlobAttributeTag,s="data-module-id";e;){var c=e.getAttribute(o)||e[o],u=e.getAttribute(s)||e[s];if(c){try{var l=JSON.parse(c)}catch(f){ce(this._traceLogger,1,507,"Can not parse "+c)}l&&(n=l.cN||l.cT,r=l.id||undefined,(n||r)&&(i.push(n),u&&(t=n),a.push(r)))}else n=e.getAttribute(this._contentBlobFieldNames.contentName)||e.getAttribute(this._contentBlobFieldNames.contentType),r=e.getAttribute(this._contentBlobFieldNames.id)||undefined,(n||r)&&(i.push(n),u&&(t=n),a.push(r));e=e.parentElement}return{lineage:i.join(">"),lineageById:a.join(">"),lineageContainerName:t}},us.prototype._populateElementContentwithDataBi=function(e,t){var n={};if(!e){if(!this._config.useDefaultContentName)return n;e=t}var r=Ko(e,this._contentBlobFieldNames.areaName),r=le({},this._getAreaContent(r)),i=this._config.callback.contentName?this._config.callback.contentName(e,this._config.useDefaultContentName):"",t=this._getDefaultContentName(t,this._config.useDefaultContentName);(n={id:e.getAttribute(this._contentBlobFieldNames.id)||e.id||"",aN:r.areaName,sN:e.getAttribute(this._contentBlobFieldNames.slotNumber),cN:i||e.getAttribute(this._contentBlobFieldNames.contentName)||t||e.getAttribute("alt")||"",cS:e.getAttribute(this._contentBlobFieldNames.contentSource)||r.contentSource,tN:r.templateName,pid:e.getAttribute(this._contentBlobFieldNames.productId),cT:e.getAttribute(this._contentBlobFieldNames.contentType)||r.type,pI:e.getAttribute(this._contentBlobFieldNames.parentId),pN:e.getAttribute(this._contentBlobFieldNames.parentName)}).id&&n.aN&&n.sN&&n.cN||ce(this._traceLogger,2,515,"Invalid content blob.  Missing required attributes (id, aN/area, sN/slot), cN/contentName.  Content information will still be collected!"),this._contentBlobFieldNames.isShortNames||(n={contentId:n.id,areaName:n.aN,slotNumber:n.sN,contentName:n.cN,contentSource:n.cS,templateName:n.tN,productId:n.pid,contentType:n.cT,parentId:n.pI,parentName:n.pN});for(var a,o=0;o<e.attributes.length;o++)(a=e.attributes[o]).name!==this._contentBlobFieldNames.id&&a.name!==this._contentBlobFieldNames.areaName&&a.name!==this._contentBlobFieldNames.slotNumber&&a.name!==this._contentBlobFieldNames.contentName&&a.name!==this._contentBlobFieldNames.contentSource&&a.name!==this._contentBlobFieldNames.templateName&&a.name!==this._contentBlobFieldNames.productId&&a.name!==this._contentBlobFieldNames.contentType&&a.name!==this._contentBlobFieldNames.parentId&&a.name!==this._contentBlobFieldNames.parentName&&~a.name.indexOf("data-bi-")&&(n[a.name.replace("data-bi-","")]=a.value);return n},us.prototype._getMetaDataFromDOM=function(e,t){var n={};if(ta)for(var r=document.querySelectorAll("meta"),i=0;i<r.length;i++){var a=r[i];a.name&&!a.name.toLowerCase().indexOf(e)&&(n[t?a.name.replace(e,""):a.name]=a.content)}return n},us.prototype._getAreaContent=function(e){if(e)return{areaName:e.getAttribute(this._contentBlobFieldNames.areaName),templateName:e.getAttribute(this._contentBlobFieldNames.templateName),contentSource:e.getAttribute(this._contentBlobFieldNames.contentSource),product:e.getAttribute(this._contentBlobFieldNames.productId),type:e.getAttribute(this._contentBlobFieldNames.contentType)}},us.prototype._getDefaultContentName=function(e,t){if(!1===t||Zo(e)||!e.tagName)return"";var n,r=se()||{};switch(e.tagName){case"A":n=r.all?e.innerText||e.innerHTML:e.text||e.innerHTML;break;case"IMG":case"AREA":n=e.alt;break;default:n=e.value||e.name||e.alt||e.innerText||e.id}return n.substring(0,200)},us.prototype._getParentDetails=function(e,t){var n=(this._contentBlobFieldNames.isShortNames?ss:os).parentId,r=(this._contentBlobFieldNames.isShortNames?ss:os).parentName,i=t[n],t=t[r];return i||t||!e?{}:this._populateParentInfo(e,n,r)},us.prototype._isTrackedWithDataM=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if("data-m"===t[n].name)return!0;return!1},us.prototype._isTrackedWithDataBi=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if(~t[n].name.indexOf("data-bi-"))return!0;return!1},us.prototype._isTracked=function(e){for(var t=e.attributes,n=0;n<t.length;n++)if("data-m"===t[n].name||~t[n].name.indexOf("data-bi-"))return!0;return!1},us.prototype._populateParentInfo=function(e,t,n){var r,i,a={},o=this._config.biBlobAttributeTag,s=Fo(e.parentElement,this._isTracked);if(s){o=s.getAttribute(o)||e[o];if(o){try{var c=JSON.parse(o)}catch(u){ce(this._traceLogger,1,507,"Can not parse "+o)}c&&(r=c.id,i=c.cN)}else r=s.getAttribute(this._contentBlobFieldNames.id),i=s.getAttribute(this._contentBlobFieldNames.contentName);r&&(a[t]=r),i&&(a[n]=i)}return a},us);function us(e,t){this._config=e,this._traceLogger=t,this._contentBlobFieldNames=null,this._contentBlobFieldNames=!0===this._config.useShortNameForContentBlob?as.shortNames:as.longNames}var ls,fs={BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0},ds=function yf(o,e){var t=this,r=Fr(Qn("AutoCaptureHandler"),o._evtNamespace);ie(yf,this,function(e){function n(e){var t={A:!0,BUTTON:!0,AREA:!0,INPUT:!0},n=oe(),r=(e=e||n.event).srcElement||e.target,i={isAuto:!0,clickCoordinateX:e.pageX,clickCoordinateY:e.pageY},a="which"in(n=e)?3===n.which:"button"in n?2===n.button:void 0;if(a)i.actionType=Yo.CLICKRIGHT;else if("which"in(n=e)?1===n.which:"button"in n&&1===n.button)i.actionType=Yo.CLICKLEFT;else if("keyCode"in e&&13===e.keyCode)i.actionType=Yo.KEYBOARDENTER;else if("keyCode"in e&&32===e.keyCode)i.actionType=Yo.KEYBOARDSPACE;else{if(!("which"in(n=e)?2===n.which:"button"in n&&4===n.button))return;i.actionType=Yo.CLICKMIDDLE}for(;r&&r.tagName;){if(t[(r=r.control&&t[r.control.tagName.toUpperCase()]?r.control:r).tagName.toUpperCase()]){"INPUT"==r.tagName.toUpperCase()&&!fs[r.type.toUpperCase()]||o.capturePageAction(r,i,{},a);break}r=r.parentElement||r.parentNode}}e.pageView=function(){o.capturePageView({isAuto:!0})},e.onLoad=function(){is(function(){o.capturePageViewPerformance({isAuto:!0}),o.captureContentUpdate({isAuto:!0,isDomComplete:!0})},r)},e.click=function(){var e=oe(),t=se();e&&e.addEventListener?(ee(e,~navigator.appVersion.indexOf("MSIE")?"click":"mousedown",n,r),ee(e,"keyup",n,r)):t&&t.attachEvent&&(ee(t,"click",n,r),ee(t,"keyup",n,r))},e.scroll=function(e){e=Go(null,function(){o.captureContentUpdate({isAuto:!0,actionType:Yo.SCROLL})},e.scroll,t);ee(oe(),"scroll",e,r)},e.maxScroll=function(t){ee(oe(),"scroll",function(){var e=Xo();t.v=(t.v>e.v?t:e).v},r)},e.resize=function(e){e=Go(function(){o.captureContentUpdate({isAuto:!0,actionType:Yo.RESIZE})},null,e.resize,t);ee(oe(),"resize",e,r)},e.onUnload=function(){var e,t=o;function n(){t&&t.capturePageUnload({isAuto:!0})}t&&(jr(n,e=((t||{}).core||{}).config.disablePageUnloadEvents,r),Gr(n,e,r))},e.teardown=function(e,t){Br(oe(),null,null,r),Br(se(),null,null,r),Wr(null,r),Xr(null,r),r=o=null}})};function ps(e,t,n){var r="";return t&&t[n]?r=t[n]:e&&(r=e[n]),r}ls={UNDEFINED:0,0:"UNDEFINED",NAVIGATIONBACK:1,1:"NAVIGATIONBACK",NAVIGATION:2,2:"NAVIGATION",NAVIGATIONFORWARD:3,3:"NAVIGATIONFORWARD",APPLY:4,4:"APPLY",REMOVE:5,5:"REMOVE",SORT:6,6:"SORT",EXPAND:7,7:"EXPAND",REDUCE:8,8:"REDUCE",CONTEXTMENU:9,9:"CONTEXTMENU",TAB:10,10:"TAB",COPY:11,11:"COPY",EXPERIMENTATION:12,12:"EXPERIMENTATION",PRINT:13,13:"PRINT",SHOW:14,14:"SHOW",HIDE:15,15:"HIDE",MAXIMIZE:16,16:"MAXIMIZE",MINIMIZE:17,17:"MINIMIZE",BACKBUTTON:18,18:"BACKBUTTON",STARTPROCESS:20,20:"STARTPROCESS",PROCESSCHECKPOINT:21,21:"PROCESSCHECKPOINT",COMPLETEPROCESS:22,22:"COMPLETEPROCESS",SCENARIOCANCEL:23,23:"SCENARIOCANCEL",DOWNLOADCOMMIT:40,40:"DOWNLOADCOMMIT",DOWNLOAD:41,41:"DOWNLOAD",SEARCHAUTOCOMPLETE:60,60:"SEARCHAUTOCOMPLETE",SEARCH:61,61:"SEARCH",SEARCHINITIATE:62,62:"SEARCHINITIATE",TEXTBOXINPUT:63,63:"TEXTBOXINPUT",PURCHASE:80,80:"PURCHASE",ADDTOCART:81,81:"ADDTOCART",VIEWCART:82,82:"VIEWCART",ADDWISHLIST:83,83:"ADDWISHLIST",FINDSTORE:84,84:"FINDSTORE",CHECKOUT:85,85:"CHECKOUT",REMOVEFROMCART:86,86:"REMOVEFROMCART",PURCHASECOMPLETE:87,87:"PURCHASECOMPLETE",VIEWCHECKOUTPAGE:88,88:"VIEWCHECKOUTPAGE",VIEWCARTPAGE:89,89:"VIEWCARTPAGE",VIEWPDP:90,90:"VIEWPDP",UPDATEITEMQUANTITY:91,91:"UPDATEITEMQUANTITY",INTENTTOBUY:92,92:"INTENTTOBUY",PUSHTOINSTALL:93,93:"PUSHTOINSTALL",SIGNIN:100,100:"SIGNIN",SIGNOUT:101,101:"SIGNOUT",SOCIALSHARE:120,120:"SOCIALSHARE",SOCIALLIKE:121,121:"SOCIALLIKE",SOCIALREPLY:122,122:"SOCIALREPLY",CALL:123,123:"CALL",EMAIL:124,124:"EMAIL",COMMUNITY:125,125:"COMMUNITY",SOCIALFOLLOW:126,126:"SOCIALFOLLOW",VOTE:140,140:"VOTE",SURVEYINITIATE:141,141:"SURVEYINITIATE",SURVEYCOMPLETE:142,142:"SURVEYCOMPLETE",REPORTAPPLICATION:143,143:"REPORTAPPLICATION",REPORTREVIEW:144,144:"REPORTREVIEW",SURVEYCHECKPOINT:145,145:"SURVEYCHECKPOINT",CONTACT:160,160:"CONTACT",REGISTRATIONINITIATE:161,161:"REGISTRATIONINITIATE",REGISTRATIONCOMPLETE:162,162:"REGISTRATIONCOMPLETE",CANCELSUBSCRIPTION:163,163:"CANCELSUBSCRIPTION",RENEWSUBSCRIPTION:164,164:"RENEWSUBSCRIPTION",CHANGESUBSCRIPTION:165,165:"CHANGESUBSCRIPTION",REGISTRATIONCHECKPOINT:166,166:"REGISTRATIONCHECKPOINT",CHATINITIATE:180,180:"CHATINITIATE",CHATEND:181,181:"CHATEND",TRIALSIGNUP:200,200:"TRIALSIGNUP",TRIALINITIATE:201,201:"TRIALINITIATE",SIGNUP:210,210:"SIGNUP",FREESIGNUP:211,211:"FREESIGNUP",PARTNERREFERRAL:220,220:"PARTNERREFERRAL",LEARNLOWFUNNEL:230,230:"LEARNLOWFUNNEL",LEARNHIGHFUNNEL:231,231:"LEARNHIGHFUNNEL",SHOPPINGINTENT:232,232:"SHOPPINGINTENT",VIDEOSTART:240,240:"VIDEOSTART",VIDEOPAUSE:241,241:"VIDEOPAUSE",VIDEOCONTINUE:242,242:"VIDEOCONTINUE",VIDEOCHECKPOINT:243,243:"VIDEOCHECKPOINT",VIDEOJUMP:244,244:"VIDEOJUMP",VIDEOCOMPLETE:245,245:"VIDEOCOMPLETE",VIDEOBUFFERING:246,246:"VIDEOBUFFERING",VIDEOERROR:247,247:"VIDEOERROR",VIDEOMUTE:248,248:"VIDEOMUTE",VIDEOUNMUTE:249,249:"VIDEOUNMUTE",VIDEOFULLSCREEN:250,250:"VIDEOFULLSCREEN",VIDEOUNFULLSCREEN:251,251:"VIDEOUNFULLSCREEN",VIDEOREPLAY:252,252:"VIDEOREPLAY",VIDEOPLAYERLOAD:253,253:"VIDEOPLAYERLOAD",VIDEOPLAYERCLICK:254,254:"VIDEOPLAYERCLICK",VIDEOVOLUMECONTROL:255,255:"VIDEOVOLUMECONTROL",VIDEOAUDIOTRACKCONTROL:256,256:"VIDEOAUDIOTRACKCONTROL",VIDEOCLOSEDCAPTIONCONTROL:257,257:"VIDEOCLOSEDCAPTIONCONTROL",VIDEOCLOSEDCAPTIONSTYLE:258,258:"VIDEOCLOSEDCAPTIONSTYLE",VIDEORESOLUTIONCONTROL:259,259:"VIDEORESOLUTIONCONTROL",VIRTUALEVENTJOIN:260,260:"VIRTUALEVENTJOIN",VIRTUALEVENTEND:261,261:"VIRTUALEVENTEND",JOINTEAMSMEETINGEVENT:262,262:"JOINTEAMSMEETINGEVENT",IMPRESSION:280,280:"IMPRESSION",CLICK:281,281:"CLICK",RICHMEDIACOMPLETE:282,282:"RICHMEDIACOMPLETE",ADBUFFERING:283,283:"ADBUFFERING",ADERROR:284,284:"ADERROR",ADSTART:285,285:"ADSTART",ADCOMPLETE:286,286:"ADCOMPLETE",ADSKIP:287,287:"ADSKIP",ADTIMEOUT:288,288:"ADTIMEOUT",OTHER:300,300:"OTHER"},gs.prototype._setBasicProperties=function(e,t){var n;e.ver="1.0",e.id=this._id.getLastPageViewId(),ue(e.name)||(e.name=(n=this._config,t&&t.pageName?t.pageName:n.callback&&"function"==typeof n.callback.pageName?n.callback.pageName():n.coreData&&n.coreData.pageName?n.coreData.pageName:(t=(($()||{}).pathname||"").split("/"))&&""!==t[t.length-1]?t[t.length-1]:"Undefined")),!ue(e.uri)&&na&&(e.uri=es(this._config,$()))},gs.prototype._setCommonProperties=function(e,t,n){var r=this;r._setBasicProperties(e,n),r._setPageTags(e,n),r._pageTypeMetaTag=ps(r.metaTags,r._config.coreData,"pageType"),r._marketMetaTag=ps(r.metaTags,r._config.coreData,"market"),r._behaviorMetaTag=ps(r.metaTags,r._config.coreData,"behavior"),ue(n.pageType)&&(e.pageType=n.pageType),ue(r._pageTypeMetaTag)&&!ue(e.pageType)&&(e.pageType=r._pageTypeMetaTag),ue(r._marketMetaTag)&&(e.market=r._marketMetaTag),e.isLoggedIn=ns(r._config),t.cookieEnabled=pr()},gs.prototype._setPageTags=function(e,t){var n=this;n._pageTags={},n.metaTags&&(n._pageTags.metaTags=n._pageTags.metaTags||{},te(n.metaTags,function(e,t){"behavior"!==e&&"market"!==e&&"pageType"!==e&&(n._pageTags.metaTags[e]=t)})),n._config.coreData&&n._config.coreData.pageTags&&(n._pageTags=le(!0,n._pageTags,n._config.coreData.pageTags)),n._pageTagsCallback&&(n._pageTags=le(!0,n._pageTags,n._pageTagsCallback())),ue(t.pageTags)&&(n._pageTags=le(!0,n._pageTags,t.pageTags)),e.properties=e.properties||{},e.properties.pageTags=n._pageTags},gs.prototype._getBehavior=function(e){var t;return e&&ue(e.behavior)?t=e.behavior:ue(this._behaviorMetaTag)&&(t=this._behaviorMetaTag),this._getValidBehavior(t)},gs.prototype._getValidBehavior=function(e){if(ue(e)){var t=parseInt(e);if((e=isNaN(t)?ls[e]:t)in ls)return e}return 0},gs.prototype._getContentFormatted=function(e){return ue(e)?Q(e)?JSON.stringify(e):Wo(JSON.stringify(e)):undefined};var r=gs;function gs(e,t,n,r,i,a,o){this._webAnalyticsPlugin=e,this._config=t,this._contentHandler=n,this._id=r,this._pageTagsCallback=i,this.metaTags=a,this._traceLogger=o,this._pageTags={}}e(ms,hs=r),ms.prototype.capturePageView=function(e,t){e=ue(e)?e:{};var n={},t=ue(t)?t:{},r=(this._setCommonProperties(n,t,e),n.refUri=(ue(e.referrerUri)?e:this._config.coreData).referrerUri,n.isManual=!e.isAuto,rs(this._config,this._traceLogger));r&&(t.cookies=r),t.behavior=this._getBehavior(e),this._webAnalyticsPlugin.trackPageView(n,t)};var hs,vs=ms;function ms(){return null!==hs&&hs.apply(this,arguments)||this}e(Ts,ys=r),Ts.prototype.trackPageAction=function(e,t){var n={web:{}},r=(n.web.isManual=e.isManual,{name:"Ms.Web.PageAction",baseType:"PageActionData",ext:n,data:{},baseData:{},latency:1});W(e.sync)||(r.sync=e.sync),r.baseData.name=e.name,r.baseData.uri=e.uri,r.baseData.market=e.market,r.baseData.pageType=e.pageType,r.baseData.isLoggedIn=e.isLoggedIn,r.baseData.id=e.id,r.baseData.properties=e.properties,r.baseData.ver=e.ver,r.baseData.actionType=e.actionType,r.baseData.behavior=e.behavior,r.baseData.clickCoordinates=e.clickCoordinates,r.baseData.content=e.content,r.baseData.contentVer=e.contentVer,r.baseData.targetUri=e.targetUri,te(t,function(e,t){r.data[e]||(r.data[e]=t)}),this._webAnalyticsPlugin.core.track(r)},Ts.prototype.capturePageAction=function(e,t,n,r){t=ue(t)?t:{};var i,a={},n=ue(n)?n:{},o=(this._setCommonProperties(a,n,t),a.isManual=!t.isAuto,a.behavior=this._getBehavior(t),{}),s=(r?a.behavior=9:(r=this._config||{},!(e&&W(r.syncPageActionNavClick)||r.syncPageActionNavClick)||t.actionType!==Yo.CLICKLEFT&&t.actionType!==Yo.KEYBOARDENTER||"a"!=e.tagName.toLowerCase()||(r=(e.getAttribute("href")||"").toLowerCase())&&(Ke(r,"https:")||Ke(r,"http:")||Ke(r,".")||Ke(r,"/"))&&(a.sync=3)),e&&(a.targetUri=function(t){var e="";switch(t.tagName){case"A":case"AREA":e=t.href||"";break;case"IMG":e=function(){if(t){var e=Fo(t,Bo);if(e&&1===e.length){if(e[0].href)return e[0].href;if(e[0].src)return e[0].src}}return""}();break;case"INPUT":var n=t.type;n&&$o[n.toUpperCase()]&&(n=$()||{},e=t.form?t.form.action||n.pathname||"":n.pathname||"")}return e}(e),(o=le(o=this._contentHandler.getElementContent(e,Jo.PAGE_ACTION),this._getCustomTags(e)))&&o.bhvr&&!ue(t.behavior)&&(r="bhvr",(s=o)&&s[r]&&(i=s[r],delete s[r]),r=i,a.behavior=this._getValidBehavior(r))),ue(t.actionType)&&(a.actionType=t.actionType),ue(t.clickCoordinateX)&&ue(t.clickCoordinateY)&&(a.clickCoordinates=t.clickCoordinateX+"X"+t.clickCoordinateY),ue(t.targetUri)&&(a.targetUri=t.targetUri),a.contentVer="2.0",t.content||o),r=(Q(s)||(s=le(s,"function"==typeof(i=this._config.callback.pageActionContentTags)?i(e):{},t&&t.contentTags?t.contentTags:{})),a.content=this._getContentFormatted(s),n.timeToAction=this._getTimeToClick(),n.refUri=ue(t.refUri)?t.refUri:this._config.coreData.referrerUri,rs(this._config,this._traceLogger));r&&(n.cookies=r),this.trackPageAction(a,n)},Ts.prototype._getCustomTags=function(e){for(var t,n={};e;){if(!Zo(e))for(var r in e.attributes)r&&e.attributes[r]&&(t=e.attributes[r].name)&&!t.toLowerCase().indexOf("ms.")&&(n[t]=e.attributes[r].value);e=e.parentElement||e.parentNode}return n},Ts.prototype._getTimeToClick=function(){var e=pn();if(e&&e.timing){e=e.timing.navigationStart;if(e&&0!==e)return(new Date).getTime()-e}return-1};var ys,Cs=Ts;function Ts(){return null!==ys&&ys.apply(this,arguments)||this}e(Es,bs=r),Es.prototype.trackContentUpdate=function(t,e){var n={web:{}},r=(n.web.isManual=t.isManual,{name:"Ms.Web.ContentUpdate",baseType:"ContentUpdateData",ext:n,data:{},baseData:{},latency:3});ne(["name","uri","market","pageType","isLoggedIn","id","properties","ver","actionType","behavior","pageHeight","content","contentVer","vpHeight","vpWidth","vScrollOffset","hScrollOffset"],function(e){r.baseData[e]=t[e]}),te(e,function(e,t){r.data[e]||(r.data[e]=t)}),this._webAnalyticsPlugin.core.track(r)},Es.prototype.captureContentUpdate=function(e,t){e=ue(e)?e:{};var n={},t=ue(t)?t:{},r=(this._setCommonProperties(n,t,e),n.behavior=this._getBehavior(e),ue(e.actionType)&&(n.actionType=e.actionType),Qo()),i=Xo(),r=(n.pageHeight=ta?document.body.scrollHeight:null,n.vpHeight=r.h,n.vpWidth=r.w,n.vScrollOffset=i.v,n.hScrollOffset=i.h,n.contentVer="2.0",n.isManual=!e.isAuto,this._getContentFormatted(e.content)||JSON.stringify(this._contentHandler.getVisibleContent()));r&&(n.content=r),ue(e.isDomComplete)?t.isDomComplete=e.isDomComplete:t.isDomComplete=!1,this.trackContentUpdate(n,t)};var bs,Is=Es;function Es(){return null!==bs&&bs.apply(this,arguments)||this}e(Ns,xs=r),Ns.prototype.trackPageUnload=function(e,t){var n={web:{}},r=(n.web.isManual=e.isManual,{name:"Ms.Web.PageUnload",baseType:"PageUnloadData",ext:n,data:{},baseData:{},latency:3}),n=this._config||{};(W(n.syncUnloadAction)||n.syncUnloadAction)&&(r.sync=3),r.baseData.name=e.name,r.baseData.uri=e.uri,r.baseData.id=e.id,r.baseData.properties=e.properties,r.baseData.ver=e.ver,r.baseData.market=e.market,r.baseData.pageType=e.pageType,r.baseData.isLoggedIn=e.isLoggedIn,te(t,function(e,t){r.data[e]||(r.data[e]=t)}),this._webAnalyticsPlugin.core.track(r)},Ns.prototype.capturePageUnload=function(e,t){e=ue(e)?e:{};var n={},t=ue(t)?t:{},r=ta?document.body.scrollHeight:0;this._setBasicProperties(n,e),n.isManual=!e.isAuto,t.dwellTime=this._timestamp._recordTimeSpan("dwellTime",!0),t.scrollDepth=e.scrollDepth||this._maxScroll.v.toString()+"/"+r.toString(),t.vpHeight=Qo().h,t.vScrollOffset=e.vScrollOffset||this._maxScroll.v,na&&(e=(r=pn())?r.timing:null)&&e.loadEventStart&&e.navigationStart&&0<e.loadEventStart&&(t.pageLoadTime=e.loadEventStart-e.navigationStart),this.trackPageUnload(n,t)};var xs,Ss=Ns;function Ns(e,t,n,r,i,a){var o=xs.call(this,e,t,null,n,{},{},r)||this;return o._webAnalyticsPlugin=e,o._config=t,o._id=n,o._traceLogger=r,o._timestamp=i,o._maxScroll=a,o}e(Ps,ws=r),Ps.prototype.capturePageViewPerformance=function(e,t){e=ue(e)?e:{};var n={},t=ue(t)?t:{};this._setBasicProperties(n,e),this._setPageTags(n,e),n.isManual=!e.isAuto,t.behavior=this._getBehavior(e),t.vpHeight=e.vpHeight,t.vpWidth=e.vpWidth,t.framework=e.framework,t.systemTiming=e.systemTiming,t.customTiming=e.customTiming,this._webAnalyticsPlugin._populatePageViewPerformance(n),this._webAnalyticsPlugin.trackPageViewPerformance(n,t)};var ws,_s=Ps;function Ps(){return null!==ws&&ws.apply(this,arguments)||this}var Ds=["c:","i:","w:"],ks={"microsoft.com":"c1.microsoft.com","xbox.com":"c.xbox.com","live.com":"c.live.com","microsoftstore.com":"c.microsoftstore.com","msn.com":"c.msn.com","windows.com":"c.windows.com","office.com":"c.office.com"};function As(t){this.core=t;var n,r=aa(),i=Jr(),a=null,o=!1,s=y(t);ie(As,this,function(e){e.getTraceId=function(){return t&&t.getTraceCtx&&t.getTraceCtx().getTraceId()||i},e.getLastPageViewId=function(){return r},e.initializeIds=function(){o?r=aa():o=!0},e.getMuidUserId=function(){var e=ia(s,"MUID");return e&&e.length?"t:"+e:e},e.setAppUserId=function(e){if(a=null,e)for(var t=0;t<3;t++)if(Ds[t]===e.substring(0,2)){a=e;break}},e.setDeviceClass=function(e){e&&(n=e)},e.getDeviceClass=function(){return n},e.getAppUserId=function(){return a},e.syncMuid=function(e){var t=$();return!(!t||!e||(t=(t.protocol||"http:")+"//"+e+"/c.gif?DI=4050&did=1&t=",(e=se())&&((e=e.createElement("IMG")).style.display="none",e.src=t,e.hidden="",e["aria-hidden"]="true",e.role="presentation"),0))},e.getMuidHost=function(e){return ks[e]}})}As.visitorId=function(){return ia(y(null),"MUID")};var Os=As;function Ms(){this._timers=[]}Ms.prototype._recordTimeSpan=function(e,t){var n=(new Date).getTime();if(t)return n-this._timers[e];this._timers[e]=n};var Ls=Ms;e(Vs,Rs=we);var Rs,Us=Vs;function Vs(){var p,g,h,v,m,y,C,T,b,I,E,x=Rs.call(this)||this,i=(x.identifier="WebAnalyticsPlugin",!(x.version="3.2.3"));return ie(Vs,x,function(f,d){function n(){i=!(T={h:0,v:0}),E=I=b=C=y=m=v=h=g=p=null}function r(e){var t={};return e.isManual!==undefined&&(t.web={},t.web.isManual=e.isManual===undefined||e.isManual,delete e.isManual),t}n(),f.updateCoreDataConfig=function(e){C.coreData=le(!0,C.coreData,e)},f.refreshMetadata=function(){var e=I.getMetadata();p.metaTags=e,h.metaTags=e,g.metaTags=e,m.metaTags=e},f.initialize=function(e,t,n){var r,i,a,o=t,s=(e.extensionConfig=e.extensionConfig||[],e.extensionConfig[f.identifier]=e.extensionConfig[f.identifier]||{},f._config=(r=e.extensionConfig[f.identifier],l={useDefaultContentName:!0,useShortNameForContentBlob:!0,debounceMs:{scroll:600,resize:3e3},biBlobAttributeTag:"data-m",isLoggedIn:!1,shareAuthStatus:!1,cookiesToCollect:["MSFPC","ANON"],autoCapture:{pageView:!0,onLoad:!0,onUnload:!0,click:!0,scroll:!1,resize:!1,lineage:!1,jsError:!0,msTags:!0},callback:{pageName:null,pageActionPageTags:null,pageViewPageTags:null,contentUpdatePageTags:null,pageActionContentTags:null,signedinStatus:null},coreData:{referrerUri:ta?document.referrer:"",requestUri:"",pageName:"",pageType:"",product:"",market:"",pageTags:{}},autoPopulateParentIdAndParentName:!1,syncMuid:!1,muidDomain:"microsoft.com"},a=[],te(l,function(e,t){Be(t)&&a.push(e)}),s=a,qo(i=r),ne(s,function(e,t){Be(i[e])?qo(i[e]):delete i[e]}),C=le(!0,l,r)),C.autoCapture),c=o.getWParam;if(o.getWParam=function(){var e=0;return C.mscomCookies&&(e|=1),e|c()},e.extensionConfig[f.identifier].disableExceptionTracking=!s.jsError,d.initialize(e,t,n),I=I||new cs(C,f.diagLog()),E=E||new ds(f,f.diagLog()),C.manageCv){for(var u=0;u<n.length;u++)if("CorrelationVectorPlugin"===n[u].identifier){C.manageCv=!0,y=n[u];break}y||(ce(f.diagLog(),2,508,'Automatic Cv management is set to "true" in config.  However, cv plugin is not available. Disabling automatic Cv management'),C.manageCv=!1)}f.id=new Os(t),b=new Ls;var l=I.getMetadata();p=new vs(x,C,I,f.id,C.callback.pageViewPageTags,l,f.diagLog()),g=new Cs(x,C,I,f.id,C.callback.pageActionPageTags,l,f.diagLog()),h=new Is(x,C,I,f.id,C.callback.contentUpdatePageTags,l,f.diagLog()),v=new Ss(x,C,f.id,f.diagLog(),b,T),m=new _s(x,C,I,f.id,C.callback.pageViewPageTags,l,f.diagLog()),C.syncMuid&&is(function(){var e=f.id.getMuidHost(C.muidDomain);f.id.syncMuid(e)},f._evtNamespace),s.pageView&&E.pageView(),s.onLoad&&E.onLoad(),s.click&&E.click(),s.scroll&&E.scroll(C.debounceMs),s.resize&&E.resize(C.debounceMs),(s.onUnload||C.manualPageUnload)&&E.maxScroll(T),s.onUnload&&E.onUnload()},f.processTelemetry=function(e,t){sa(e,f.identifier);"PageviewData"===e.baseType?(e.name="Ms.Web.PageView",e.latency=3):"ExceptionData"===e.baseType?(e.name="Ms.Web.ClientError",e.latency=1,delete e.baseData.aiDataContract):"PageviewPerformanceData"===e.baseType&&(e.name="Ms.Web.PageViewPerformance",e.latency=1,delete e.baseData.isValid,delete e.baseData.durationMs);var n=null;"PageviewData"!==e.baseType?C.manageCv&&(n=y.getCv())&&n.increment():C.manageCv&&((n=y.getCv())?n.seed():n=y.getCv()),d.processTelemetry(e,t)},f.trackEvent=function(n,e){n.latency=n.latency||1,n.baseData=n.baseData||{},n.data=n.data||{},ue(e)&&te(e,function(e,t){n.data[e]=t}),f.core.track(n)},f.trackPageView=function(e,t){b._recordTimeSpan("dwellTime",!1),T.v=0,i=!1,f.id.initializeIds(),e.id=f.id.getLastPageViewId(),d.sendPageViewInternal(e,t,r(e))},f.capturePageView=function(e,t){p.capturePageView(e,t)},f.trackPageViewPerformance=function(e,t){d.sendPageViewPerformanceInternal(e,t,r(e))},f.capturePageViewPerformance=function(e,t){m.capturePageViewPerformance(e,t)},f.trackException=function(e,t){e.id=e.id||aa(),d.sendExceptionInternal(e,t,r(e))},f.trackPageAction=function(e,t){g.trackPageAction(e,t)},f.capturePageAction=function(e,t,n,r){var i=e;t&&t.isAuto&&ue(Ko(i,"data-bi-mto"))||zo(i)||g.capturePageAction(e,t,n,r)},f.trackContentUpdate=function(e,t){h.trackContentUpdate(e,t)},f.captureContentUpdate=function(e,t){h.captureContentUpdate(e,t)},f.trackPageUnload=function(e,t){i||(i=!0,v.trackPageUnload(e,t))},f.capturePageUnload=function(e,t){i||(i=!0,v.capturePageUnload(e,t))},f._populatePageViewPerformance=function(e){var t=f._pageViewPerformanceManager;t&&t.populatePageViewPerformanceEvent(e)},f.setContentHandler=function(e){I=e},f.setAutoCaptureHandler=function(e){E=e},f._doTeardown=function(e,t){E&&E.teardown(e,t),d._doTeardown(e,t),n()}}),x}var Hs=["AX","EX","SF","CS","CF","CT","CU","DC","DF","H5","HL","WS","WP"];function qs(e,t){void 0===t&&(t=Hs);var n=null;if(e)for(var r=e.split(","),i=0;i<r.length;i++)!function(e,t){if(void 0===t&&(t=Hs),e&&!(e.length<4)){for(var n=!1,r=e.substring(0,3).toString().toUpperCase(),i=0;i<t.length;i++)if(t[i]+":"==r&&e.length<=256){n=!0;break}return n}}(r[i],t)||(n?n+=","+r[i]:n=r[i]);return n}Bs.validateAppExpId=qs,Bs._staticInit=void re(Bs.prototype,"expId",function(){return this.getExpId()});var Fs=Bs;function Bs(r,e){var i=null,a=Hs.slice(0),o=y(e),s=r;ie(Bs,this,function(e){var t;function n(e){e!==i&&(i=qs(e,a))}un()&&(t=se().documentElement)&&(e.locale=t.lang),e.env=r.env||function(){var e={},t=se();if(t)for(var n=t&&t.querySelectorAll("meta"),r=0;r<n.length;r++){var i=n[r];i.name&&!i.name.toLowerCase().indexOf("awa-")&&(e[i.name.replace("awa-","")]=i.content)}return e}().env,e.getExpId=function(){return s.expId?n(s.expId):n(ia(o,"Treatments")),i}})}var zs=function(){},Ks="setLocalId",js=(Ws.cookieSeparator="|",Ws.userCookieName="ai_user",Ws._staticInit=void re(Ws.prototype,"localId",function(){return this.getLocalId()},function(e){this[Ks](e)}),Ws);function Ws(i,e,t){var a,o=e,s=y(t,i);ie(Ws,this,function(e){var t,n;function r(){var e;return o.hashIdentifiers||o.dropIdentifiers||(e=ia(s,"MUID"))&&(a="t:"+e),a}s&&s.isEnabled()&&(r(),o.enableApplicationInsightsUser&&((n=ia(s,Ws.userCookieName))&&0<(n=n.split(Ws.cookieSeparator)).length&&(e.id=n[0]),e.id||(e.id=zn(i&&!W(i.idLength)?i.idLength:22),n=Qe(new Date),e.accountAcquisitionDate=n,n=[e.id,n],t=o.cookieDomain||undefined,s.set(Ws.userCookieName,n.join(Ws.cookieSeparator),31536e3,t)))),"undefined"!=typeof navigator&&(e.locale=(n=navigator).userLanguage||n.language),e.getLocalId=function(){return a||r()},e[Ks]=function(e){a=e}})}var Gs="([\\d,.]+)",Xs="Unknown",Qs=[{ua:"OPR/",b:"Opera"},{ua:"PhantomJS",b:"PhantomJS"},{ua:"Edge",b:"Edge"},{ua:"Edg/",b:"Edge"},{ua:"Electron",b:"Electron"},{ua:"Chrome",b:"Chrome"},{ua:"Trident",b:"MSIE"},{ua:"MSIE ",b:"MSIE"},{ua:"Firefox",b:"Firefox"},{ua:"Safari",b:"Safari"},{ua:"SkypeShell",b:"SkypeShell"}],Js=[{br:"Microsoft Edge",b:"Edge"},{br:"Google Chrome",b:"Chrome"},{br:"Opera",b:"Opera"}];function Ys(e,t){return~t.indexOf(e)}Zs._staticInit=void re(Zs.prototype,"userConsent",function(){return this.getUserConsent()});var $s=Zs;function Zs(e,t){var r=y(t),i=e||{};ie(Zs,this,function(o){var e,t,n=$();n&&(e=n.hostname)&&(o.domain="file:"===n.protocol?"local":e),i.populateBrowserInfo&&(n=i.userAgent,e=(i.userAgentData||{}).brands,(t=fn())&&(n=n||t.userAgent||"",e=e||(t.userAgentData||{}).brands),function(e,t){if(Q(t))try{for(var n=0;n<Js.length;n++){var r=function(e,t){for(var n=0;n<t.length;n++)if(e==t[n].brand)return t[n].version;return null}(Js[n].br,t);if(r)return o.browser=Js[n].b,o.browserVer=r}}catch(a){}var i;e&&(i=function(e){if(e)for(var t=0;t<Qs.length;t++)if(Ys(Qs[t].ua,e))return Qs[t].b;return Xs}(e),o.browser=i,o.browserVer=function(e){if("MSIE"!==i)return n=e,"Safari"===(t=i)?t="Version":"Edge"===t&&Ys("Edg/",n)&&(t="Edg"),(r=n.match(RegExp(t+"/"+Gs)))||"Opera"===t&&(r=n.match(/OPR\/([\d,.]+)/))?r[1]:Xs;var t=e,n=t.match(/MSIE ([\d,.]+)/);if(n)return n[1];var r=t.match(/rv:([\d,.]+)/);return r?r[1]:void 0}(e))}(n,e),t={h:0,w:0},(n=oe())&&n.screen&&(t.h=screen.height,t.w=screen.width),e=t,o.screenRes=e.w+"X"+e.h),o.getUserConsent=function(){return i.userConsented||!!ia(r,i.userConsentCookieName||"MSCC")},o.getUserConsentDetails=function(){try{var e=i.callback;if(e&&e.userConsentDetails){var t=e.userConsentDetails();if(t)return JSON.stringify({Required:t.Required||!1,Analytics:t.Analytics||!1,SocialMedia:t.SocialMedia||!1,Advertising:t.Advertising||!1})}}catch(n){}return null},re(o,"userConsent",o.getUserConsent)})}var r={WIN:/(windows|win32)/i,WINRT:/ arm;/i,WINPHONE:/windows\sphone\s\d+\.\d+/i,OSX:/(macintosh|mac os x)/i,IOS:/(ipad|iphone|ipod)(?=.*like mac os x)/i,LINUX:/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,ANDROID:/android/i,CROS:/CrOS/i},ec={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},tc="([\\d,_,.]+)",nc="Unknown",rc=[{r:r.WINPHONE,os:"Windows Phone"},{r:r.WINRT,os:"Windows RT"},{r:r.WIN,os:"Windows"},{r:r.IOS,os:"iOS"},{r:r.ANDROID,os:"Android"},{r:r.LINUX,os:"Linux"},{r:r.CROS,os:"Chrome OS"},{s:"x11",os:"Unix"},{s:"blackberry",os:"BlackBerry"},{s:"symbian",os:"Symbian"},{s:"nokia",os:"Nokia"},{r:r.OSX,os:"Mac OS X"}];function ic(e,t){t=e.match(RegExp(t+" ([\\d,.]+)"));return t?ec[t[1]]||t[1]:nc}function ac(e){return~e.indexOf(".")?".":~e.indexOf("_")?"_":null}var oc=function(e){var t,n,r;e.populateOperatingSystemInfo&&(t=this,r=fn()||{},n=e.userAgent||r.userAgent||"",e=e.userAgentData||r.userAgentData||{},n&&(r=function(e){for(var t=0;t<rc.length;t++){var n=rc[t];if(n.r&&e.match(n.r))return n.os;if(n.s&&~e.indexOf(n.s))return n.os}return nc}(n.toLowerCase()),t.name=r,t.ver=function(e,t){if("Windows"===t)return ic(e,"Windows NT");if("Android"===t)return ic(e,t);if("Mac OS X"===t){var n=e.match(RegExp("Mac OS X "+tc));if(n){n=n[1].replace(/_/g,".");if(n)return(r=ac(n))?n.split(r)[0]:n}return nc}if("iOS"!==t)return nc;var r=e.match(RegExp("OS "+tc));if(r){n=r[1].replace(/_/g,".");if(n)return(t=ac(n))?n.split(t)[0]:n}return nc}(n,r)),t.name&&t.name!==nc||!J(e.platform)||(t.name=e.platform))};cc._staticInit=(re(we=cc.prototype,"msfpc",function(){return this.getMsfpc()}),void re(we,"anid",function(){return this.getAnid()}));var sc=cc;function cc(t,e){var n=y(e);ie(cc,this,function(e){t.serviceName&&(e.serviceName=t.serviceName),e.getMsfpc=function(){return ia(n,"MSFPC")},e.getAnid=function(){return ia(n,"ANON").slice(0,34)}})}var uc="eventFlags",lc=function(e){var t=this;t.popSample=100,t[uc]=0,e.hashIdentifiers&&(t[uc]=1048576|t[uc]),e.dropIdentifiers&&(t[uc]=2097152|t[uc])},fc=function(){var e=(new Date).getTimezoneOffset(),t=0<(n=(e-(e=e%60))/60)?"-":"+",n=Math.abs(n),e=Math.abs(e);this.tz=t+(n<10?"0"+n:n.toString())+":"+(e<10?"0"+e:e.toString())},dc=function(){},pc=(gc._staticInit=void re(gc.prototype,"id",function(){return this.getId()},function(e){this.setId(e)}),gc);function gc(){ie(gc,this,function(t){t.setId=function(e){t.customId=e},t.getId=function(){return J(t.customId)?t.customId:t.automaticId}})}var hc,vc=function(e,t,n,r){this.traceId=t||Jr(),e.enableDistributedTracing&&!n&&(n=Jr().substring(0,16)),this.parentId=n,e.enableApplicationInsightsTrace&&(this.name=r,(t=$())&&t.pathname&&(this.name=t.pathname))},h=n({UserExt:[0,"user"],DeviceExt:[1,"device"],TraceExt:[2,"trace"],WebExt:[3,"web"],AppExt:[4,"app"],OSExt:[5,"os"],SdkExt:[6,"sdk"],IntWebExt:[7,"intweb"],UtcExt:[8,"utc"],LocExt:[9,"loc"],CloudExt:[10,"cloud"],DtExt:[11,"dt"]}),mc=n({id:[0,"id"],ver:[1,"ver"],appName:[2,"name"],locale:[3,"locale"],expId:[4,"expId"],env:[5,"env"]}),yc=n({domain:[0,"domain"],browser:[1,"browser"],browserVer:[2,"browserVer"],screenRes:[3,"screenRes"],userConsent:[4,"userConsent"],consentDetails:[5,"consentDetails"]}),Cc=n({locale:[0,"locale"],localId:[1,"localId"],id:[2,"id"]}),Tc=n({osName:[0,"name"],ver:[1,"ver"]}),bc=n({ver:[0,"ver"],seq:[1,"seq"],installId:[2,"installId"],epoch:[3,"epoch"]}),Ic=n({msfpc:[0,"msfpc"],anid:[1,"anid"],serviceName:[2,"serviceName"]}),Ec=n({popSample:[0,"popSample"],eventFlags:[1,"eventFlags"]}),xc=n({tz:[0,"tz"]}),Sc=n({sessionId:[0,"sesId"]}),Nc=n({localId:[0,"localId"],deviceClass:[1,"deviceClass"],make:[2,"make"],model:[3,"model"]}),wc=n({role:[0,"role"],roleInstance:[1,"roleInstance"],roleVer:[2,"roleVer"]}),_c=n({traceId:[0,"traceID"],traceName:[1,"name"],parentId:[2,"parentID"]}),Pc=n({traceId:[0,"traceId"],spanId:[1,"spanId"],traceFlags:[2,"traceFlags"]}),Dc="MicrosoftApplicationsTelemetryDeviceId",kc=function Cf(s,c){var u=0;ie(Cf,this,function(e){var t,n,r,i,a=s.propertyStorageOverride,o=(e.seq=u,e.epoch=Bn(!1).toString(),y(c,s));o.isEnabled()||a?(r=o,i=Dc,r=(a?a.getProperty(i)||"":ia(r,i))||Qr(),i=o,t=Dc,n=r,a?a.setProperty(t,n):i.set(t,n,31536e3),e.installId=r):o.purge(Dc),e.getSequenceId=function(){return++u}})};function Ac(){return hc=hc===undefined?!!Mc(0):hc}function Oc(){return Ac()?Mc(0):null}function Mc(e){var t,n,r=null;try{var i=B();if(!i)return null;n=new Date,(r=0===e?i.localStorage:i.sessionStorage)&&X(r.setItem)&&(r.setItem(n,n),t=r.getItem(n)!==n,r.removeItem(n),t&&(r=null))}catch(a){r=null}return r}function Lc(e,t,n){var r=Oc();if(null!==r)try{r.setItem(t,n)}catch(i){hc=!1,ce(e,1,504,"Browser failed write to local storage. "+i)}}function Rc(e,t){var n=Oc();if(null!==n)try{return n.getItem(t)}catch(r){hc=!1,ce(e,1,503,"Browser failed read of local storage. "+r)}return null}var Uc="ai_session",Vc=(Hc.acquisitionSpan=864e5,Hc.renewalSpan=18e5,Hc.cookieUpdateInterval=6e4,Hc);function Hc(e,t){var c,u,l=Pn(e),f=y(e);ie(Hc,this,function(o){var e,r={sessionRenewalMs:(e=t).sessionRenewalMs&&function(){return e.sessionRenewalMs},sessionExpirationMs:e.sessionExpirationMs&&function(){return e.sessionExpirationMs},cookieDomain:e.cookieDomain&&function(){return e.cookieDomain},namePrefix:e.namePrefix&&function(){return e.namePrefix},sessionAsGuid:function(){return e.sessionAsGuid},idLength:function(){return e.idLength||22}};function i(e){var t,n,r=o.automaticSession,e=e.split("|");0<e.length&&r.setId(e[0]);try{1<e.length&&(t=+e[1],r.acquisitionDate=+new Date(t),r.acquisitionDate=0<r.acquisitionDate?r.acquisitionDate:0),2<e.length&&(n=+e[2],r.renewalDate=+new Date(n),r.renewalDate=0<r.renewalDate?r.renewalDate:0)}catch(i){ce(l,1,510,"Error parsing ai_session cookie, session will be reset: "+i)}0===r.renewalDate&&ce(l,2,517,"AI session renewal date is 0, session will be reset.")}function a(){var e=o.automaticSession,t=(new Date).getTime(),n=o.config.sessionAsGuid();!W(n)&&n?Ge(n)?e.setId(aa()):e.setId(aa(n)):e.setId(zn(r&&r.idLength?r.idLength():22)),e.acquisitionDate=t,e.renewalDate=t,s(e.getId(),e.acquisitionDate,e.renewalDate),Ac()||ce(l,2,505,"Browser does not support local storage. Session durations will be inaccurate.")}function s(e,t,n){var r=t+o.config.sessionExpirationMs(),i=n+o.config.sessionRenewalMs(),a=new Date,e=[e,t,n],t=(r<i?a.setTime(r):a.setTime(i),o.config.cookieDomain?o.config.cookieDomain():null);f.set(u(),e.join("|")+";expires="+a.toUTCString(),null,t),c=(new Date).getTime()}X(t.sessionExpirationMs)||(r.sessionExpirationMs=function(){return Hc.acquisitionSpan}),X(t.sessionRenewalMs)||(r.sessionRenewalMs=function(){return Hc.renewalSpan}),o.config=r,u=function(){return o.config.namePrefix&&o.config.namePrefix()?Uc+o.config.namePrefix():Uc},o.automaticSession=new pc,o.update=function(){o.automaticSession.getId()||((e=f.get(u()))&&X(e.split)?i(e):(e=Rc(l,u()))&&i(e),o.automaticSession.getId()||a());var e=o.automaticSession,t=o.config,n=(new Date).getTime(),r=n-e.acquisitionDate>t.sessionExpirationMs(),t=n-e.renewalDate>t.sessionRenewalMs();r||t?a():(!(r=c)||Hc.cookieUpdateInterval<n-r)&&(e.renewalDate=n,s(e.getId(),e.acquisitionDate,e.renewalDate))},o.backup=function(){var e=o.automaticSession,t=e.getId(),n=e.acquisitionDate,e=e.renewalDate;Lc(l,u(),[t,n,e].join("|"))}})}function qc(e,t,n,r){var i=t.ext[h[e]];return i&&te(r,function(e,t){J(t)&&(i[n[e]]=t)}),i}var Fc,Bc=function Tf(f,d,p){ie(Tf,this,function(n){n.app=new Fs(d,p),n.cloud=new zs,n.user=new js(f,d,p),n.os=new oc(d),n.web=new $s(d,p);var e,t,r,i=new kc(f,p),a=new sc(d,p),o=new lc(d),s=(n.loc=new fc,n.device=new dc,new Vc(p,d)),c=(n.session=new pc,e=new vc(d),t=l(),r=e||{},{getName:function(){return r.name},setName:function(e){t&&t.setName(e),r.name=e},getTraceId:function(){return r.traceId},setTraceId:function(e){t&&t.setTraceId(e),ai(e)&&(r.traceId=e)},getSpanId:function(){return r.parentId},setSpanId:function(e){t&&t.setSpanId(e),oi(e)&&(r.parentId=e)},getTraceFlags:function(){return r.traceFlags},setTraceFlags:function(e){t&&t.setTraceFlags(e),r.traceFlags=e}});function u(){var e=n.session;if(e&&J(e.customId))return e.customId;s.update();var t=s.automaticSession;return t&&(t=t.getId())&&J(t)&&(e.automaticId=t),e.automaticId}function l(){var e=c;return p&&p.getTraceCtx?p.getTraceCtx(!1)||c:e}n.getTraceCtx=function(){return c},n.getSessionId=u,n.applyApplicationContext=function(e){var t=n.app;qc(4,e,mc,((e={})[0]=t.id,e[1]=t.ver,e[2]=t.name,e[3]=t.locale,e[4]=t.getExpId(),e[5]=t.env,e))},n.applyUserContext=function(e){var t=n.user;qc(0,e,Cc,((e={})[1]=t.getLocalId(),e[0]=t.locale,e[2]=t.id,e))},n.applyWebContext=function(e){var t=n.web;qc(3,e,yc,((e={})[0]=t.domain,e[1]=t.browser,e[2]=t.browserVer,e[3]=t.screenRes,e[5]=t.getUserConsentDetails(),e))[yc[4]]=t.getUserConsent()},n.applyOsContext=function(e){var t=n.os;qc(5,e,Tc,((e={})[0]=t.name,e[1]=t.ver,e))},n.applySdkContext=function(e){e=qc(6,e,bc,((e={})[2]=i.installId,e));e[bc[1]]=i.getSequenceId(),e[bc[3]]=i.epoch},n.applyIntWebContext=function(e){qc(7,e,Ic,((e={})[0]=a.getMsfpc(),e[1]=a.getAnid(),e[2]=a.serviceName,e))},n.applyUtcContext=function(e){e=e.ext[h[8]];e[Ec[0]]=o.popSample,0<o.eventFlags&&(e[Ec[1]]=o.eventFlags)},n.applyLocContext=function(e){e.ext[h[9]][xc.tz]=n.loc.tz},n.applySessionContext=function(e){e.ext[h[4]][Sc[0]]=u()},n.applyDeviceContext=function(e){var t=n.device;qc(1,e,Nc,((e={})[0]=t.localId,e[2]=t.make,e[3]=t.model,e[1]=t.deviceClass,e))},n.applyCloudContext=function(e){var t=n.cloud;qc(10,e,wc,((e={})[0]=t.role,e[1]=t.roleInstance,e[2]=t.roleVer,e))},n.applyAITraceContext=function(e){var t;d.enableApplicationInsightsTrace&&(t=l())&&qc(2,e,_c,((e={})[0]=t.getTraceId(),e[1]=t.getName(),e[2]=t.getSpanId(),e))},n.applyDistributedTraceContext=function(e){var t,n=l();n&&((t={})[0]=n.getTraceId(),t[1]=n.getSpanId(),t=t,G(n=n.getTraceFlags())||(t[2]=n),qc(11,e,Pc,t))}})},zc=[h[4],h[0],h[3],h[5],h[6],h[7],h[8],h[9],h[1],h[2],h[11],h[10]];function Kc(){var o,s,c,e=Fc.call(this)||this;return e.identifier="SystemPropertiesCollector",e.priority=3,e.version="3.2.3",ie(Kc,e,function(a,r){function i(){o=null,s={}}i(),a.initialize=function(e,t,n){r.initialize(e,t,n),c=a._getTelCtx().getExtCfg(a.identifier),o=new Bc(e,c,t),t&&t.setTraceCtx&&t.setTraceCtx(o.getTraceCtx())},a.processTelemetry=function(e,t){sa(e,a.identifier),t=a._getTelCtx(t);var n,r,i=e.ext=e.ext||{};e.data=e.data||{},ne(zc,function(e){i[e]=i[e]||{}}),o&&(o.applyApplicationContext(e),o.applyUserContext(e),o.applyWebContext(e),o.applyOsContext(e),o.applySdkContext(e),o.applyIntWebContext(e),o.applyUtcContext(e),o.applyLocContext(e),o.applySessionContext(e),o.applyDeviceContext(e),c.enableApplicationInsightsTrace&&o.applyAITraceContext(e),c.enableDistributedTracing&&o.applyDistributedTraceContext(e),o.applyCloudContext(e)),ne(et(i),function(e){0===et(i[e]).length&&delete i[e]}),n=s,r=e.data,n&&te(n,function(e,t){r[e]||(r[e]=t)}),a.processNext(e,t)},a.getPropertiesContext=function(){return o},a.setProperty=function(e,t){s[e]=t},a._doTeardown=function(e,t){var n,e=(e||{}).core();e&&e.getTraceCtx&&o&&(n=e.getTraceCtx(!1))&&n===o.getTraceCtx()&&e.setTraceCtx(null),i()}}),e}e(Kc,Fc=t);var jc=Kc,Wc="REAL_TIME",Gc="POST",Xc="drop",r="requeue",Qc="application/x-json-stream",Jc="cache-control",Yc="content-type",$c="kill-duration",Zc="time-delta-millis",eu="client-version",tu="client-id",nu="time-delta-to-apply-millis",ru="upload-time",iu="apikey",au="AuthMsaDeviceTicket",we="AuthXToken",ou="msfpc";function su(e){e=(e.ext||{}).intweb;return e&&ue(e[ou])?e[ou]:null}function cu(e){for(var t=null,n=0;null===t&&n<e.length;n++)t=su(e[n]);return t}lu.create=function(e,t){return new lu(e,t)};var uu=lu;function lu(r,e){var i=e?[].concat(e):[],e=this,a=cu(i);e.iKey=function(){return r},e.Msfpc=function(){return a||""},e.count=function(){return i.length},e.events=function(){return i},e.addEvent=function(e){return!!e&&(i.push(e),a=a||su(e),!0)},e.split=function(e,t){var n;return e<i.length&&(n=i.length-e,G(t)||(n=t<n?t:n),n=i.splice(e,n),a=cu(i)),new lu(r,n)}}var fu="metadata",du=/\./,pu=function bf(t,e,C,n){var a="baseData",T=!!n,b=e,I={};ie(bf,this,function(m){function y(e,f,d,p,g,h,v){te(e,function(e,t){if(t||ue(t)){var n,r=d,i=e,a=g,o=f;if(T&&!p&&du.test(e)){var s=e.split("."),c=s.length;if(1<c){for(var a=a&&a.slice(),u=0;u<c-1;u++){var l=s[u],o=o[l]=o[l]||{};r+="."+l,a&&a.push(l)}i=s[c-1]}}(e=p&&((n=I[e=r])===undefined&&(7<=e.length&&(n=Ke(e,"ext.metadata")||Ke(e,"ext.web")),I[e]=n),n)||!b||!b.handleField(r,i)?function(e,t){if(!e&&!ue(e)||"string"!=typeof i)return null;var n=typeof e;if("string"==n||"number"==n||"boolean"==n||Q(e))e={value:e};else if("object"!=n||e.hasOwnProperty("value")){if(G(e.value)||""===e.value||!J(e.value)&&!We(e.value)&&!Ge(e.value)&&!Q(e.value))return null}else e={value:t?JSON.stringify(e):e};if(Q(e.value)&&!(0<e.value.length))return null;if(!G(e.kind)){if(Q(e.value)||!(0===(n=e.kind)||0<n&&n<=13||32===n))return null;e.value=e.value.toString()}return e}(t,C):b.value(r,i,t,C))&&(n=e.value,o[i]=n,h&&h(a,i,e),v&&"object"==typeof n&&!Q(n)&&((e=a)&&(e=a.slice()).push(i),y(t,n,r+"."+i,p,e,h,v)))}})}m.createPayload=function(e,t,n,r,i,a){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:e,isTeardown:t,isSync:n,isBeacon:r,sendType:a,sendReason:i}},m.appendPayload=function(g,h,v){var e=g&&h&&!g.overflow;return e&&Rn(t,function(){return"Serializer:appendPayload"},function(){for(var e=h.events(),t=g.payloadBlob,n=g.numEvents,r=!1,i=[],a=[],o=g.isBeacon,s=o?65e3:3984588,c=o?65e3:2e6,u=0,l=0;u<e.length;){var f=e[u];if(f){if(v<=n){g.overflow=h.split(u);break}var d=m.getEventBlob(f);if(d&&d.length<=c){var p=d.length;if(s<t.length+p){g.overflow=h.split(u);break}t&&(t+="\n"),t+=d,20<++l&&(t.substr(0,1),l=0),r=!0,n++}else(d?i:a).push(f),e.splice(u,1),u--}u++}i&&0<i.length&&g.sizeExceed.push(uu.create(h.iKey(),i)),a&&0<a.length&&g.failedEvts.push(uu.create(h.iKey(),a)),r&&(g.batches.push(h),g.payloadBlob=t,g.numEvents=n,o=h.iKey(),-1===Je(g.apiKeys,o)&&g.apiKeys.push(o))},function(){return{payload:g,theBatch:{iKey:h.iKey(),evts:h.events()},max:v}}),e},m.getEventBlob=function(i){try{return Rn(t,function(){return"Serializer.getEventBlob"},function(){var e={},r=(e.name=i.name,e.time=i.time,e.ver=i.ver,e.iKey="o:"+function(e){if(e){var t=e.indexOf("-");if(-1<t)return e.substring(0,t)}return""}(i.iKey),{}),t=i.ext,t=(t&&(e.ext=r,te(t,function(e,t){y(t,r[e]={},"ext."+e,!0,null,null,!0)})),e.data={}),n=(t.baseType=i.baseType,t[a]={});return y(i.baseData,n,a,!1,[a],function(e,t,n){gu(r,e,t,n)},!0),y(i.data,t,"data",!1,[],function(e,t,n){gu(r,e,t,n)},!0),JSON.stringify(e)},function(){return{item:i}})}catch(e){return null}}})};function gu(e,t,n,r){if(r&&e){var i=ra(r.value,r.kind,r.propertyType);if(-1<i){var a=e[fu],o=(o=(a=a||(e[fu]={f:{}})).f)||(a.f={});if(t)for(var s=0;s<t.length;s++)var c=t[s],o=(o[c]||(o[c]={f:{}}),o[c].f||(o[c].f={}));o=o[n]={},Q(r.value)?o.a={t:i}:o.t=i}}}var hu=.8,vu=1.2,mu=3e3,yu=6e5;function Cu(e){var t=mu*hu;return Math.min(Math.pow(2,e)*(Math.floor(Math.random()*(mu*vu-t))+t),yu)}var Tu=function If(){var c={};ie(If,this,function(e){e.setKillSwitchTenants=function(e,t){if(e&&t)try{a=e.split(","),o=[],a&&ne(a,function(e){o.push(Y(e))});var n=o;if("this-request-only"===t)return n;for(var r=1e3*parseInt(t,10),i=0;i<n.length;++i)c[n[i]]=rt()+r}catch(s){return[]}var a,o;return[]},e.isTenantKilled=function(e){var t=c,e=Y(e);return t[e]!==undefined&&t[e]>rt()||(delete t[e],!1)}})},bu=function Ef(){var t=!0,n=!0,r=!0,i="use-collector-delta",a=!1;ie(Ef,this,function(e){e.allowRequestSending=function(){return t},e.firstRequestSent=function(){r&&(r=!1,a||(t=!1))},e.shouldAddClockSkewHeaders=function(){return n},e.getClockSkewHeaderValue=function(){return i},e.setClockSkew=function(e){a||(e?(i=e,a=n=!0):n=!1,t=!0)}})},Iu="sendAttempt",Eu="&NoResponseBody=true",xu=((ff={})[1]=r,ff[100]=r,ff[200]="sent",ff[8004]=Xc,ff[8003]=Xc,ff),Su={},Nu={};function wu(e,t,n){Su[e]=t,!1!==n&&(Nu[t]=e)}function _u(e){try{return e.responseText}catch(t){}return""}function Pu(e,t){var n=!1;if(e&&t){var r=et(e);if(r&&0<r.length)for(var i=t.toLowerCase(),a=0;a<r.length;a++){var o=r[a];if(o&&Fe(t,o)&&o.toLowerCase()==i){n=!0;break}}}return n}function Du(e,t,n,r){t&&n&&0<n.length&&(r&&Su[t]?(e.hdrs[Su[t]]=n,e.useHdrs=!0):e.url+="&"+t+"="+n)}wu(au,au,!1),wu(eu,eu),wu(tu,"Client-Id"),wu(iu,iu),wu(nu,nu),wu(ru,ru),wu(we,we);var ku=function xf(h,e,E,x,S){this._responseHandlers=[];var N,w,_,P,D,k,A="?cors=true&content-type="+Qc,O=new Tu,M=!1,L=new bu,R=!1,U=0,V=!0,H=[],q={},F=[],B=null,z=!1,K=!1,j=!1;ie(xf,this,function(v){var s=!0;function o(e,t){for(var n=0,r=null,i=0;null==r&&i<e.length;)1===(n=e[i])?Cn()?r=a:Tn()&&(r=u):2===n&&function(e){var t=!1;try{var t=!!ae("fetch"),n=ae("Request");t&&e&&n&&(t=sn(n,"keepalive"))}catch(r){}return t}(t)?r=c:R&&3===n&&yn()&&(r=l),i++;return r?{_transport:n,_isSync:t,sendPOST:r}:null}function a(e,t,n){var r=new XDomainRequest;r.open(Gc,e.urlString),e.timeout&&(r.timeout=e.timeout),r.onload=function(){var e=_u(r);m(t,200,{},e),f(e)},r.onerror=function(){m(t,400,{})},r.ontimeout=function(){m(t,500,{})},r.onprogress=function(){},n?r.send(e.data):S.set(function(){r.send(e.data)},0)}function c(e,r,t){var n,i=e.urlString,a=!1,o=!1;(n={body:e.data,method:Gc}).Microsoft_ApplicationInsights_BypassAjaxInstrumentation=!0;t&&(n.keepalive=!0,2===e._sendReason&&(a=!0,i+=Eu)),s&&(n.credentials="include"),e.headers&&0<et(e.headers).length&&(n.headers=e.headers),fetch(i,n).then(function(e){var n={},t="";e.headers&&e.headers.forEach(function(e,t){n[t]=e}),e.body&&e.text().then(function(e){t=e}),o||(o=!0,m(r,e.status,n,t),f(t))})["catch"](function(e){o||(o=!0,m(r,0,{}))}),a&&!o&&(o=!0,m(r,200,{})),!o&&0<e.timeout&&S.set(function(){o||(o=!0,m(r,500,{}))},e.timeout)}function u(e,a,t){var n=e.urlString;function o(e,t,n){return!e[n]&&t&&t.getResponseHeader&&(t=t.getResponseHeader(n))&&(e[n]=Y(t)),e}function r(e,t){var n,r,i;m(a,e.status,(i={},(e=e).getAllResponseHeaders?(n=e.getAllResponseHeaders(),r={},J(n)&&ne(Y(n).split(/[\r\n]+/),function(e){var t,n;e&&(-1!=(n=e.indexOf(": "))?(t=Y(e.substring(0,n)).toLowerCase(),n=Y(e.substring(1+n)),r[t]=n):r[Y(e)]=1)}),r):(i=o(i,e,Zc),i=o(i,e,$c),o(i,e,"kill-duration-seconds"))),t)}t&&e.disableXhrSync&&(t=!1);var i=ca(Gc,n,s,!0,t,e.timeout);te(e.headers,function(e,t){i.setRequestHeader(e,t)}),i.onload=function(){var e=_u(i);r(i,e),f(e)},i.onerror=function(){r(i)},i.ontimeout=function(){r(i)},i.send(e.data)}function m(e,t,n,r){try{e(t,n,r)}catch(i){ce(N.diagLog(),2,518,Z(i))}}function l(e,t,n){var r=200,i=e._thePayload,a=e.urlString+Eu;try{var o,s=fn();s.sendBeacon(a,e.data)||(i?(o=[],ne(i.batches,function(e){if(o&&e&&0<e.count()){for(var t=e.events(),n=0;n<t.length;n++)if(!s.sendBeacon(a,B.getEventBlob(t[n]))){o.push(e.split(n));break}}else o.push(e.split(0))}),I(o,8003,i.sendType,!0)):r=0)}catch(c){N.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+Z(c)),r=0}finally{m(t,r,{},"")}}function y(e){return 2===e||3===e}function r(e){return K&&y(e)?2:e}function i(){return!M&&U<e}function n(){var e=F;return F=[],e}function d(e,t,n){return e&&0<e.length&&!M&&w[t]&&B&&(0!==t||i()&&(0<n||L.allowRequestSending()))}function p(e){var n={};return e&&ne(e,function(e,t){n[t]={iKey:e.iKey(),evts:e.events()}}),n}function C(o,s,c,u,l){if(o&&0!==o.length)if(M)I(o,1,u);else{u=r(u);try{var e=o,f=0!==u;Rn(_,function(){return"HttpManager:_sendBatches"},function(e){e&&(o=o.slice(0));for(var t=[],n=null,r=oa(),e=w[u]||(f?w[1]:w[0]),i=(K||y(u)||e&&3===e._transport)&&!V&&R&&yn();d(o,u,s);){var a=o.shift();a&&0<a.count()&&(O.isTenantKilled(a.iKey())?t.push(a):(n=n||B.createPayload(s,c,f,i,l,u),B.appendPayload(n,a,h)?null!==n.overflow&&(o=[n.overflow].concat(o),n.overflow=null,g(n,r,oa(),l),r=oa(),n=null):(g(n,r,oa(),l),r=oa(),o=[a].concat(o),n=null)))}n&&g(n,r,oa(),l),0<o.length&&(F=o.concat(F)),I(t,8004,u)},function(){return{batches:p(e),retryCount:s,isTeardown:c,isSynchronous:f,sendReason:l,useSendBeacon:y(u),sendType:u}},!f)}catch(t){ce(N.diagLog(),2,48,"Unexpected Exception sending batch: "+Z(t))}}}function T(e,t,n){e[t]=e[t]||{},e[t][N.identifier]=n}function g(p,s,c,g){var u,l,f,d,h;p&&p.payloadBlob&&0<p.payloadBlob.length&&(u=!!v.sendHook,l=w[p.sendType],!y(p.sendType)&&p.isBeacon&&2===p.sendReason&&(l=w[2]||w[3]||l),d=j,!p.isBeacon&&3!==l._transport||(d=!1),f=function(e,t){var n={url:A,hdrs:{},useHdrs:!1},r=(t?(n.hdrs=le(n.hdrs,q),n.useHdrs=0<et(n.hdrs).length):te(q,function(e,t){Nu[e]?Du(n,Nu[e],t,!1):(n.hdrs[e]=t,n.useHdrs=!0)}),Du(n,tu,"NO_AUTH",t),Du(n,eu,Ji,t),""),e=(ne(e.apiKeys,function(e){0<r.length&&(r+=","),r+=e}),Du(n,iu,r,t),Du(n,ru,rt().toString(),t),function(e){for(var t=0;t<e.batches.length;t++){var n=e.batches[t].Msfpc();if(n)return encodeURIComponent(n)}return""}(e));ue(e)&&(n.url+="&ext.intweb.msfpc="+e),L.shouldAddClockSkewHeaders()&&Du(n,nu,L.getClockSkewHeaderValue(),t),_.getWParam&&0<=(e=_.getWParam())&&(n.url+="&w="+e);for(var i=0;i<H.length;i++)n.url+="&"+H[i].name+"="+H[i].value;return n}(p,d),d=d||f.useHdrs,h=oa(),Rn(_,function(){return"HttpManager:_doPayloadSend"},function(){for(var e=0;e<p.batches.length;e++)for(var t=p.batches[e].events(),n=0;n<t.length;n++){var r,i=t[n];z&&(T(r=i.timings=i.timings||{},"sendEventStart",h),T(r,"serializationStart",s),T(r,"serializationCompleted",c)),0<i[Iu]?i[Iu]++:i[Iu]=1}I(p.batches,1e3+(g||0),p.sendType,!0);var a={data:p.payloadBlob,urlString:f.url,headers:f.hdrs,_thePayload:p,_sendReason:g,timeout:D},o=(W(k)||(a.disableXhrSync=!!k),d&&(Pu(a.headers,Jc)||(a.headers[Jc]="no-cache, no-store"),Pu(a.headers,Yc)||(a.headers[Yc]=Qc)),null);l&&(o=function(e){L.firstRequestSent();var t=function(e,t){var n,r,i=p,a=g,o=9e3,s=null,c=!1,u=!1;try{var l,f=!0;if(typeof e!==fe){if(t&&(L.setClockSkew(t[Zc]),d=t[$c]||t["kill-duration-seconds"],ne(O.setKillSwitchTenants(t["kill-tokens"],d),function(t){ne(i.batches,function(e){e.iKey()===t&&(s=s||[],e=e.split(0),i.numEvents-=e.count(),s.push(e))})})),200==e||204==e)return void(o=200);(300<=e&&e<500&&408!=e&&429!=e||501==e||505==e||i.numEvents<=0)&&(f=!1),o=9e3+e%1e3}f&&(o=100,l=i.retryCnt,0===i.sendType&&(l<E?(c=!0,b(function(){0===i.sendType&&U--,C(i.batches,l+1,i.isTeardown,K?2:i.sendType,5)},K,Cu(l))):(u=!0,K&&(o=8001))))}finally{if(!c){L.setClockSkew();var t=i,d=o,e=a,f=u;try{f&&N._backOffTransmission(),200===d&&(f||t.isSync||N._clearBackOff(),n=t.batches,z&&(r=oa(),ne(n,function(e){var t;e&&0<e.count()&&(e=e.events(),t=r,z&&ne(e,function(e){T(e.timings=e.timings||{},"sendEventCompleted",t)}))}))),I(t.batches,d,t.sendType,!0)}finally{0===t.sendType&&(U--,5!==e&&v.sendQueuedRequests(t.sendType,e))}}I(s,8004,i.sendType)}},n=p.isTeardown||p.isSync;try{l.sendPOST(e,t,n),v.sendListener&&v.sendListener(a,e,n,p.isBeacon)}catch(r){N.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+Z(r)),m(t,0,{})}}),Rn(_,function(){return"HttpManager:_doPayloadSend.sender"},function(){var t,n;o&&(0===p.sendType&&U++,u&&!p.isBeacon&&3!==l._transport?(t={data:a.data,urlString:a.urlString,headers:le({},a.headers),timeout:a.timeout,disableXhrSync:a.disableXhrSync},n=!1,Rn(_,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{v.sendHook(t,function(e){n=!0,V||e._thePayload||(e._thePayload=e._thePayload||a._thePayload,e._sendReason=e._sendReason||a._sendReason),o(e)},p.isSync||p.isTeardown)}catch(e){n||o(a)}})):o(a))})},function(){return{thePayload:p,serializationStart:s,serializationCompleted:c,sendReason:g}},p.isSync)),p.sizeExceed&&0<p.sizeExceed.length&&I(p.sizeExceed,8003,p.sendType),p.failedEvts&&0<p.failedEvts.length&&I(p.failedEvts,8002,p.sendType)}function b(e,t,n){t?e():S.set(e,n)}function f(e){var t=v._responseHandlers;try{for(var n,r=0;r<t.length;r++)try{t[r](e)}catch(i){ce(N.diagLog(),1,519,"Response handler failed: "+i)}e&&ue((n=JSON.parse(e)).webResult)&&ue(n.webResult[ou])&&P.set("MSFPC",n.webResult[ou],31536e3)}catch(a){}}function I(t,n,r,e){var i,a,o;t&&0<t.length&&x&&(i=x[ue(o=xu[n])||(o="oth",9e3<=n&&n<=9999?o="rspFail":8e3<=n&&n<=8999?o=Xc:1e3<=n&&n<=1999&&(o="send")),o])&&Rn(_,function(){return"HttpManager:_sendBatchesNotification"},function(){b(function(){try{i.call(x,t,n,a,r)}catch(e){ce(N.diagLog(),1,74,"send request notification failed: "+e)}},e||a,0)},function(){return{batches:p(t),reason:n,isSync:a,sendSync:e,sendType:r}},!(a=0!==r))}v.initialize=function(e,t,n,r,i){A=e+A,j=!!W((i=i||{}).avoidOptions)||!i.avoidOptions,P=(_=t).getCookieMgr(),z=!_.config.disableEventTimings;var a,e=!!_.config.enableCompoundKey,t=(N=n,i.valueSanitizer),n=i.stringifyObjects,t=(W(i.enableCompoundKey)||(e=!!i.enableCompoundKey),D=i.xhrTimeout,k=i.disableXhrSync,R=!vn(),B=new pu(_,t,n,e),r),n=i.alwaysUseXhrOverride?r:null,e=i.alwaysUseXhrOverride?r:null;r||(V=!1,(a=$())&&a.protocol&&"file:"==a.protocol.toLowerCase()&&(s=!1),a=[],a=vn()?[2,1]:[1,2,3],(i=i.transports)&&(We(i)?a=[i].concat(a):Q(i)&&(a=i.concat(a))),r=o(a,!1),t=o(a,!0),r||N.diagLog().warnToConsole("No available transport to send events")),(i={})[0]=r,i[1]=t||o([1,2,3],!0),i[2]=n||o([3,2],!0)||t||o([1],!0),i[3]=e||o([2,3],!0)||t||o([1],!0),w=i},v._getDbgPlgTargets=function(){return[w[0],O,B,w]},v.addQueryStringParameter=function(e,t){for(var n=0;n<H.length;n++)if(H[n].name===e)return void(H[n].value=t);H.push({name:e,value:t})},v.addHeader=function(e,t){q[e]=t},v.canSendRequest=function(){return i()&&L.allowRequestSending()},v.sendQueuedRequests=function(e,t){W(e)&&(e=0),K&&(e=r(e),t=2),d(F,e,0)&&C(n(),0,!1,e,t||0)},v.isCompletelyIdle=function(){return!M&&0===U&&0===F.length},v.setUnloading=function(e){K=e},v.addBatch=function(e){if(e&&0<e.count()){if(O.isTenantKilled(e.iKey()))return!1;F.push(e)}return!0},v.teardown=function(){0<F.length&&C(n(),0,!0,2,2)},v.pause=function(){M=!0},v.resume=function(){M=!1,v.sendQueuedRequests(0,4)},v.sendSynchronousBatch=function(e,t,n){e&&0<e.count()&&(G(t)&&(t=1),K&&(t=r(t),n=2),C([e],0,!1,t,n||0))}})};function Au(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout(e,t,n)}function Ou(e){clearTimeout(e)}function Mu(e,t){return{set:e||Au,clear:t||Ou}}var Lu,Ru="eventsDiscarded",Uu="overrideInstrumentationKey",Vu="maxEventRetryAttempts",Hu="maxUnloadEventRetryAttempts";function qu(){var w,_,P,D,k,A,O,M,e=Lu.call(this)||this,L=(e.identifier="PostChannel",e.priority=1011,!(e.version="3.2.3")),R=[],U=null,V=!1,H=0,q=500,F=0,B=1e4,z={},K=Wc,j=null,W=null,G=0,X=0,Q={},J=-1,Y=!0,$=!1,Z=6,ee=2;return ie(qu,e,function(l,f){function d(e){"beforeunload"!==(e||oe().event).type&&($=!0,P.setUnloading($)),u(2,2)}function p(e){$=!1,P.setUnloading($)}function i(e,t){if(e.sendAttempt||(e.sendAttempt=0),e.latency||(e.latency=1),e.ext&&e.ext.trace&&delete e.ext.trace,e.ext&&e.ext.user&&e.ext.user.id&&delete e.ext.user.id,Y&&(e.ext=ut(e.ext),e.baseData&&(e.baseData=ut(e.baseData)),e.data&&(e.data=ut(e.data))),e.sync)if(G||V)e.latency=3,e.sync=!1;else if(P)return Y&&(e=ut(e)),P.sendSynchronousBatch(uu.create(e.iKey,[e]),!0===e.sync?1:e.sync,3);var n=e.latency,r=F,i=B,a=(4===n&&(r=H,i=q),!1);r<i?a=!v(e,t):(r=1,i=20,4===n&&(r=4,i=1),a=!0,function(e,t,n,r){for(;n<=t;){var i=g(e,t,!0);if(i&&0<i.count()){var i=i.split(0,r),a=i.count();if(0<a)return 4===n?H-=a:F-=a,b(Ru,[i],dt.QueueFull),1}n++}return m(),0}(e.iKey,e.latency,r,i)&&(a=!v(e,t))),a&&T(Ru,[e],dt.QueueFull)}function a(e,t,n){y(e,t,n),P.sendQueuedRequests(t,n)}function o(){0<=J&&y(J,0,A)&&P.sendQueuedRequests(0,A),0<H&&!W&&!V&&0<=(e=z[K][2])&&(W=s(function(){W=null,a(4,0,1),o()},e));var e=z[K][1];!j&&!U&&0<=e&&!V&&(0<F?j=s(function(){j=null,a(0===X?3:1,0,1),X++,X%=2,o()},e):X=0)}function r(){L=!1,V=!(R=[]),q=500,B=1e4,z={},K=Wc,X=G=F=H=0,_=W=j=U=w=null,Q={},D=undefined,k=0,J=-1,$=!(Y=!(A=null)),Z=6,O=null,M=Mu(),P=new ku(500,ee=2,1,{requeue:e,send:n,sent:I,drop:E,rspFail:x,oth:S},M),t(),Q[4]={batches:[],iKeyMap:{}},Q[3]={batches:[],iKeyMap:{}},Q[2]={batches:[],iKeyMap:{}},Q[1]={batches:[],iKeyMap:{}},N()}function s(e,t){0===t&&G&&(t=1);var n=1e3;return G&&(n=Cu(G-1)),M.set(e,t*n)}function c(){return null!==j&&(M.clear(j),j=null,!(X=0))}function u(e,t){c(),U&&(M.clear(U),U=null),V||a(1,e,t)}function g(e,t,n){var r=Q[t],t=(r=r||Q[t=1]).iKeyMap[e];return!t&&n&&(t=uu.create(e),r.batches.push(t),r.iKeyMap[e]=t),t}function h(e,t){P.canSendRequest()&&!G&&(t=0<D&&D<F||t)&&null==U&&l.flush(e,null,20)}function v(e,t){var n=(e=Y?ut(e):e).latency,r=g(e.iKey,n,!0);return r.addEvent(e)&&(4!==n?(F++,t&&0===e.sendAttempt&&h(!e.sync,0<k&&r.count()>=k)):H++,1)}function m(){for(var n=0,r=0,e=1;e<=4;e++)!function(t){var e=Q[t];e&&e.batches&&ne(e.batches,function(e){4===t?n+=e.count():r+=e.count()})}(e);F=r,H=n}function y(r,e,t){var i=!1,n=0===e;return!n||P.canSendRequest()?Rn(l.core,function(){return"PostChannel._queueBatches"},function(){for(var t=[],n=4;r<=n;){var e=Q[n];e&&e.batches&&0<e.batches.length&&(ne(e.batches,function(e){P.addBatch(e)?i=i||e&&0<e.count():t=t.concat(e.events()),4===n?H-=e.count():F-=e.count()}),e.batches=[],e.iKeyMap={}),n--}0<t.length&&T(Ru,t,dt.KillSwitch),i&&r<=J&&(J=-1,A=0)},function(){return{latency:r,sendType:e,sendReason:t}},!n):(J=0<=J?Math.min(J,r):r,A=Math.max(A,t)),i}function t(){z={REAL_TIME:[2,1,0],NEAR_REAL_TIME:[6,3,0],BEST_EFFORT:[18,9,0]}}function e(e,t){var n=[],r=$?ee:Z;ne(e,function(e){e&&0<e.count()&&ne(e.events(),function(e){e&&(e.sync&&(e.latency=4,e.sync=!1),e.sendAttempt<r?(sa(e,l.identifier),i(e,!1)):n.push(e))})}),0<n.length&&T(Ru,n,dt.NonRetryableStatus),$&&u(2,2)}function C(e,t){var n=l._notificationManager||{},r=n[e];if(r)try{r.apply(n,t)}catch(i){ce(l.diagLog(),1,74,e+" notification failed: "+i)}}function T(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t&&0<t.length&&C(e,[t].concat(n))}function b(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];e&&0<e.length&&ne(e,function(e){e&&0<e.count()&&C(t,[e.events()].concat(n))})}function n(e,t,n){e&&0<e.length&&C("eventsSendRequest",[1e3<=t&&t<=1999?t-1e3:0,!0!==n])}function I(e,t){b("eventsSent",e,t),o()}function E(e,t){b(Ru,e,8e3<=t&&t<=8999?t-8e3:dt.Unknown)}function x(e){b(Ru,e,dt.NonRetryableStatus),o()}function S(e,t){b(Ru,e,dt.Unknown),o()}function N(){k=w&&w.disableAutoBatchFlushLimit?0:Math.max(1500,B/6)}r(),l._getDbgPlgTargets=function(){return[P]},l.initialize=function(s,c,u){Rn(c,function(){return"PostChannel:initialize"},function(){var t,e=c;f.initialize(s,c,u);try{c.addUnloadCb,O=Fr(Qn(l.identifier),c.evtNamespace&&c.evtNamespace());var n=l._getTelCtx(),r=(s.extensionConfig[l.identifier]=s.extensionConfig[l.identifier]||{},w=n.getExtCfg(l.identifier),M=Mu(w.setTimeoutOverride,w.clearTimeoutOverride),Y=!w.disableOptimizeObj&&!!ae("chrome"),t=e.getWParam,e.getWParam=function(){var e=0;return w.ignoreMc1Ms0CookieProcessing&&(e|=2),e|t()},0<w.eventsLimitInMem&&(B=w.eventsLimitInMem),0<w.immediateEventLimit&&(q=w.immediateEventLimit),0<w.autoFlushEventsLimit&&(D=w.autoFlushEventsLimit),We(w[Vu])&&(Z=w[Vu]),We(w[Hu])&&(ee=w[Hu]),N(),w.httpXHROverride&&w.httpXHROverride.sendPOST&&(_=w.httpXHROverride),ue(s.anonCookieName)&&P.addQueryStringParameter("anoncknm",s.anonCookieName),P.sendHook=w.payloadPreprocessor,P.sendListener=w.payloadListener,w.overrideEndpointUrl||s.endpointUrl),i=(l._notificationManager=s.extensionConfig.NotificationManager,P.initialize(r,l.core,l,_,w),s.disablePageUnloadEvents||[]);jr(d,i,O),Gr(d,i,O),function a(n,e,t){var r=Fr(Dr,t),i=zr([Nr],n,e,r);return!(i=zr([xr],function(e){var t=se();n&&t&&"visible"===t.visibilityState&&n(e)},e,r)||i)&&e?a(n,null,t):i}(p,s.disablePageShowEvents,O)}catch(o){throw l.setInitialized(!1),o}},function(){return{coreConfig:s,core:c,extensions:u}})},l.processTelemetry=function(e,t){sa(e,l.identifier);var n=(t=l._getTelCtx(t)).getExtCfg(l.identifier),r=!!w.disableTelemetry;(r=n?r||!!n.disableTelemetry:r)||L||(w[Uu]&&(e.iKey=w[Uu]),n&&n[Uu]&&(e.iKey=n[Uu]),i(e,!0),$?u(2,2):o()),l.processNext(e,t)},l._doTeardown=function(e,t){var n;u(2,2),L=!0,P.teardown(),Wr(null,O),Xr(null,O),n=Fr(Dr,O),Kr([Nr],null,n),Kr([xr],null,n),r()},l.setEventQueueLimits=function(e,t){B=0<e?e:1e4,D=0<t?t:0,N();var n=e<F;if(!n&&0<k)for(var r=1;!n&&r<=3;r++){var i=Q[r];i&&i.batches&&ne(i.batches,function(e){e&&e.count()>=k&&(n=!0)})}h(!0,n)},l.pause=function(){c(),V=!0,P.pause()},l.resume=function(){V=!1,P.resume(),o()},l.addResponseHandler=function(e){P._responseHandlers.push(e)},l._loadTransmitProfiles=function(e){c(),t(),K=Wc,o(),te(e,function(e,t){var n,r=t.length;2<=r&&(n=2<r?t[2]:0,t.splice(0,r-2),t[1]<0&&(t[0]=-1),0<t[1]&&0<t[0]&&(r=t[0]/t[1],t[0]=Math.ceil(r)*t[1]),0<=n&&0<=t[1]&&n>t[1]&&(n=t[1]),t.push(n),z[e]=t)})},l.flush=function(e,t,n){void 0===e&&(e=!0),V||(n=n||1,e?null==U?(c(),y(1,0,n),U=s(function(){U=null,function r(e,t){a(1,0,t),m(),function n(e){P.isCompletelyIdle()?e():U=s(function(){U=null,n(e)},.25)}(function(){e&&e(),0<R.length?U=s(function(){U=null,r(R.shift(),t)},0):(U=null,o())})}(t,n)},0)):R.push(t):(e=c(),a(1,1,n),null!==t&&t!==undefined&&t(),e&&o()))},l.setMsaAuthTicket=function(e){P.addHeader(au,e)},l.hasEvents=function(){return 0<F},l._setTransmitProfile=function(e){K!==e&&z[e]!==undefined&&(c(),K=e,o())},l._backOffTransmission=function(){G<4&&(G++,c(),o())},l._clearBackOff=function(){G&&(G=0,c(),o())},re(l,"_setTimeoutOverride",function(){return M.set},function(e){M=Mu(e,M.clear)}),re(l,"_clearTimeoutOverride",function(){return M.clear},function(e){M=Mu(M.set,e)})}),e}e(qu,Lu=t);var Fu=qu;function Bu(){}Bu.prototype._setCommonProperties=function(e,t){ue(t.cV)&&(e.ext=e.ext||{},e.ext.mscv=e.ext.mscv||{},e.ext.mscv.cV=t.cV),e.baseData.operationName=t.operationName,e.baseData.latencyMs=t.latencyMs,e.baseData.serviceErrorCode=t.serviceErrorCode||-1,e.baseData.succeeded=t.succeeded,e.baseData.requestStatus=t.requestStatus,e.baseData.requestMethod=t.requestMethod,ue(t.target)&&(e.baseData.target=t.target),ue(t.responseContentType)&&(e.baseData.responseContentType=t.responseContentType),ue(t.protocol)&&(e.baseData.protocol=t.protocol),ue(t.protocolStatusCode)&&(e.baseData.protocolStatusCode=t.protocolStatusCode)};var zu=Bu;function Ku(){this._qosEvent=new zu}Ku.prototype._setQosProperties=function(e,t){this._qosEvent._setCommonProperties(e,t),e.baseData.dependencyOperationName=t.dependencyOperationName,e.baseData.dependencyName=t.dependencyName,e.baseData.dependencyType=t.dependencyType||"WebService",ue(t.dependencyOperationVersion)&&(e.baseData.dependencyOperationVersion=t.dependencyOperationVersion),ue(t.responseSizeBytes)&&(e.baseData.responseSizeBytes=t.responseSizeBytes)};var ju=Ku;function Wu(){this._qosEvent=new zu}Wu.prototype._setQosProperties=function(e,t){this._qosEvent._setCommonProperties(e,t),ue(t.callerIpAddress)&&(e.baseData.callerIpAddress=t.callerIpAddress),ue(t.callerName)&&(e.baseData.callerName=t.callerName),ue(t.requestSizeBytes)&&(e.baseData.requestSizeBytes=t.requestSizeBytes),ue(t.operationVersion)&&(e.baseData.operationVersion=t.operationVersion)};var Gu=Wu;function Xu(n){te(n,function(e,t){ue(t)&&("{}"!==JSON.stringify(t)||"callback"===e)||delete n[e]})}function Qu(e,t,n){var r;return e&&e[n]&&(r=e[n],delete e[n]),t[n]||r}function Ju(e,t){var n={},r=se();if(r)for(var i=r.querySelectorAll("meta"),a=0;a<i.length;a++){var o=i[a];o.name&&!o.name.toLowerCase().indexOf(e)&&(n[t?o.name.replace(e,""):o.name]=o.content)}return n}var Yu="properties";function $u(e,t,n){t=e[t],n=e[n];return t&&n?za(t,n):0}function Zu(e,t,n,r,i){n=$u(n,r,i);return n?el(e,t,Ea(n)):0}function el(e,t,n){var r=0;return e&&t&&n&&((e.ajaxPerf=e.ajaxPerf||{})[t]=n,r=1),r}var tl=function(){this.openDone=!1,this.setRequestHeaderDone=!1,this.sendDone=!1,this.abortDone=!1,this.stateChangeAttached=!1},nl=function Sf(e,t,n){var r=this,i=n,m="responseText";r.perfMark=null,r.completed=!1,r.requestHeadersSize=null,r.requestHeaders=null,r.responseReceivingDuration=null,r.callbackDuration=null,r.ajaxTotalDuration=null,r.aborted=0,r.pageUrl=null,r.requestUrl=null,r.requestSize=0,r.method=null,r.status=null,r.requestSentTime=null,r.responseStartedTime=null,r.responseFinishedTime=null,r.callbackFinishedTime=null,r.endTime=null,r.xhrMonitoringState=new tl,r.clientFailure=0,r.traceID=e,r.spanID=t,ie(Sf,r,function(v){v.getAbsoluteUrl=function(){return v.requestUrl?(e=Va(v.requestUrl))?e.href:void 0:null;var e},v.getPathName=function(){return v.requestUrl?ha(i,(e=v.method,t=v.requestUrl,e?e.toUpperCase()+" "+t:t)):null;var e,t},v.CreateTrackItem=function(e,t,n){if(v.ajaxTotalDuration=Math.round(1e3*za(v.requestSentTime,v.responseFinishedTime))/1e3,v.ajaxTotalDuration<0)return null;(e={id:"|"+v.traceID+"."+v.spanID,target:v.getAbsoluteUrl(),name:v.getPathName(),type:e,startTime:null,duration:v.ajaxTotalDuration,success:200<=+v.status&&+v.status<400,responseCode:+v.status,method:v.method})[Yu]={HttpMethod:v.method};var r,i,a,o,s,c,u,l,f,d,p,g,h;return v.requestSentTime&&(e.startTime=new Date,e.startTime.setTime(v.requestSentTime)),o=(r=v).perfTiming,s=(i=e)[Yu]||{},c=0,g="connectEnd",h="requestStart",p="responseEnd",u="transferSize",l="encodedBodySize",f="decodedBodySize",d="serverTiming",o?(c=(c=(c=(c=(c=(c=(c|=Zu(s,"End",o,"redirectStart","End"))|Zu(s,"domainLookup",o,"domainLookupStart","domainLookupEnd"))|Zu(s,"connect",o,"connectStart",g))|Zu(s,"request",o,h,"requestEnd"))|Zu(s,"response",o,"responseStart",p))|Zu(s,"networkConnect",o,"startTime",g))|Zu(s,"sentRequest",o,h,p),c=(c|=el(s,"duration",g=o.duration||$u(o,"startTime",p)||0))|el(s,"perfTotal",g),(h=o[d])&&(a={},ne(h,function(e,t){var t=ze(e.name||""+t),n=a[t]||{};te(e,function(e,t){!("name"!==e&&J(t)||We(t))||!(t=n[e]?n[e]+";"+t:t)&&J(t)||(n[e]=t)}),a[t]=n}),c|=el(s,d,a)),c=(c=(c|=el(s,u,o[u]))|el(s,l,o[l]))|el(s,f,o[f])):r.perfMark&&(c|=el(s,"missing",r.perfAttempts)),c&&(i[Yu]=s),t&&0<et(v.requestHeaders).length&&(e[Yu]=e[Yu]||{},e[Yu].requestHeaders=v.requestHeaders),n&&(p=n())&&((g=p.correlationContext)&&(e.correlationContext=g),p.headerMap&&0<et(p.headerMap).length&&(e[Yu]=e[Yu]||{},e[Yu].responseHeaders=p.headerMap),v.errorStatusText&&400<=v.status&&(h=p.type,e[Yu]=e[Yu]||{},""!==h&&"text"!==h||(e[Yu][m]=p[m]?p.statusText+" - "+p[m]:p.statusText),"json"===h&&(e[Yu][m]=p.response?p.statusText+" - "+JSON.stringify(p.response):p.statusText))),e}})},rl="ai.ajxmn.",il="diagLog",al="ajaxData",ol="fetch",sl="trackDependencyDataInternal",cl=0;function ul(e){var t=!1,n=(Tn()&&(t=!(G(n=XMLHttpRequest[q])||G(n.open)||G(n.send)||G(n.abort))),function(e){var t=((e=(e=void 0===e?null:e)?e:(t=fn()||{})?(t.userAgent||p).toLowerCase():p)||p).toLowerCase();if(g(t,$t))return e=se()||{},Math.max(parseInt(t.split($t)[1]),e[zt]||0);if(g(t,Zt)){e=parseInt(t.split(Zt)[1]);if(e)return e+4}return null}());if(t=!(n&&n<9)&&t)try{(new XMLHttpRequest)[al]={};var r=XMLHttpRequest[q].open;XMLHttpRequest[q].open=r}catch(i){t=!1,fl(e,15,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:Z(i)})}return t}function ll(e){var t="";try{G(e)||G(e[al])||G(e[al].requestUrl)||(t+="(url: '"+e[al].requestUrl+"')")}catch(n){}return t}function fl(e,t,n,r,i){ce(e[il](),1,t,n,r,i)}function dl(e,t,n,r,i){ce(e[il](),2,t,n,r,i)}function pl(t,n,r){return function(e){fl(t,n,r,{ajaxDiagnosticsMessage:ll(e.inst),exception:Z(e.err)})}}function gl(e,t){return e&&t?e.indexOf(t):-1}function hl(e,t,n,r,i,a){var o=e.length;if(0<o){for(var s={core:t,xhr:r,input:i,init:a,traceId:n.traceID,spanId:n.spanID,traceFlags:n.traceFlags},c=0;c<o;++c){var u=e[c];if(u&&u.fn)try{u.fn.call(null,s)}catch(l){u=s.core;ce(u&&u.logger,1,64,"Dependency listener [#"+c+"] failed: "+m(l),{exception:Z(l)},!0)}}n.traceID=s.traceId,n.spanID=s.spanId,n.traceFlags=s.traceFlags}}e(yl,vl=t),yl.getDefaultConfig=function(){return{maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!1,excludeRequestFromAutoTrackingPatterns:undefined,disableCorrelationHeaders:!1,distributedTracingMode:1,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:undefined,correlationHeaderExcludePatterns:undefined,appId:undefined,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"],addRequestContext:undefined}},yl.getEmptyConfig=function(){var t=this.getDefaultConfig();return te(t,function(e){t[e]=undefined}),t},yl.prototype.processTelemetry=function(e,t){this.processNext(e,t)},yl.identifier="AjaxDependencyPlugin";var vl,ml=yl;function yl(){var T,b,I,E,x,S,r,N,w,_,P,D,k,A,O,M,L,R,U,V,t,H,e=vl.call(this)||this;return e.identifier=yl.identifier,e.priority=120,ie(yl,e,function(f,a){var o=a._addHook;function e(){var e=$();b=T=!1,I=e&&e.host&&e.host.toLowerCase(),E=yl.getEmptyConfig(),A=D=_=w=S=x=!1,L=M=!(O={}),V=U=R=P=N=null,t=k=r=0,H=[]}function d(t){var n=!0;return(t||E.ignoreHeaders)&&ne(E.ignoreHeaders,function(e){if(e.toLowerCase()==t.toLowerCase())return n=!1,-1}),n}function s(e,t,n){o(e?Xi(e[q],t,n,!1):null)}function p(e,t,n){var r=!1,i=((J(t)?t:(t||{}).url||"")||"").toLowerCase();if(ne(R,function(e){var t=e;J(e)&&(t=RegExp(e)),r=r||t.test(i)}),r)return r;var a=gl(i,"?"),o=gl(i,"#");return-1!==(a=-1===a||-1!==o&&o<a?o:a)&&(i=i.substring(0,a)),G(e)?G(t)||(r="object"==typeof t&&!0===t[xa]||!!n&&!0===n[xa]):r=!0===e[xa]||!0===i[xa],(r=!(r||!i||-1===Je(qa,i.toLowerCase()))||r)?O[i]||(O[i]=1):O[i]&&(r=!0),r}function c(e,t){var n=!0,r=b;return G(e)||(n=!0===t||!G(e[al])),r&&n}function g(){var e=null;return!(e=f.core&&f.core.getTraceCtx?f.core.getTraceCtx(!1):e)&&N&&N.telemetryTrace?Ka(N.telemetryTrace):e}function u(n){n[al].xhrMonitoringState.stateChangeAttached=ee(n,"readystatechange",function(){try{n&&4===n.readyState&&c(n)&&((a=(i=n)[al]).responseFinishedTime=Ba(),a.status=i.status,v("xmlhttprequest",a,function(){try{var e=a.CreateTrackItem("Ajax",x,function(){var e,n,t={statusText:i.statusText,headerMap:null,correlationContext:l(i),type:i.responseType,responseText:function(e){try{var t=e.responseType;if(""===t||"text"===t)return e.responseText}catch(n){}return null}(i),response:i.response};return A&&(e=i.getAllResponseHeaders())&&(e=Y(e).split(/[\r\n]+/),n={},ne(e,function(e){var e=e.split(": "),t=e.shift(),e=e.join(": ");d(t)&&(n[t]=e)}),t.headerMap=n),t}),t=void 0;try{U&&(t=U({status:i.status,xhr:i}))}catch(n){dl(f,104,"Failed to add custom defined request context as configured call back may missing a null check.")}e?(t!==undefined&&(e.properties=de(de({},e.properties),t)),f[sl](e)):r(null,{requestSentTime:a.requestSentTime,responseFinishedTime:a.responseFinishedTime})}finally{try{i[al]=null}catch(n){}}},function(e){r(e,null)}))}catch(t){var e=Z(t);e&&-1!==gl(e.toLowerCase(),"c00c023f")||fl(f,16,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:ll(n),exception:e})}function r(e,t){t=t||{};t.ajaxDiagnosticsMessage=ll(i),e&&(t.exception=Z(e)),dl(f,14,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",t)}var i,a},V)}function l(e){try{var t,n=e.getAllResponseHeaders();if(null!==n&&-1!==gl(n.toLowerCase(),F[8]))return t=e.getResponseHeader(F[0]),Fa.getCorrelationContext(t)}catch(r){dl(f,18,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:ll(e),exception:Z(r)})}}function h(e,t){var n;t.requestUrl&&P&&D&&(n=pn())&&X(n.mark)&&(e=P+e+"#"+ ++cl,n.mark(e),(e=n.getEntriesByName(e))&&1===e.length&&(t.perfMark=e[0]))}function v(a,o,s,c){var u=o.perfMark,l=pn(),f=E.maxAjaxPerfLookupAttempts,d=E.ajaxPerfLookupDelay,p=o.requestUrl,g=0;!function h(){try{if(l&&u){g++;for(var e=null,t=l.getEntries(),n=t.length-1;0<=n;n--){var r=t[n];if(r){if("resource"===r.entryType)r.initiatorType!==a||-1===gl(r.name,p)&&-1===gl(p,r.name)||(e=r);else if("mark"===r.entryType&&r.name===u.name){o.perfTiming=e;break}if(r.startTime<u.startTime-1e3)break}}}!u||o.perfTiming||f<=g||!1===o["async"]?(u&&X(l.clearMarks)&&l.clearMarks(u.name),o.perfAttempts=g,s()):setTimeout(h,d)}catch(i){c(i)}}()}function m(e){var t="";try{G(e)||(t+="(url: '".concat("string"==typeof e?e:e.url,"')"))}catch(n){fl(f,15,"Failed to grab failed fetch diagnostics message",{exception:Z(n)})}return t}function y(e,r,i,a,o,s){function c(e,t,n){n=n||{};n.fetchDiagnosticsMessage=m(i),t&&(n.exception=Z(t)),dl(f,e,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",n)}o&&(o.responseFinishedTime=Ba(),o.status=r,v("fetch",o,function(){var e,t=o.CreateTrackItem("Fetch",x,s);try{U&&(e=U({status:r,request:i,response:a}))}catch(n){dl(f,104,"Failed to add custom defined request context as configured call back may missing a null check.")}t?(e!==undefined&&(t.properties=de(de({},t.properties),e)),f[sl](t)):c(14,null,{requestSentTime:o.requestSentTime,responseFinishedTime:o.responseFinishedTime})},function(e){c(18,e,null)}))}function C(e){if(e&&e.headers)try{var t=e.headers.get(F[0]);return Fa.getCorrelationContext(t)}catch(n){dl(f,18,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:m(e),exception:Z(n)})}}e(),f.initialize=function(e,t,n,r){var i,l;f.isInitialized()||(a.initialize(e,t,n,r),V=Fr(Qn("ajax"),t&&t.evtNamespace&&t.evtNamespace()),i=mi(null,n=e,f.core),E=yl.getEmptyConfig(),te(yl.getDefaultConfig(),function(e,t){E[e]=i.getConfig(yl.identifier,e,t)}),r=E.distributedTracingMode,x=E.enableRequestHeaderTracking,S=E.enableAjaxErrorStatusText,D=E.enableAjaxPerfTracking,k=E.maxAjaxCallsPerView,A=E.enableResponseHeaderTracking,R=E.excludeRequestFromAutoTrackingPatterns,U=E.addRequestContext,_=0===r||1===r,w=1===r||2===r,D&&(t=n.instrumentationKey||"unkwn",P=5<t.length?rl+t.substring(t.length-5)+".":rl+t+"."),M=!!E.disableAjaxTracking,L=!!E.disableFetchTracking,!ul(f)||M||b||(s(XMLHttpRequest,"open",{ns:V,req:function(e,t,n,r){var i,a,o,s;M||(i=(e=e.inst)[al],!p(e,n)&&c(e,!0)&&(i&&i.xhrMonitoringState.openDone||(i=e,t=t,n=n,r=r,s=(a=g())&&a.getTraceId()||Jr(),o=Jr().substr(0,16),(s=new nl(s,o,f[il]())).traceFlags=a&&a.getTraceFlags(),s.method=t,s.requestUrl=n,s.xhrMonitoringState.openDone=!0,s.requestHeaders={},s["async"]=r,s.errorStatusText=S,i[al]=s),u(e)))},hkErr:pl(f,15,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),s(XMLHttpRequest,"send",{ns:V,req:function(e,t){var n;M||(n=(e=e.inst)[al],c(e)&&!n.xhrMonitoringState.sendDone&&(h("xhr",n),n.requestSentTime=Ba(),f.includeCorrelationHeaders(n,undefined,undefined,e),n.xhrMonitoringState.sendDone=!0))},hkErr:pl(f,17,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),s(XMLHttpRequest,"abort",{ns:V,req:function(e){var t;M||(t=(e=e.inst)[al],c(e)&&!t.xhrMonitoringState.abortDone&&(t.aborted=1,t.xhrMonitoringState.abortDone=!0))},hkErr:pl(f,13,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),s(XMLHttpRequest,"setRequestHeader",{ns:V,req:function(e,t,n){!M&&x&&c(e=e.inst)&&d(t)&&(e[al].requestHeaders[t]=n)},hkErr:pl(f,71,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),b=!0),(r=!(e=B())||G(e.Request)||G(e.Request[q])||G(e[ol])?null:e[ol])&&(n=B(),l=r.polyfill,L||T?l&&o(Xi(n,ol,{ns:V,req:function(e,t,n){p(null,t,n)}})):(o(Xi(n,ol,{ns:V,req:function(e,t,n){var r,i,a,o,s,c,u;L||!T||p(null,t,n)||l&&b||(r=e.ctx(),i=t,a=n,s=(o=g())&&o.getTraceId()||Jr(),c=Jr().substr(0,16),(s=new nl(s,c,f[il]())).traceFlags=o&&o.getTraceFlags(),s.requestSentTime=Ba(),s.errorStatusText=S,i instanceof Request?s.requestUrl=i?i.url:"":s.requestUrl=i,c="GET",a&&a.method?c=a.method:i&&i instanceof Request&&(c=i.method),s.method=c,u={},x&&new Headers((a?a.headers:0)||i instanceof Request&&i.headers||{}).forEach(function(e,t){d(t)&&(u[t]=e)}),s.requestHeaders=u,h("fetch",s),o=s,(c=f.includeCorrelationHeaders(o,t,n))!==n&&e.set(1,c),r.data=o)},rsp:function(e,n){var r;L||(r=e.ctx().data)&&(e.rslt=e.rslt.then(function(t){return y(0,(t||{}).status,n,t,r,function(){var n,e={statusText:t.statusText,headerMap:null,correlationContext:C(t)};return A&&(n={},t.headers.forEach(function(e,t){d(t)&&(n[t]=e)}),e.headerMap=n),e}),t})["catch"](function(e){throw y(0,0,n,null,r,null,e.message),e}))},hkErr:pl(f,15,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),T=!0),l&&(n[ol].polyfill=l)),(t=f.core.getPlugin(So))&&(N=t.plugin.context))},f._doTeardown=function(){e()},f.trackDependencyData=function(e,t){f[sl](e,t)},f.includeCorrelationHeaders=function(e,t,n,r){var i,a,o,s,c=f._currentWindowHost||I;return hl(H,f.core,e,r,t,n),t?(Fa.canIncludeCorrelationHeader(E,e.getAbsoluteUrl(),c)&&((n=n||{}).headers=new Headers(n.headers||t instanceof Request&&t.headers||{}),_&&(i="|"+e.traceID+"."+e.spanID,n.headers.set(F[3],i),x&&(e.requestHeaders[F[3]]=i)),(a=E.appId||N&&N.appId())&&(n.headers.set(F[0],F[2]+a),x&&(e.requestHeaders[F[0]]=F[2]+a)),w&&(G(o=e.traceFlags)&&(o=1),s=si(ii(e.traceID,e.spanID,o)),n.headers.set(F[4],s),x&&(e.requestHeaders[F[4]]=s))),n):r?(Fa.canIncludeCorrelationHeader(E,e.getAbsoluteUrl(),c)&&(_&&(i="|"+e.traceID+"."+e.spanID,r.setRequestHeader(F[3],i),x&&(e.requestHeaders[F[3]]=i)),(a=E.appId||N&&N.appId())&&(r.setRequestHeader(F[0],F[2]+a),x&&(e.requestHeaders[F[0]]=F[2]+a)),w&&(G(o=e.traceFlags)&&(o=1),s=si(ii(e.traceID,e.spanID,o)),r.setRequestHeader(F[4],s),x&&(e.requestHeaders[F[4]]=s))),r):undefined},f[sl]=function(e,t,n){-1===k||r<k?(2!==E.distributedTracingMode&&1!==E.distributedTracingMode||"string"!=typeof e.id||"."===e.id[e.id.length-1]||(e.id+="."),G(e.startTime)&&(e.startTime=new Date),e=xo(e,yo.dataType,yo.envelopeType,f[il](),t,n),f.core.track(e)):r===k&&fl(f,55,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0),++r},f.addDependencyListener=function(e){var n={id:t++,fn:e};return H.push(n),{remove:function(){ne(H,function(e,t){if(e.id===n.id)return H.splice(t,1),-1})}}}}),e}var Cl,Tl=function Nf(t){var n=aa(),r=Jr();ie(Nf,this,function(e){e.getTraceId=function(){return t&&t.getTraceCtx&&t.getTraceCtx().getTraceId()||r},e.getLastPageViewId=function(){return n}})};function bl(){var f,a,o,d,p,e=Cl.call(this)||this;return e.identifier="QosPlugin",e.version="3.2.3",ie(bl,e,function(u,l){function r(e,t){i(e,t),u.core.track(e)}function n(){f=null,d={market:"",serverImpressionGuid:""},p={},a=new ju,o=new Gu}function i(n,e){ue(e)&&te(e,function(e,t){n.data[e]=t})}n(),u.includeCorrelationHeaders=function(e,t,n,r){var i,e=l.includeCorrelationHeaders(e,t,n,r);return p.enableCvHeaders&&(i=u.getCv())&&(t||r)&&(i.increment(),r=i.getValue(),t?((e=e||n||{}).headers&&X(e.headers.append)||(e.headers=new Headers(e.headers||t instanceof Request&&t.headers||{})),e.headers.append("MS-CV",r)):e.setRequestHeader("MS-CV",r)),e},u.initialize=function(e,t,n){var r,i,a,o,s=e.extensionConfig=e.extensionConfig||[],c=(s[u.identifier]=s[u.identifier]||{},p=u._qosConfig=(c=s[u.identifier],a={enableCorsCorrelation:!1,correlationHeaderExcludedDomains:[],correlationHeaderExcludePatterns:null,disableCorrelationHeaders:!1,maxAjaxCallsPerView:-1,disableAjaxTracking:!1,disableFetchTracking:!1,enableCvHeaders:!1,appId:undefined,callback:{pageName:null,id:null},autoCapture:{msTags:!0},coreData:{requestUri:"",pageName:""}},o=[],te(a,function(e,t){t&&Be(t)&&o.push(e)}),i=o,Xu(r=c),ne(i,function(e){Be(r[e])?Xu(r[e]):delete r[e]}),le(!0,a,c)),s[ml.identifier]=p,l.initialize(e,t,n),i=u._qosConfig,a={},le(!0,Ju("awa-",!0),a=i.autoCapture&&i.autoCapture.msTags?Ju("ms.",!1):a)),s=(d.market=Qu(c,p.coreData,"market"),d.serverImpressionGuid=Qu(c,p.coreData,"serverImpressionGuid"),(t.getPlugin("CorrelationVectorPlugin")||{}).plugin),e=(t.getPlugin("WebAnalyticsPlugin")||{}).plugin;e&&e.id?u.id=e.id:u.id=new Tl(t),p.enableCvHeaders&&(s?(p.enableCvHeaders=!0,f=s):(ce(u.diagLog(),2,508,'Enable cV headers it is set to "true" in config.  However, cv plugin is not available. Disabling adding Cv in dependency requests '),p.enableCvHeaders=!1))},u.processTelemetry=function(e,t){sa(e,u.identifier);e.baseType===yo.dataType&&("Ms.Qos.OutgoingServiceRequest"!==e.name&&(e.name="Ms.Web.OutgoingRequest",e.baseData=e.baseData||{},e.baseData.properties=e.baseData.properties||{},e.baseData.properties.parentId=e.baseData.properties.parentId||u.id.getLastPageViewId(),delete e.baseData.method),e.latency=1),u.processNext(e,t)},u.trackDependencyData=function(e,t){u.trackDependencyDataInternal(e,t)},u.trackDependencyDataInternal=function(e,t,n){var r,i,n=n||{};ue(e.cV)&&(n.mscv={},n.mscv.cV=e.cV),e.id=p.callback&&p.callback.id?p.callback.id():aa(),(t=t||{}).pageName=ue(t.pageName)?t.pageName:(r=u._qosConfig).callback&&"function"==typeof r.callback.pageName?r.callback.pageName():r.coreData.pageName||(2<(r=(($()||{}).pathname||"").split("/")).length&&""!==r[2]?r[2]:"Home"),t.uri=ue(t.uri)?t.uri:(r=u._qosConfig,i=$()||{},r.coreData.requestUri||i.href),t.market=(ue(t.market)?t:d).market,t.serverImpressionGuid=(ue(t.serverImpressionGuid)?t:d).serverImpressionGuid,l.trackDependencyDataInternal(e,t,n)},u.trackServiceOutgoingQos=function(e,t){var n={name:"Ms.Qos.OutgoingServiceRequest",baseType:"RemoteDependencyData",ext:{},baseData:{},data:{},latency:3};a._setQosProperties(n,e),i(n,t),r(n)},u.trackServiceIncomingQos=function(e,t){var n={name:"Ms.Qos.IncomingServiceRequest",baseType:"RequestData",ext:{},baseData:{},data:{},latency:3};o._setQosProperties(n,e),i(n,t),r(n)},u.getCv=function(){return f?f.getCv():null},u._doTeardown=function(e,t){l._doTeardown(e,t),n()}}),e}e(bl,Cl=ml);var Il,El=bl,xl=function(){},Sl=(i.prototype.isInit=function(){return this.isValid(this.storedCv())},i.prototype.storedCv=function(){return this._base.concat(".",this._currentElement.toString())},i.prototype.getValue=function(){var e=this.storedCv();if(this.isValid(e))return e},i.prototype.getRelatedCv=function(){return this._relatedCv},i.prototype.incrementExternal=function(e){if(this.isValid(e)){for(var t=e.split("."),n=t.length,r=(t[n-1]=""+(parseInt(t[n-1],10)+1),""),i=0;i<n;i++)r+=t[i],i<n-1&&(r+=".");e=(t[0].length===this._cv2Constants.baseLength?this._cv2Constants:this._cv1Constants).maxCorrelationVectorLength;if(r.length<=e)return r}},i.prototype.canExtend=function(){var e=this.storedCv();return!!this.isValid(e)&&this._isLeqThanMaxCorrelationVectorLength(e.length+2)},i.prototype.canIncrement=function(){return!!this.isValid(this.storedCv())&&this._isLeqThanMaxCorrelationVectorLength(this._base.length+1+(this._currentElement+1+"").length)},i.prototype.setValue=function(e){var t;return this.isValid(e)?(1<(t=e.lastIndexOf("."))?(this._base=e.substr(0,t),this._currentElement=parseInt(e.substr(1+t),10)):(this._base=e,this._currentElement=0),!0):(ce(this._traceLogger,2,516,"Cannot set invalid correlation vector value"),!1)},i.prototype.setValueLegacy=function(e){return this.setValue(e),this.getValue()},i.prototype.seed=function(){for(var e="",t=0;t<this._currentCvConstants.baseLength;t++)e+=this._base64CharSet[0|Math.floor(Math.random()*this._base64CharSet.length)]||"";return e},i.prototype.extend=function(){if(this.canExtend())return this._base=this._base.concat(".",this._currentElement.toString()),this._currentElement=0,this.storedCv()},i.prototype.increment=function(){if(this.canIncrement())return this._currentElement=this._currentElement+1,this.storedCv()},i.prototype.validateWithCv1=function(e){if(this._cv1Constants.validationPattern.test(e)&&e.length<=this._cv1Constants.maxCorrelationVectorLength)return!0},i.prototype.validateWithCv2=function(e){if(this._cv2Constants.validationPattern.test(e)&&e.length<=this._cv2Constants.maxCorrelationVectorLength)return!0},i.prototype.useCv1=function(){this._currentCvConstants=this._cv1Constants},i.prototype.useCv2=function(){this._currentCvConstants=this._cv2Constants},i.prototype.isValid=function(e){if(e){var t=e.split(".")[0];if(t)return 16===t.length?(this._cvVersionAtLatestValidityCheck=1,this.validateWithCv1(e)):22===t.length?(this._cvVersionAtLatestValidityCheck=2,this.validateWithCv2(e)):void 0}},i.prototype.init=function(e){return e?this.setValue(e):(this._base=this.seed(),this._currentElement=0),this.getValue()},i.prototype.initLegacy=function(e){return this.init(e)},i.prototype._isLeqThanMaxCorrelationVectorLength=function(e){return 1===this._cvVersionAtLatestValidityCheck?e<=this._cv1Constants.maxCorrelationVectorLength:e<=this._cv2Constants.maxCorrelationVectorLength},i);function i(e,t){this._base="",this._currentElement=0,this._base64CharSet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",this._cv1Constants=new xl,this._cv2Constants=new xl,this._cvVersionAtLatestValidityCheck=2,this._traceLogger=Pn(t),this._cv1Constants.maxCorrelationVectorLength=63,this._cv1Constants.baseLength=16,this._cv1Constants.validationPattern=RegExp("^["+this._base64CharSet+"]{"+this._cv1Constants.baseLength.toString()+"}(.[0-9]+)*$"),this._cv2Constants.maxCorrelationVectorLength=127,this._cv2Constants.baseLength=22,this._cv2Constants.validationPattern=RegExp("^["+this._base64CharSet+"]{"+this._cv2Constants.baseLength.toString()+"}(.[0-9]+)*$"),this._currentCvConstants=this._cv2Constants,this.init(e)}function Nl(e){var t=Il.call(this)||this;return t.identifier="CorrelationVectorPlugin",t.priority=159,t.version="3.2.3",t._cvInitialValue=e,t._cv=t._cvInitialValue?new Sl(t._cvInitialValue):new Sl,t}e(Nl,Il=t),Nl.prototype.initialize=function(e,t,n){Il.prototype.initialize.call(this,e,t,n)},Nl.prototype.processTelemetry=function(e,t){sa(e,this.identifier),e.ext=e.ext||{},e.ext.mscv=e.ext.mscv||{},e.ext.mscv.cV||this._cv&&this._cv.isInit()&&(e.ext.mscv.cV=this._cv.getValue()),this.processNext(e,t)},Nl.prototype.getCv=function(){return this._cv||ce(this.diagLog(),2,513,"Correlation Vector has not been initialized."),this._cv};var wl=Nl;function _l(e){try{return e.responseText}catch(t){}return""}Dl.prototype.makeRequest=function(e,t,n,r){var i,a,o,s=this;Cn()?((a=new XDomainRequest).open(n,e),a.onload=function(){r(200,_l(a),{})},a.onerror=function(){r(400,_l(a),{})},a.ontimeout=function(){r(500,_l(a),{})},a.onprogress=function(){},setTimeout(function(){a.send(t)},0)):vn()?fetch(e,((i={body:t,method:n,credentials:"include"})[xa]=!0,i)).then(function(e){var n={};e.headers&&e.headers.forEach(function(e,t){n[t]=e}),r(e.status,JSON.stringify(e.json()),n)})["catch"](function(e){r(0,e,{})}):Tn()&&((o=ca(n,e,!0,!0)).onload=function(){r(o.status,_l(o),s._convertAllHeadersToMap(o.getAllResponseHeaders()))},o.onerror=function(){r(o.status,_l(o),s._convertAllHeadersToMap(o.getAllResponseHeaders()))},o.ontimeout=function(){r(o.status,_l(o),s._convertAllHeadersToMap(o.getAllResponseHeaders()))},o.send(t))},Dl.prototype._convertAllHeadersToMap=function(e){var t={};if(e)for(var n=e.split("\n"),r=0;r<n.length;++r){var i=n[r].split(": ");t[i[0]]=i[1]}return t};var Pl=Dl;function Dl(){}Al.prototype.setAuthType=function(e){var t="";switch(e){case 2:t="aad.js";break;case 1:t="msa.js"}this._getLoginUrlPath=this._endpointUrl+"auth/GetLoginUrl/"+t,this._signOutPath=this._endpointUrl+"auth/SignOut/"+t},Al.prototype.startAuthHandshake=function(){var c=this;this._requestHandler.makeRequest(this._getLoginUrlPath,"","GET",function(e,t,n){try{var r,i,a=JSON.parse(t).webResult.authLoginUrl,o=se();o&&(r=o.createElement("iframe"),i=Math.floor(1e4*Math.random()),r.id="telframe"+i,r.style.display="none",r.src=a,o.body.appendChild(r),c._loginIframeId=r.id)}catch(s){ce(c._logger,1,501,"Error with auth handshake process: "+s)}})},Al.prototype.cleanAuthIFrame=function(){var e,t=se();t&&(e=t.getElementById(this._loginIframeId))&&t.body.removeChild(e)},Al.prototype.signOutAndClearCookies=function(){this._requestHandler.makeRequest(this._signOutPath,"","POST",function(e,t,n){})};var kl=Al;function Al(e,t,n){this._endpointUrl="",this._logger=n,this._endpointUrl=e,this._requestHandler=new Pl,this.setAuthType(t)}var Ol,Ml="authBounced",Ll=(e(Rl,Ol=t),Rl);function Rl(){var u,l,f,d,r,p,g,h,v=Ol.call(this)||this;return v.identifier="AuthPlugin",v.priority=190,v.version="3.2.3",ie(Rl,v,function(i,e){function o(){var t;0!=f.authType&&(t=u.getWParam,u.getWParam=function(){var e=0;return(e=1===f.authType?8|e:16|e)|(t?t():0)})}function s(e,t){var n=se();if(n){n=n.createElement("a"),t=(n.href=t,n.protocol+"//"+n.hostname);if((e.origin===t||"https://login.microsoftonline.com"===e.origin)&&e.data)try{a()}catch(r){ce(i.diagLog(),1,502,"Error receiving auth redirect message: "+r)}}}function a(){r&&clearTimeout(r),l&&l.cleanAuthIFrame(),d=!1,c()}function c(){ne(g,function(e){e.ctx.processNext(e.item)}),g=[]}function n(){d=!1,p=r=f=l=u=null,g=[]}n(),i.initialize=function(e,t,n){var r=v,n=(u=t,Ol.prototype.initialize.call(v,e,t,n),h=Fr(Qn(r.identifier),t.evtNamespace&&t.evtNamespace()),r.identifier),i=(f=e.extensionConfig[n]||{},e.extensionConfig[n]=f,d=!1,p=f.handShakeTimeoutMs||5e3,f.overrideAuthEndpointUrl||e.endpointUrl);function a(){c()}l=new kl(i,f.authType,r.diagLog()),o();t=e.disablePageUnloadEvents||[],jr(a,t,h),Gr(a,t,h),n=oe();n&&ee(n,"message",function(e){s(e,i)},h)},i.processTelemetry=function(e,t){var n;t=i._getTelCtx(t),sa(e,i.identifier),0!==f.authType&&f.loggedInStatusCallback&&!0===f.loggedInStatusCallback()&&!ia(n=y(i.core),Ml)&&(n.set(Ml,Qe(new Date),1800),d=!0,r=setTimeout(function(){a()},p),l.startAuthHandshake()),d?g.push({ctx:t,item:e}):i.processNext(e,t)},i.signOut=function(){y(u).del(Ml),l.signOutAndClearCookies(),a()},i.setAuthType=function(e){a(),f.authType=e,l.setAuthType(e),o()},i._doTeardown=function(e,t){a(),Br(oe(),"message",null,h),Wr(null,h),Xr(null,h),n()},re(i,"_authHandler",function(){return l}),re(i,"_authConfig",function(){return f}),re(i,"_eventQueue",function(){return g}),re(i,"_handshakeInProgress",function(){return d}),re(i,"_evtNamespace",function(){return"."+h})}),v}function Ul(e,t){this._config=e,this.core=t,this.isEnabled=!1,this.isSyncDone=!1,this.isEnabled=this._config&&(!0===this._config.adobe||!0===this._config.google),this._cookieMgr=y(t)}Ul.prototype.idSync=function(e){try{var t,n,r,i;this.isEnabled&&!this.isSyncDone&&e&&ue((t=JSON.parse(e)).webResult)&&(!0===this._config.adobe&&(a=this._cookieMgr,n=(o=t.webResult)&&ue(o.anid)?o.anid:ia(a,"ANON").slice(0,34),(ue(t.webResult.mc1)||ue(n))&&(i=this._getAdobeUrl(t.webResult.mc1,n),Tn()&&((r=new XMLHttpRequest).open("GET",i,!0),r.setRequestHeader("Accept","application/json; charset=utf-8"),r.send()))),!0===this._config.google&&ue(t.webResult.mc1)&&(i=this._getGoogleUrl(t.webResult.mc1),(new Image).src=i),this.isSyncDone=!0)}catch(s){}var a,o},Ul.prototype._getAdobeUrl=function(e,t){var n="https://dpm.demdex.net/id?d_orgid=EA76ADE95776D2EC7F000101@AdobeOrg&d_cid=";return ue(e)&&(n+="88170%01"+e+"%010"),ue(t)&&(ue(e)&&(n+="%01"),n+="88169%01"+t+"%010"),n+"&d_ver=2"},Ul.prototype._getGoogleUrl=function(e){return"https://ad.doubleclick.net/ddm/activity/src=6952136;type=store0;cat=oneds;u58="+e+";match_id="+e+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?"};var Vl,Hl=Ul,ql=(e(Fl,Vl=t),Fl);function Fl(){var a,o=Vl.call(this)||this;return o.identifier="IdSyncPlugin",o.version="3.2.3",ie(Fl,o,function(n,e){n.initialize=function(e,t,n){var r=o.identifier,i=e.extensionConfig[r]||{},r=(e.extensionConfig[r]=i,t.getPlugin("PostChannel"));r&&(a=new Hl(i,t),r.plugin.addResponseHandler(function(e){a.idSync(e)}))},n.processTelemetry=function(e,t){n.processNext(e,t)},n._doTeardown=function(e,t){a=null}}),o}e(a,Bl=E),a.prototype.initialize=function(e,t){var n=this;if((n._config=e).extensions=e.extensions||[],e.extensions=e.extensions.concat([n._propertyManager,n._webAnalytics,n._qosPlugin,n._cvPlugin]),n._config.jsllConfiguration&&n._config.jsllConfiguration.shareAuthStatus&&(e.extensions=e.extensions.concat(n._authPlugin)),n._config.jsllConfiguration&&n._config.jsllConfiguration.ix&&(e.extensions=e.extensions.concat(n._idSyncPlugin)),t&&(e.extensions=e.extensions.concat(t)),e.channels&&0<e.channels.length){for(var r=!1,i=0;i<e.channels[0].length;i++)if(e.channels[0][i].identifier===n._postChannel.identifier){r=!0;break}r||e.channels[0].push(n._postChannel)}else e.channels=[[n._postChannel]];n.initializeConfigurations();try{Bl.prototype.initialize.call(this,e,[]),n._config.jsllConfiguration&&(n._config.jsllConfiguration.coreData&&ue(n._config.jsllConfiguration.coreData.appId)&&(n._propertyManager.getPropertiesContext().app.id=n._config.jsllConfiguration.coreData.appId),ue(n._config.jsllConfiguration.logLevel)&&(n.logger.consoleLoggingLevel=function(){return n._config.jsllConfiguration.logLevel}))}catch(a){ce(n.logger,1,514,"Failed to initialize SDK."+a)}},a.prototype.getPropertyManager=function(){return this._propertyManager},a.prototype.getPropertyManagerConfig=function(){return(this._config.extensionConfig||[])[this._propertyManager.identifier]},a.prototype.getPostChannel=function(){return this._postChannel},a.prototype.getPostChannelConfig=function(){return(this._config.extensionConfig||[])[this._postChannel.identifier]},a.prototype.getWebAnalyticsExtension=function(){return this._webAnalytics},a.prototype.getWebAnalyticsExtensionConfig=function(){return(this._config.extensionConfig||[])[this._webAnalytics.identifier]},a.prototype.getQosExtension=function(){return this._qosPlugin},a.prototype.getQosExtensionConfig=function(){return(this._config.extensionConfig||[])[this._qosPlugin.identifier]},a.prototype.getAuthExtension=function(){return this._authPlugin},a.prototype.getAuthExtensionConfig=function(){return(this._config.extensionConfig||[])[this._authPlugin.identifier]},a.prototype.getCvExtension=function(){return this._cvPlugin},a.prototype.getIdSyncExtension=function(){return this._idSyncPlugin},a.prototype.getIdSyncExtensionConfig=function(){return(this._config.extensionConfig||[])[this._idSyncPlugin.identifier]},a.prototype.initializeConfigurations=function(){var e=this,t=e._config.extensionConfig=e._config.extensionConfig||[],n=(t[e._qosPlugin.identifier]=e._config.qosConfiguration||{},t[e._postChannel.identifier]=e._config.channelConfiguration||{},t[e._propertyManager.identifier]=e._config.propertyConfiguration||{}),r=t[e._webAnalytics.identifier]=e._config.webAnalyticsConfiguration||{},i=t[e._qosPlugin.identifier]=e._config.qosConfiguration||{},a=t[e._idSyncPlugin.identifier]=e._config.idSyncConfiguration||{},t=t[e._authPlugin.identifier]=e._config.authConfiguration||{authType:0,loggedInStatusCallback:function(){return!1}},o=e._config.jsllConfiguration;o&&(e._config.endpointUrl=o.endpoint,i.disableAjaxTracking=!o.enableAjaxTracking,i.disableFetchTracking=!o.enableFetchTracking,o.autoCapture&&(r.autoCapture=r.autoCapture||{},r.autoCapture.click=o.autoCapture.click,r.autoCapture.jsError=o.autoCapture.jsError,r.autoCapture.lineage=o.autoCapture.lineage,r.autoCapture.onLoad=o.autoCapture.onLoad,r.autoCapture.onUnload=o.autoCapture.onUnload,r.autoCapture.pageView=o.autoCapture.pageView,r.autoCapture.resize=o.autoCapture.resize,r.autoCapture.scroll=o.autoCapture.scroll,r.autoCapture.msTags=o.autoCapture.msTags,i.autoCapture=i.autoCapture||{},i.autoCapture.msTags=o.autoCapture.msTags),o.ix&&(a.adobe=o.ix.a,a.google=o.ix.g),o.coreData&&(r.coreData=r.coreData||{},r.coreData.market=o.coreData.market,r.coreData.pageName=o.coreData.pageName,r.coreData.pageTags=o.coreData.pageTags,r.coreData.pageType=o.coreData.pageType,r.coreData.product=o.coreData.product,r.coreData.referrerUri=o.coreData.referrerUri,r.coreData.requestUri=o.coreData.requestUri,n.env=o.coreData.env,n.expId=o.coreData.expId,n.serviceName=o.coreData.serviceName),o.callback&&(r.callback=r.callback||{},r.callback.contentUpdatePageTags=o.callback.contentUpdatePageTags,r.callback.pageActionContentTags=o.callback.pageActionContentTags,r.callback.pageActionPageTags=o.callback.pageActionPageTags,r.callback.pageName=o.callback.pageName,r.callback.pageViewPageTags=o.callback.pageViewPageTags,r.callback.signedinStatus=o.callback.signedinStatus,t.loggedInStatusCallback=o.callback.signedinStatus,n.callback=n.callback||{},n.callback.userConsentDetails=o.callback.userConsentDetailsCallback),o.debounceMs&&(r.debounceMs=r.debounceMs||{},r.debounceMs.scroll=o.debounceMs.scroll,r.debounceMs.resize=o.debounceMs.resize),r.cookiesToCollect=o.cookiesToCollect,r.mscomCookies=o.mscomCookies,r.urlCollectHash=o.urlCollectHash,r.urlCollectQuery=o.urlCollectQuery,r.useDefaultContentName=o.useDefaultContentName,r.useShortNameForContentBlob=o.useShortNameForContentBlob,r.biBlobAttributeTag=o.biBlobAttributeTag,r.useShortNameForContentBlob=o.useShortNameForContentBlob,r.isLoggedIn=o.isLoggedIn,r.manualPageUnload=o.manualPageUnload,r.syncMuid=o.syncMuid,r.muidDomain=o.muidDomain,n.userConsentCookieName=o.userConsentCookieName,n.userConsented=o.userConsented,r.shareAuthStatus=o.shareAuthStatus,o.authMethod&&(t.authType=o.authMethod))};var Bl,zl=a;function a(){var e=Bl.call(this)||this;return e._postChannel=new Fu,e._propertyManager=new jc,e._webAnalytics=new Us,e._qosPlugin=new El,e._cvPlugin=new wl,e._authPlugin=new Ll,e._idSyncPlugin=new ql,e}function o(e){console&&console.warn(e+": Method not available in 1DS")}s.prototype.stringifyField=function(e,t){o("stringifyField")},s.prototype.getMuidHost=function(e){return o("getMuidHost"),""},s.prototype.isOfCorrectType=function(e,t){return o("isOfCorrectType"),!0},s.prototype.getOs=function(){return o("getOs"),""},s.prototype.getUserAgent=function(){return o("getUserAgent"),""},s.prototype.extractFieldFromObject=function(e,t){return o("extractFieldFromObject"),""},s.prototype.extend=function(e,t,n,r,i){o("extend")},s.prototype.isValueAssigned=function(e){o("isValueAssigned")},s.prototype.removeNonObjectsAndInvalidElements=function(e,t){o("removeNonObjectsAndInvalidElements")},s.prototype.dateToISOString=function(e){return o("dateToISOString"),""},s.prototype.getAppIdWithPrefix=function(e){return o("getAppIdWithPrefix"),""},s.prototype.removeInvalidElements=function(e){o("removeInvalidElements")},s.prototype.findClosestByAttribute=function(e,t){return o("findClosestByAttribute"),null},s.prototype.findClosestAnchor=function(e){return o("findClosestAnchor"),null},s.prototype.returnDomObjectIfjQuery=function(e){return o("returnDomObjectIfjQuery"),null},s.prototype.getPerformanceData=function(){o("getPerformanceData")},s.prototype.bracketIt=function(e){return o("bracketIt"),""},s.prototype.getPageLoadTime=function(){return o("getPageLoadTime"),-1},s.prototype.isElementTrulyVisible=function(e,t){return o("isElementTrulyVisible"),!1},s.prototype.addPageUnloadEventListener=function(e){return o("addPageUnloadEventListener"),!1},s.prototype.addEventHandler=function(e,t){return o("addEventHandler"),!1},s.prototype.attachEvent=function(e,t,n,r){return o("attachEvent"),!1};var Kl=s;function s(){}c.prototype.capturePageView=function(e){var t=null;e&&(t={referrerUri:e.referrerUri,behavior:e.behavior,pageName:e.pageName,pageTags:e.pageTags,isAuto:e.isAuto}),this._sku.getWebAnalyticsExtension().capturePageView(t)},c.prototype.captureContentUpdate=function(e){var t=null;e&&(t={content:e.content,isDomComplete:e.isDomComplete,actionType:e.actionType,behavior:e.behavior,pageName:e.pageName,pageTags:e.pageTags,isAuto:e.isAuto}),this._sku.getWebAnalyticsExtension().captureContentUpdate(t)},c.prototype.capturePageAction=function(e,t){var n=null;t&&(n={refUri:t.referrerUri,actionType:t.actionType,targetUri:t.targetUri,content:t.content,contentTags:t.contentTags,behavior:t.behavior,pageName:t.pageName,pageTags:t.pageTags,isAuto:t.isAuto}),this._sku.getWebAnalyticsExtension().capturePageAction(e,n)},c.prototype.captureContentPageAction=function(e){this.capturePageAction(null,e)},c.prototype.captureClientError=function(e){var t={};t.exception=e.errorInfo,this._sku.getWebAnalyticsExtension().trackException(t)},c.prototype.captureQos=function(e){var t,n;e&&e.data&&e.data.baseData&&(t={id:"",duration:e.data.baseData.latencyMs,success:e.data.baseData.succeeded,responseCode:+(""+e.data.baseData.protocolStatusCode),type:e.data.baseData.dependencyType,target:e.data.baseData.targetUri},n={},te(e.data.baseData,function(e,t){"latencyMs"!==e&&"succeeded"!==e&&"protocolStatusCode"!==e&&"dependencyType"!==e&&"targetUri"!==e&&(n[e]=t)}),te(e.data,function(e,t){"baseData"!==e&&"baseType"!==e&&(n[e]=t)}),this._sku.getQosExtension().trackDependencyData(t,n))},c.prototype.getUri=function(e){return es(this._sku.getWebAnalyticsExtensionConfig(),e)},c.prototype.getPageContent=function(e){return o("getPageContent"),""},c.prototype.getTimeToClick=function(){return o("getTimeToClick"),-1},c.prototype.initialize=function(e){o("ClickstreamTracker initialize")},c.prototype.captureCorsDisallowed=function(e){o("captureCorsDisallowed")},c.prototype.captureEventTooLong=function(e){o("captureEventTooLong")},c.prototype.captureEventDrop=function(e){o("captureEventDrop")},c.prototype.captureSwap=function(e){o("captureSwap")},c.prototype.domReadyTasksWrapper=function(){o("domReadyTasksWrapper")},c.prototype.domReadyTasks=function(){o("domReadyTasks")},c.prototype.onDomReadyDo=function(e){o("onDomReadyDo")};var jl=c;function c(e){this.testHook={},this._sku=e}Gl.prototype.getCookie=function(e,t){return e=e,pr(null)?ia(y(null),e):""},Gl.prototype.setCookie=function(e,t,n){pr(null)&&y(null).set(e,t,86400*n,null,"/")},Gl.prototype.deleteCookie=function(e){pr(null)&&y(null).del(e)},Gl.prototype.getCookieKeyValue=function(e,t){return o("getCookieKeyValue"),undefined},Gl.prototype.getAllCookies=function(){return o("getAllCookies"),undefined};var Wl=Gl;function Gl(){}Ql.prototype.init=function(){o("ErrorHandler init")};var Xl=Ql;function Ql(){}Yl.prototype.recordTimeSpan=function(e,t){return o("recordTimeSpan"),-1};var Jl=Yl;function Yl(){}Zl.prototype.get=function(e){o("get")},Zl.prototype.post=function(e){o("post")},Zl.prototype.put=function(e){o("put")},Zl.prototype["delete"]=function(e){o("delete")},Zl.prototype.patch=function(e){o("patch")},Zl.prototype.alwaysAddCvToRequestHeader=function(){return o("alwaysAddCvToRequestHeader"),!0},Zl.prototype.doNotChangeSupportCors=function(){return o("doNotChangeSupportCors"),!0},Zl.prototype.setTargetUriOverride=function(e){o("setTargetUriOverride")};var $l=Zl;function Zl(){}tf.prototype.isInit=function(){return this._sku.getCvExtension().getCv().isInit()},tf.prototype.canExtend=function(){return this._sku.getCvExtension().getCv().canExtend()},tf.prototype.canIncrement=function(){return this._sku.getCvExtension().getCv().canIncrement()},tf.prototype.isValid=function(e){return this._sku.getCvExtension().getCv().isValid(e)},tf.prototype.getValue=function(){return this._sku.getCvExtension().getCv().getValue()},tf.prototype.setValue=function(e){this._sku.getCvExtension().getCv().setValueLegacy(e)},tf.prototype.init=function(e){return this._sku.getCvExtension().getCv().initLegacy(e)},tf.prototype.extend=function(){return this._sku.getCvExtension().getCv().extend()},tf.prototype.increment=function(){return this._sku.getCvExtension().getCv().increment()},tf.prototype.incrementExternal=function(e){return this._sku.getCvExtension().getCv().incrementExternal(e)},tf.prototype.useCv1=function(){this._sku.getCvExtension().getCv().useCv1()},tf.prototype.useCv2=function(){this._sku.getCvExtension().getCv().useCv2()};var ef=tf;function tf(e){this._sku=e}rf.prototype.getVisitorId=function(){return this._sku.getPropertyManager().getPropertiesContext().user.localId},rf.prototype.getMuidUserId=function(e){var t=this._sku.getPropertyManager().getPropertiesContext().user.localId;return ue(t)?"t:"+t:""},rf.prototype.setDeviceClass=function(e){this._sku.getPropertyManager().getPropertiesContext().device.deviceClass=e},rf.prototype.getDeviceClass=function(){return this._sku.getPropertyManager().getPropertiesContext().device.deviceClass},rf.prototype.setAppUserId=function(e){o("setAppUserId")},rf.prototype.getAppUserId=function(){return o("getAppUserId"),""},rf.prototype.readExpIdFromCookie=function(e){return o("readExpIdFromCookie"),""},rf.prototype.getImpressionGuid=function(){return o("getImpressionGuid"),""},rf.prototype.getGroups=function(){return o("getGroups"),""},rf.prototype.setExpIdCookieName=function(e){return o("setExpIdCookieName"),""},rf.prototype.readExpIdFromCoreData=function(e){return o("readExpIdFromCoreData"),""},rf.prototype.getPageViewImpressionGuid=function(){return o("getPageViewImpressionGuid"),""};var nf=rf;function rf(e){this._sku=e}of.prototype.init=function(e){o("Ix init")},of.prototype.set=function(e){o("Ix set")};var af=of;function of(){this.testHook={}}cf.prototype.logError=function(e){this._sku.logger.warnToConsole(e)},cf.prototype.logWarning=function(e){this._sku.logger.warnToConsole(e)},cf.prototype.logInformation=function(e){this._sku.logger.warnToConsole(e)};var sf=cf;function cf(e){this._sku=e}lf.prototype.sendError=function(e,t){o("sendError")},lf.prototype.sendApiComplete=function(e){o("sendApiComplete")},lf.prototype.sendJsllEvent=function(e){o("sendJsllEvent")},lf.prototype.SendOrScheduleEvent=function(e,t){o("SendOrScheduleEvent")},lf.prototype.overrideQueueBehavior=function(e){o("overrideQueueBehavior")},lf.prototype.drainQueuedEvents=function(){o("drainQueuedEvents")},lf.prototype.batchEventsByNumber=function(e){o("batchEventsByNumber")},lf.prototype.batchQueuedEvents=function(){o("batchQueuedEvents")},lf.prototype.addEventToQueue=function(e){o("addEventToQueue")};var uf=lf;function lf(){}u.prototype.init=function(e){e.useDefaultContentName==undefined&&(e.useDefaultContentName=!0),e.useShortNameForContentBlob==undefined&&(e.useShortNameForContentBlob=!1);e=(this._awaConfig=e).advancedConfig||{};e.instrumentationKey=this._awaConfig.instrumentationKey,e.jsllConfiguration=this._awaConfig,this.sku.initialize(e,[]),this.isInitialized=this.sku.isInitialized()},u.prototype.writeEvent=function(e,t){var n=e;if(Q(n))for(var r=0;r<n.length;r++)this.sku.track(this.transformCustomEvent(n[r]));else this.sku.track(this.transformCustomEvent(n))},u.prototype.getConfig=function(){return this._awaConfig},u.prototype.extendCoreData=function(e){this.sku.getWebAnalyticsExtension().updateCoreDataConfig(e)},u.prototype.capabilitiesCheck=function(){JSON&&JSON.stringify||(this.logger.logError("Unable to write event: the global JSON.stringify method does not exist"),this.isAvailable=!1)},u.prototype.getSignedInStatus=function(){return ns(this.sku.getWebAnalyticsExtensionConfig())},u.prototype._validateAndTranslateEvent=function(e){return{event:e}},u.prototype.sanitizeUrl=function(e){var t=document.createElement("a");return t.href=e,document.body.appendChild(t),document.body.removeChild(t),t&&e?ts(this.sku.getWebAnalyticsExtensionConfig(),t):""},u.prototype.sanitizeCurrentUrl=function(){return window.location?ts(this.sku.getWebAnalyticsExtensionConfig(),window.location):""},u.prototype.getQueryStringParameters=function(){return o("getQueryStringParameters"),""},u.prototype._registerSchemas=function(e){o("_registerSchemas")},u.prototype.sendEventThroughIframe=function(e){o("sendEventThroughIframe")},u.prototype.isEventValid=function(e){return o("isEventValid"),!0},u.prototype.translateEventFromIntermediateStructure=function(e){o("translateEventFromIntermediateStructure")},u.prototype.firstEventDone=function(){o("firstEventDone")},u.prototype.firstEventDoneTasks=function(){o("firstEventDoneTasks")},u.prototype.resetFirstEvent=function(){o("resetFirstEvent")},u.prototype.transformCustomEvent=function(n){var r={name:n.name,baseType:n.data&&n.data.baseType?n.data.baseType:""};return r.baseData=r.baseData||{},n.data&&n.data.baseData&&te(n.data.baseData,function(e,t){r.baseData[e]=t}),r.data=r.data||{},n.data&&te(n.data,function(e,t){"baseData"!==e&&(r.data[e]=n.data[e])}),ue(n.serviceName)&&(r.ext=r.ext||{},r.ext.intweb=r.ext.intweb||{},r.ext.intweb.serviceName=n.serviceName),ue(n.cV)&&(r.ext=r.ext||{},r.ext.mscv=r.ext.mscv||{},r.ext.mscv.cV=n.cV),ue(n.appId)&&(r.ext=r.ext||{},r.ext.app=r.ext.app||{},r.ext.app.id=n.appId),ue(n.env)&&(r.ext=r.ext||{},r.ext.app=r.ext.app||{},r.ext.app.env=n.env),r};r=u;function u(){var t=this;this.isAvailable=!0,this.requestBody="",this._schemas=[],this.testHook={},this.OnSuccessfulVortexRequest=function(){},this.sku=new zl,this.ct=new jl(this.sku),this.cv=new ef(this.sku),this.ids=new nf(this.sku),this.ix=new af,this.logger=new sf(this.sku),this.timespanHandler=new Jl,this.service=new $l,this.utils=new Kl,this.cookie=new Wl,this.errorHandler=new Xl,this.vortexEvents=new uf,this.behavior=ls,this.behaviorKeys=[],te(ls,function(e){t.behaviorKeys.push(e)}),this.actionType=Yo}B().awa=new r,l.JavascriptLoggingLibrary=r;var ff=l,we="__esModule",t={value:!0},E=Object.defineProperty;if(E)try{return void E(ff,we,t)}catch(wf){}typeof t.value!==undefined&&(ff[we]=t.value)};"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).oneDS=e.oneDS||{});
//# sourceMappingURL=ms.jsll-3.2.3.min.js.map
